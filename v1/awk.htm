<!doctype html>
<html lang="cs">
<head profile="http://www.w3.org/2005/10/profile">
<meta charset="UTF-8">

<title>AWK − Linux: Kniha kouzel</title>

<link rel="stylesheet" type="text/css" href="lkk-20210117.css">
<link rel="alternate stylesheet" type="text/css" href="lkk-20210117-vk-svetly.css" title="Vysoký kontrast: světlá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20210117-vk-tmavy.css" title="Vysoký kontrast: tmavá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20210117-tmavy.css" title="Tmavý motiv">
<link rel="icon" type="image/png" href="obrazky/favicon.png">
</head>
<body>
<div id="nahore"></div>
<header>
<span class="left"><a href="index.htm"><img src="obrazky/favicon.png" width="16" height="16" alt=""></a> Linux: Kniha kouzel, vanilková příchuť 1.15 (17. ledna 2021)</span>
<span class="right"><span class="ico1"></span><span class="ico2"></span><span class="ico3"></span></span>
</header>
<nav class="menuokna">
<a href="#menukapitoly" class="menu"><span class="prvnipismeno">K</span>apitoly</a>
<a href="#menuosnova" class="menu"><span class="prvnipismeno">O</span>snova</a>
<a href="#menustitky" class="menu"><span class="prvnipismeno">Š</span>títky</a>
<a href="#menunapoveda" class="menu"><span class="prvnipismeno">N</span>ápověda</a>
<a href="predmluva.htm" rel="prev" title="1. Předmluva" accesskey="p" class="predchozi">Předchozí&nbsp;kapitola</a>
<a href="index.htm" class="prehled"><span class="prvnipismeno">P</span>řehled kapitol</a>
<a href="barvy-a-titulek.htm" rel="next" title="3. Barvy, titulek a výzva terminálu" accesskey="n" class="nasledujici">Následující&nbsp;kapitola</a>
</nav>

<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>

<!--
<nav class="horni">
<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>
<span class="prev">
<a href="predmluva.htm" rel="prev" title="1. Předmluva" accesskey="p">Předchozí&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm" accesskey="i">Přehled</a><span class="next"><!- -
- ->&nbsp;| <a href="barvy-a-titulek.htm" rel="next" title="3. Barvy, titulek a výzva terminálu" accesskey="n">Následující&nbsp;kapitola</a>
</span>
</nav>
-->


<article>

<h1 class="kapitola">2. <img src="obrazky/ik/awk.png" alt="" width="64" height="64"> AWK</h1>
<div class="varovani">
Řada 1.x vanilkové příchuti Linuxu: Knihy kouzel je od 1. října 2020
do 1. března 2023 ve stavu dlouhodobé pasivní údržby;
nahlášené chyby budou opravovány, ale aktivní vývoj se již věnuje novější
vývojové řadě určené pro novější verze operačního systému a programů.
Pokud nejste vázáni na starší verze programů, doporučuji vyhledat novou
verzi z aktivně vyvíjené vývojové řady.
</div>
<div class="stitky"><a href="x-stitky.htm#sprogrm">program</a>
<a href="x-stitky.htm#ssyntxe">syntaxe</a>
<a href="x-stitky.htm#szprcovntextu">zpracování textu</a>
</div>
<h2 id="cast1"><a href="#cast1"><span class="cislo">1.</span> Úvod</a></h2>
<p class="ponadpisu">
AWK je skriptovací nástroj pro jednoduché řádkově orientované zpracování textových souborů.
Jeho syntaxe vychází z bashe a jazyka C a navíc přidává literály regulárních výrazů
v obyčejných lomítkách. Ve srovnání s jemu příbuzným Perlem je syntaxe AWK
velmi umírněná a elegantní a jeho schopnosti omezené, což ho činí vhodným pro začátečníky,
ale nedostačujícím pro rozsáhlé projekty nebo projekty vyžadující specializovanou
funkcionalitu. GNU awk také není vhodné v situacích, kdy je nezbytný vysoký výkon
a nízká spotřeba paměti.
</p><p>
Skript AWK se skládá ze sekvence takzvaných „vzorků“ (podmínek)
a k nim příslušejících bloků příkazů. Jeho provádění si lze dobře představit,
jako by šlo o sérii podmínek „if“ v cyklu „foreach“. AWK dělí vstupní soubory
po řádcích (záznamech) a každý záznam rozdělí na sloupce a postupně testuje jeden
vzorek po druhém. Když vzorek vyhoví, příslušný blok příkazů se vykoná, jinak se přeskočí.
Navíc provádí AWK několik dalších, speciálních iterací, které vykonávají pouze bloky
příkazů označené určitým klíčovým slovem (např. BEGIN).
</p><p>
Vzorek nebo blok příkazů je dovoleno vynechat; vynecháme-li vzorek, blok příkazů se
vykoná pro každou řádku (ale ne ve speciálních iteracích); vynecháme-li blok příkazů,
automaticky se doplní „{print $0}“.
</p><p>
Nejčastějším tvarem vzorku je podmínka tvořená pouze literálem regulárního výrazu
(např. „/^a/“), taková podmínka se (nejen v tomto kontextu) automaticky rozšíří na
výraz „($0 ~ /^a/)“, tedy porovnání načteného řádku s uvedeným regulárním výrazem.
</p><p>
Pozor! V AWK se řádky v souboru, indexy sloupců v záznamu, indexy čísly indexovaných polí i pozice znaků v řetězci počítají vždy od 1, nikdy od nuly!
</p>

<h2 id="cast2"><a href="#cast2"><span class="cislo">2.</span> Definice</a></h2>
<ul><li><b>Vzorek</b> (pattern) je podmínka, která určuje, zda se daný blok příkazů má v dané iteraci skriptu provést. Podmínkou může být obecný výraz, nebo jedno z klíčových slov, která identifikují speciální iterace.
</li><li><b>Záznam</b> (record) je typicky řádka vstupního souboru. Způsob ukončení záznamu ve vstupních souborech lze změnit nastavením speciální proměnné „RS“ (record separator) na jiný než výchozí oddělovač (výchozí oddělovač je &quot;\n&quot;).
</li><li>Záznam se po načtení rozdělí do <b>sloupců</b> (fields). Způsob oddělení záznamů se nastavuje speciální proměnnou „FS“ (field separator); její výchozí hodnotou je mezera, která má speciální význam a považuje za oddělovač sloupců jakoukoliv neprázdnou posloupnost bílých znaků (odpovídá regulárnímu výrazu „\s+“).
</li><li>Regulární výraz může být zadán buď jako <b>literál</b> do lomítek, např. „/^a/“, nebo jako <b>dynamický regulární výraz</b>, kterým může být jakýkoliv řetězec či řetězcový výraz (např. &quot;^a&quot;). Tyto dva způsoby zadání jsou většinou víceméně rovnocenné, liší se požadavky na odzvláštnění (v literálu musíte odzvláštnit všechny výskyty znaku „/“, a to i uvnitř hranatých závorek) a tím, že dynamický regularní výraz se nikdy automaticky nedoplní o prefix „$0<span class="viditelnamezera">&nbsp;</span>~“, zatímco literál to dělá skoro vždy.
</li></ul>
<h2 id="cast3"><a href="#cast3"><span class="cislo">3.</span> Zaklínadla</a></h2>

<h3 id="cast3x1"><span><a href="#cast3x1" title="kapitola 3 (AWK), sekce 3 (Zaklínadla), podsekce 1 (Vzorky a bloky příkazů)"><sup>3/</sup>1 Vzorky a bloky příkazů</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z515458140"><span><a href="#z515458140">⊕</a></span></span>podmíněné vykonávání (obecně)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">podmínka</i> <span class="volznak">[</span><i class="dopln">{blok příkazů}</i><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z638890425"><span><a href="#z638890425">☙</a></span></span>podmíněné vykonávání (příklady)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">PROMENNA == 1 &amp;&amp; /^X/ {ZAJIMAVY_RADEK = $0}</div>
<div class="radekzaklinadla">$1 ~ /ABC/ {print $2}</div>
<div class="radekzaklinadla">priznak {next}</div>
<div class="radekzaklinadla">$0 != &quot;xyz&quot; {print &quot;ne-XYZ:&quot;;print $0;}</div>
<div class="radekzaklinadla">!/^#/</div>
<div class="radekzaklinadla">length($0) &gt; 5 || /^%/ {print &quot;Řádka &quot; FNR &quot; podmínku splnila.&quot;}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z99483474"><span><a href="#z99483474">⠗</a></span></span>vykonat blok příkazů pro každou řádku<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">{blok příkazů}</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z643283193"><span><a href="#z643283193">䷔</a></span></span>před otevřením prvního souboru<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">BEGIN <i class="dopln">{blok příkazů}</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1756075956"><span><a href="#z1756075956">☝</a></span></span>před definitivním ukončením skriptu<span class="cislo">#5 </span><sup><a href="#kapwkppc1" id="kapwkppcr1" title="Pozor: zvláštní průchod END se vykoná i tehdy, je-li skript ukončován příkazem „exit“!">(1)</a></sup></div><div class="radky">
<div class="radekzaklinadla">END <i class="dopln">{blok příkazů}</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1982504305"><span><a href="#z1982504305">ⴻ</a></span></span>po otevření souboru (ale před načtením prvního řádku)<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">BEGINFILE <i class="dopln">{blok příkazů}</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1783887500"><span><a href="#z1783887500">⣧</a></span></span>po zpracování poslední řádky souboru<span class="cislo">#7 </span><sup><a href="#kapwkppc2" id="kapwkppcr2" title="Pozor: zvláštní průchod ENDFILE se nevykoná, pokud je zpracování souboru předčasně ukončeno, např. příkazem „nextfile“ či „exit“.">(2)</a></sup></div><div class="radky">
<div class="radekzaklinadla">ENDFILE <i class="dopln">{blok příkazů}</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z119339260"><span><a href="#z119339260">⬗</a></span></span>řádky „od“ až „do“ včetně hranic<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">podmínka od</i>,<i class="dopln">podmínka do</i> <span class="volznak">[</span><i class="dopln">{blok příkazů}</i><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z984148301"><span><a href="#z984148301">⚞</a></span></span>řádky „od“ až „do“ kromě hranic<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla">{if (!<i class="dopln">pomocná_proměnná</i>) {<i class="dopln">pomocná_proměnná</i> = <i class="dopln">podmínka od</i>} else if (<i class="dopln">podmínka do</i>) {<i class="dopln">pomocná_proměnná</i> = 0} else <i class="dopln">{blok příkazů}</i>}</div>
</div></div>

<h3 id="cast3x2"><span><a href="#cast3x2" title="kapitola 3 (AWK), sekce 3 (Zaklínadla), podsekce 2 (Skalární proměnné)"><sup>3/</sup>2 Skalární proměnné</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z296977641"><span><a href="#z296977641">⋆</a></span></span><b>přečíst</b> hodnotu proměnné<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">název_proměnné</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z982645020"><span><a href="#z982645020">⢸</a></span></span><b>přiřadit</b> hodnotu proměnné<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">název_proměnné</i> = <i class="dopln">hodnota</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1610929198"><span><a href="#z1610929198">⠥</a></span></span>získat hodnotu proměnné prostředí (obecně/příklad)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">ENVIRON[<i class="dopln">řetězec-s-názvem-proměnné</i>]</div>
<div class="radekzaklinadla">ENVIRON[&quot;PATH&quot;]</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1782240809"><span><a href="#z1782240809">▆</a></span></span>přiřadit hodnotu proměnné prostředí<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z133932929"><span><a href="#z133932929">✄</a></span></span>nepřímý přístup k proměnné (příklad)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">PROMENNA = &quot;hodnota&quot;;</div>
<div class="radekzaklinadla">UKAZATEL = &quot;PROMENNA&quot;;</div>
<div class="radekzaklinadla">print SYMTAB[UKAZATEL];</div>
<div class="radekzaklinadla">SYMTAB[UKAZATEL] = &quot;nova hodnota&quot;</div>
</div></div>

<h3 id="cast3x3"><span><a href="#cast3x3" title="kapitola 3 (AWK), sekce 3 (Zaklínadla), podsekce 3 (Asociativní pole)"><sup>3/</sup>3 Asociativní pole</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2081856034"><span><a href="#z2081856034">≵</a></span></span><b>přečíst</b> hodnotu prvku pole<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">pole</i>[<i class="dopln">index</i>]</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z348982331"><span><a href="#z348982331">⠏</a></span></span><b>přiřadit</b> hodnotu prvku pole<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">pole</i>[<i class="dopln">index</i>] = <i class="dopln">hodnota</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1659497097"><span><a href="#z1659497097">❏</a></span></span><b>existuje</b> prvek pole?<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">index</i> in <i class="dopln">pole</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1255629256"><span><a href="#z1255629256">●</a></span></span><b>smazat</b> z pole jeden prvek/všechny prvky<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">delete <i class="dopln">pole</i>[<i class="dopln">index</i>];</div>
<div class="radekzaklinadla">delete <i class="dopln">pole</i>;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1764082139"><span><a href="#z1764082139">⎩</a></span></span><b>počet prvků</b><span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">length(<i class="dopln">pole</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z21807932"><span><a href="#z21807932">⋤</a></span></span>zkopírovat celé pole<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">delete <i class="dopln">cílové_pole</i>;</div>
<div class="radekzaklinadla">for (<i class="dopln">pomocná_proměnná</i> in <i class="dopln">pole</i>) {<i class="dopln">cílové_pole</i>[<i class="dopln">pomocná_proměnná</i>] = <i class="dopln">pole</i>[<i class="dopln">pomocná_proměnná</i>]}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z548029764"><span><a href="#z548029764">ᚒ</a></span></span>je proměnná pole?<span class="cislo">#7 </span><sup><a href="#kapwkppc3" id="kapwkppcr3" title="Tato funkce je nejužitečnější u parametrů funkcí; díky ní může funkce ověřit, že jí v určitém parametru bylo předáno pole, nebo naopak skalární hodnota.">(3)</a></sup></div><div class="radky">
<div class="radekzaklinadla">isarray(<i class="dopln">proměnná</i>)</div>
</div></div>

<h3 id="cast3x4"><span><a href="#cast3x4" title="kapitola 3 (AWK), sekce 3 (Zaklínadla), podsekce 4 (Asociativní pole: řazení)"><sup>3/</sup>4 Asociativní pole: řazení</a></span></h3>
<p class="ponadpisu">
Poznámka k řazení asociativních polí: výsledkem řazení asociativního pole je vždy pole indexované celými čísly od 1 do návratové hodnoty řadicí funkce.
</p><p>
V následujících příkazech: „<b>typ</b>“ může být „num“ (řadit jako čísla) nebo „str“ (řadit jako řetězce, ale podle pozice znaků ve znakové sadě Unicode); „<b>pořadí</b>“ může být „asc“ (vzestupně) nebo „desc“ (sestupně).
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z220725097"><span><a href="#z220725097">▷</a></span></span>seřadit <b>hodnoty</b> podle klíčů/podle hodnot/uživatelskou funkcí<span class="cislo">#1 </span><sup><a href="#kapwkppc4" id="kapwkppcr4" title="Při řazení uživatelskou funkcí musíte zadat funkci, která přijme parametry „klíč-L“, „hodnota-L“, „klíč-R“ a „hodnota-R“ v tomto pořadí a vrátí záporné číslo, je-li L-strana menší než R-strana; kladné číslo, je-li větší; a nulu, jsou-li si obě strany rovny.">(4)</a></sup></div><div class="radky">
<div class="radekzaklinadla">asort(<i class="dopln">pole</i>, <i class="dopln">cílové_pole</i>, &quot;@ind_<i class="dopln">typ</i>_<i class="dopln">pořadí</i>&quot;)</div>
<div class="radekzaklinadla">asort(<i class="dopln">pole</i>, <i class="dopln">cílové_pole</i>, &quot;@val_<i class="dopln">typ</i>_<i class="dopln">pořadí</i>&quot;)</div>
<div class="radekzaklinadla">asort(<i class="dopln">pole</i>, <i class="dopln">cílové_pole</i>, &quot;<i class="dopln">jméno_funkce</i>&quot;)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2047868188"><span><a href="#z2047868188">⚙</a></span></span>seřadit <b>klíče</b> podle klíčů/podle hodnot/uživatelskou funkcí<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">asorti(<i class="dopln">pole</i>, <i class="dopln">cílové_pole</i>, &quot;@ind_<i class="dopln">typ</i>_<i class="dopln">pořadí</i>&quot;)</div>
<div class="radekzaklinadla">asorti(<i class="dopln">pole</i>, <i class="dopln">cílové_pole</i>, &quot;@val_<i class="dopln">typ</i>_<i class="dopln">pořadí</i>&quot;)</div>
<div class="radekzaklinadla">asorti(<i class="dopln">pole</i>, <i class="dopln">cílové_pole</i>, &quot;<i class="dopln">jméno_funkce</i>&quot;)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1345644117"><span><a href="#z1345644117">⢉</a></span></span><b>příklad</b> řazení<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">pocet_jmen = asort(jmena, serazena_jmena, &quot;@val_str_asc&quot;);</div>
</div></div>

<h3 id="cast3x5"><span><a href="#cast3x5" title="kapitola 3 (AWK), sekce 3 (Zaklínadla), podsekce 5 (Podmínky, cykly a přepínač)"><sup>3/</sup>5 Podmínky, cykly a přepínač</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1710802397"><span><a href="#z1710802397">⚭</a></span></span>podmínka <b>if</b><span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">if (<i class="dopln">podmínka</i>) <i class="dopln">příkaz-nebo-blok</i> <span class="volznak">[</span>else <i class="dopln">příkaz-nebo-blok</i><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1195779369"><span><a href="#z1195779369">⬅</a></span></span>cyklus <b>while</b><span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">while (<i class="dopln">podmínka</i>) <i class="dopln">příkaz-nebo-blok</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z90333895"><span><a href="#z90333895">⢟</a></span></span>cyklus <b>for</b><span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">for (<span class="volznak">[</span><i class="dopln">inicializace</i><span class="volznak">]</span>; <span class="volznak">[</span><i class="dopln">podmínka</i><span class="volznak">]</span>; <span class="volznak">[</span><i class="dopln">iterace</i><span class="volznak">]</span>) <i class="dopln">příkaz-nebo-blok</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z661095078"><span><a href="#z661095078">⪘</a></span></span>cyklus <b>foreach</b><span class="cislo">#4 </span><sup><a href="#kapwkppc5" id="kapwkppcr5" title="Poznámka: cyklus přiřazuje proměnné hodnoty INDEXŮ daného pole v LIBOVOLNÉM pořadí! Pro přístup k hodnotám v poli je musíte indexovat.">(5)</a></sup></div><div class="radky">
<div class="radekzaklinadla">for (<i class="dopln">proměnná</i> in <i class="dopln">pole</i>) <i class="dopln">příkaz-nebo-blok</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z774422955"><span><a href="#z774422955">◛</a></span></span>přepínač <b>switch</b><span class="cislo">#5 </span><sup><a href="#kapwkppc6" id="kapwkppcr6" title="Přepínač switch pracuje v gawk stejně jako v jazyce C, ovšem pracuje s řetězci místo celých čísel.">(6)</a></sup></div><div class="radky">
<div class="radekzaklinadla">switch (<i class="dopln">skalární-výraz</i>) {</div>
<div class="radekzaklinadla"><span class="volznak">[</span><span class="volznak">[</span>case <i class="dopln">konstantní-hodnota</i>:<span class="volznak">]</span><span class="tritecky"></span> <span class="volznak">[</span>default:<span class="volznak">]</span> <i class="dopln">příkazy</i><span class="volznak">]</span><span class="tritecky"></span></div>
<div class="radekzaklinadla">}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1577377727"><span><a href="#z1577377727">▹</a></span></span>cyklus <b>do-while</b> (alternativy)<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">do { <i class="dopln">příkazy</i> } while (<i class="dopln">podmínka</i>);</div>
<div class="radekzaklinadla">do <i class="dopln">příkaz</i>; while (<i class="dopln">podmínka</i>);</div>
</div></div>

<h3 id="cast3x6"><span><a href="#cast3x6" title="kapitola 3 (AWK), sekce 3 (Zaklínadla), podsekce 6 (Řízení toku)"><sup>3/</sup>6 Řízení toku</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z84778260"><span><a href="#z84778260">⇬</a></span></span>opustit nejvnitřnější cyklus (for, while, do) nebo přepínač (switch)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">break;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1457203460"><span><a href="#z1457203460">◎</a></span></span>skočit na podmínku nejvnitřnějšího cyklu (for, while, do)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">continue;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1978105368"><span><a href="#z1978105368">✁</a></span></span>přejít na zpracování <b>dalšího řádku</b><span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">next;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z361790129"><span><a href="#z361790129">⢛</a></span></span>přejít na zpracování <b>dalšího souboru</b><span class="cislo">#4 </span><sup><a href="#kapwkppc7" id="kapwkppcr7" title="Poznámka: tento příkaz přeskočí odpovídající průchod ENDFILE!">(7)</a></sup></div><div class="radky">
<div class="radekzaklinadla">nextfile;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1735106804"><span><a href="#z1735106804">ᚏ</a></span></span>přejít na průchod END („<b>ukončit skript</b>“)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">exit <span class="volznak">[</span><i class="dopln">návratová-hodnota-programu</i><span class="volznak">]</span>;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1861850816"><span><a href="#z1861850816">➲</a></span></span>vypsat chybovou zprávu a skončit s chybou<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">print <i class="dopln">chybová-zpráva-řetězec</i> &gt; &quot;/dev/stderr&quot;</div>
<div class="radekzaklinadla">exit 1;</div>
</div></div>

<h3 id="cast3x7"><span><a href="#cast3x7" title="kapitola 3 (AWK), sekce 3 (Zaklínadla), podsekce 7 (Dělení záznamů na sloupce)"><sup>3/</sup>7 Dělení záznamů na sloupce</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z237589161"><span><a href="#z237589161">○</a></span></span>dělit sloupce libovolnou sekvencí <b>bílých znaků</b><span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">FS = &quot;<span class="viditelnamezera">&nbsp;</span>&quot;;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1085465225"><span><a href="#z1085465225">䷒</a></span></span>dělit sloupce tabulátorem<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">FS = &quot;\t&quot;;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1501049159"><span><a href="#z1501049159">⇫</a></span></span>dělit sloupce regulárním výrazem<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">FS = <i class="dopln">&quot;regulární výraz&quot;</i>;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1826266079"><span><a href="#z1826266079">䷲</a></span></span>zapnout/vypnout režim <b>sloupců pevné šířky</b><span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">FIELDWIDTHS = &quot;<i class="dopln">šířka-prvního-sloupce</i><span class="volznak">[</span><span class="viditelnamezera">&nbsp;</span><i class="dopln">šířka-dalšího-sloupce</i><span class="volznak">]</span><span class="tritecky"></span>&quot;</div>
<div class="radekzaklinadla">FIELDWIDTHS = &quot;&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1619569855"><span><a href="#z1619569855">✏</a></span></span>režim sloupců pevné šířky (příklad)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">FIELDWIDTHS = &quot;5 2 7&quot;<span class="prikladhodnoty">⊨ $1 = „12345“ $2 = „67“ $3 = „8901234“</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z68654234"><span><a href="#z68654234">䷂</a></span></span><b>vypnout</b> dělení na sloupce<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">FS = RS;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z561806082"><span><a href="#z561806082">⧔</a></span></span>každý znak jako samostatný sloupec<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">FS = &quot;&quot;;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1874686835"><span><a href="#z1874686835">▤</a></span></span>dělit sloupce výhradně mezerou<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla">FS = &quot;[<span class="viditelnamezera">&nbsp;</span>]&quot;;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1004917516"><span><a href="#z1004917516">≄</a></span></span>sloupce ze shod s regulárním výrazem (zapnout/vypnout)<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla">FPAT = <i class="dopln">&quot;neprázdný regulární výraz&quot;</i>;</div>
<div class="radekzaklinadla">FPAT = &quot;&quot;;</div>
</div></div>

<h3 id="cast3x8"><span><a href="#cast3x8" title="kapitola 3 (AWK), sekce 3 (Zaklínadla), podsekce 8 (Speciální proměnné)"><sup>3/</sup>8 Speciální proměnné</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z799561765"><span><a href="#z799561765">◃</a></span></span><b>načtená řádka</b> (bez oddělovače záznamu/s oddělovačem záznamu)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">$0</div>
<div class="radekzaklinadla">$0 RT</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1040984183"><span><a href="#z1040984183">⨍</a></span></span><b>číslo řádky</b> v souboru/celkově<span class="cislo">#2 </span><sup><a href="#kapwkppc8" id="kapwkppcr8" title="Do obou uvedených proměnných můžete také přiřadit novou hodnotu, a změnit tak číslování řádku pro zbytek souboru (resp. veškerého vstupu)">(8)</a></sup></div><div class="radky">
<div class="radekzaklinadla">FNR</div>
<div class="radekzaklinadla">NR</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1830529109"><span><a href="#z1830529109">ʖ</a></span></span><b>sloupec</b> načtené řádky (obecně/příklady...)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">$<i class="dopln">číselný-výraz</i></div>
<div class="radekzaklinadla">$2</div>
<div class="radekzaklinadla">$12</div>
<div class="radekzaklinadla">$(NF - 1)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1579782106"><span><a href="#z1579782106">⪛</a></span></span>název/index právě načítaného <b>souboru</b><span class="cislo">#4 </span><sup><a href="#kapwkppc9" id="kapwkppcr9" title="Nelze použít v blocích BEGIN a END.">(9)</a></sup></div><div class="radky">
<div class="radekzaklinadla">FILENAME</div>
<div class="radekzaklinadla">ARGIND</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1339120709"><span><a href="#z1339120709">⋲</a></span></span><b>počet sloupců</b> v načteném řádku<span class="cislo">#5 </span><sup><a href="#kapwkppc10" id="kapwkppcr10" title="Počet sloupců lze i nastavit.">(10)</a></sup></div><div class="radky">
<div class="radekzaklinadla">NF</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z37064287"><span><a href="#z37064287">ⵗ</a></span></span><b>výstupní oddělovač</b> sloupců/záznamů příkazu print<span class="cislo">#6 </span><sup><a href="#kapwkppc11" id="kapwkppcr11" title="Výchozí hodnota je „ “ (mezera); může být přednastaven také parametrem příkazové řádky „-F“.">(11)</a></sup></div><div class="radky">
<div class="radekzaklinadla">OFS = &quot;<span class="volznak">[</span><i class="dopln">řetězec</i><span class="volznak">]</span>&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1482307262"><span><a href="#z1482307262">۱</a></span></span>vstupní oddělovač záznamu (jeden znak/regulární výraz)<span class="cislo">#7 </span><sup><a href="#kapwkppc12" id="kapwkppcr12" title="Výchozí hodnotou je konec řádku „\n“.">(12)</a></sup></div><div class="radky">
<div class="radekzaklinadla">RS = &quot;<i class="dopln">znak</i>&quot;</div>
<div class="radekzaklinadla">RS = &quot;<i class="dopln">regulární výraz</i>&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1068298534"><span><a href="#z1068298534">⭓</a></span></span>hodnota posledního sloupce načteného řádku<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla">$NF</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z284802118"><span><a href="#z284802118">ຟ</a></span></span>počet souborů, které mají být (podle příkazové řádky) načteny jako vstupní<span class="cislo">#9 </span><sup><a href="#kapwkppc13" id="kapwkppcr13" title="Poznámka: vrací-li 0, stejně má být čten standardní vstup.">(13)</a></sup></div><div class="radky">
<div class="radekzaklinadla">ARGC - 1</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z29644137"><span><a href="#z29644137">⤋</a></span></span>N-tý (od 1) vstupní soubor, jak je zadán na příkazovém řádku<span class="cislo">#10 </span></div><div class="radky">
<div class="radekzaklinadla">ARGV[<i class="dopln">N</i>]</div>
</div></div>

<h3 id="cast3x9"><span><a href="#cast3x9" title="kapitola 3 (AWK), sekce 3 (Zaklínadla), podsekce 9 (Ostatní)"><sup>3/</sup>9 Ostatní</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1693466542"><span><a href="#z1693466542">⎥</a></span></span>komentář<span class="cislo">#1 </span><sup><a href="#kapwkppc14" id="kapwkppcr14" title="Znak # není interpretován jako začátek komentáře uvnitř řetězců ani literálů regulárních výrazů.">(14)</a></sup></div><div class="radky">
<div class="radekzaklinadla">#<i class="dopln">libovolný obsah až do konce řádky</i></div>
</div></div>

<h2 id="cast4"><a href="#cast4"><span class="cislo">4.</span> Zaklínadla (výstup, vstup a interakce s bashem)</a></h2>

<h3 id="cast4x1"><span><a href="#cast4x1" title="kapitola 3 (AWK), sekce 4 (Zaklínadla (výstup, vstup a interakce s bashem)), podsekce 1 (Příkazy výstupu)"><sup>4/</sup>1 Příkazy výstupu</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z528218233"><span><a href="#z528218233">⊀</a></span></span>příkaz <b>print</b><span class="cislo">#1 </span><sup><a href="#kapwkppc15" id="kapwkppcr15" title="Příkaz print zapíše na výstup svoje parametry, oddělené obsahem proměnné „OFS“ (výchozí hodnotou je &quot;&blank;&quot;), a za poslední parametr přidá navíc hodnotu proměnné „ORS“ (výchozí hodnota je &quot;\n&quot;).">(15)</a></sup></div><div class="radky">
<div class="radekzaklinadla">print <i class="dopln">výraz</i><span class="volznak">[</span>, <i class="dopln">další-výraz</i><span class="volznak">]</span><span class="tritecky"></span> <span class="volznak">[</span><i class="dopln">přesměrování-výstupu</i><span class="volznak">]</span>;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z652757902"><span><a href="#z652757902">∫</a></span></span>funkce <b>printf</b><span class="cislo">#2 </span><sup><a href="#kapwkppc16" id="kapwkppcr16" title="Funkce printf() funguje stejně jako v jazyce C, až na to, že parametr %c dokáže vypisovat UTF-8 znaky v rozsahu 0 až cca 55000 (ale např. místo znaku č. 55339 vypíše „+“). ">(16)</a></sup></div><div class="radky">
<div class="radekzaklinadla">printf(<i class="dopln">formátovací-řetězec</i><span class="volznak">[</span>,<i class="dopln">výraz</i><span class="volznak">]</span><span class="tritecky"></span>) <span class="volznak">[</span><i class="dopln">přesměrování-výstupu</i><span class="volznak">]</span>;</div>
</div></div>

<h3 id="cast4x2"><span><a href="#cast4x2" title="kapitola 3 (AWK), sekce 4 (Zaklínadla (výstup, vstup a interakce s bashem)), podsekce 2 (Uzavření vstupu/výstupu)"><sup>4/</sup>2 Uzavření vstupu/výstupu</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z776216397"><span><a href="#z776216397">䷈</a></span></span>uzavřít soubor otevřený ke čtení či zápisu<span class="cislo">#1 </span><sup><a href="#kapwkppc17" id="kapwkppcr17" title="Tato varianta funkce „close()“ vrací 0 v případě úspěchu, jiná hodnota značí chybu.">(17)</a></sup></div><div class="radky">
<div class="radekzaklinadla">close(<i class="dopln">&quot;řetězec/reprezentující/soubor&quot;</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1820073636"><span><a href="#z1820073636">⊲</a></span></span>uzavřít čtení výstupu příkazu<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">close(<i class="dopln">&quot;řetězec reprezentující příkaz&quot;</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1421402454"><span><a href="#z1421402454">▣</a></span></span>uzavřít zápis na vstup příkazu<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">close(<i class="dopln">&quot;řetězec reprezentující příkaz&quot;</i>)</div>
</div></div>

<h3 id="cast4x3"><span><a href="#cast4x3" title="kapitola 3 (AWK), sekce 4 (Zaklínadla (výstup, vstup a interakce s bashem)), podsekce 3 (Bash)"><sup>4/</sup>3 Bash</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1381577737"><span><a href="#z1381577737">└</a></span></span>vykonat příkaz interpretem „/bin/sh“ a vrátit jeho návratovou hodnotu<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">system(<i class="dopln">řetězec</i>)</div>
</div></div>

<h3 id="cast4x4"><span><a href="#cast4x4" title="kapitola 3 (AWK), sekce 4 (Zaklínadla (výstup, vstup a interakce s bashem)), podsekce 4 (Přesměrování výstupu)"><sup>4/</sup>4 Přesměrování výstupu</a></span></h3>
<p class="ponadpisu">
Poznámky k přesměrování výstupu: Prvním zápisem do souboru, který ještě není otevřen, se tento soubor automaticky otevře pro zápis a zůstane otevřený pro další zápisy, dokud ho neuzavřete funkcí close() nebo do konce programu. Analogicky platí, že prvním zápisem na vstup dosud nespuštěného příkazu se tento příkaz spustí a další zápisy směřují na vstup téže instance příkazu, dokud spojení neuzavřete funkcí „close()“.
</p><p>
Pokud soubor existuje, při otevření se jeho obsah smaže; pokud chcete přidávat na konec souboru, použijte místo operátoru „&gt;“ operátor „&gt;&gt;“ (princip je stejný jako v bashi).
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1037922429"><span><a href="#z1037922429">⡓</a></span></span>výstup do souboru (příklad)(print/printf)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">print &quot;A:&quot;, A &gt; &quot;../seznam.txt&quot;;</div>
<div class="radekzaklinadla">printf(&quot;%s: %d\n&quot;, I, POLE[I]) &gt; &quot;hodnoty.txt&quot;;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1085335392"><span><a href="#z1085335392">䷦</a></span></span>poslat na (standardní) vstup jiného příkazu (print/printf)<span class="cislo">#2 </span><sup><a href="#kapwkppc18" id="kapwkppcr18" title="Odkazovaný příkaz se spustí v interpretu /bin/sh a svoje vstupy a výstupy zdědí od instance GNU awk, kterou byl spuštěn, pokud je výslovně nepřesměrujete.">(18)</a></sup></div><div class="radky">
<div class="radekzaklinadla">print <i class="dopln">parametr</i><span class="volznak">[</span>, <i class="dopln">další parametr</i><span class="volznak">]</span><span class="tritecky"></span> | <i class="dopln">&quot;řetězec s příkazem&quot;</i> ;</div>
<div class="radekzaklinadla">printf(<i class="dopln">formátovací-řetězec</i><span class="volznak">[</span>,<i class="dopln">parametr</i><span class="volznak">]</span><span class="tritecky"></span>) | <i class="dopln">&quot;řetězec s příkazem&quot;</i> ;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2053107801"><span><a href="#z2053107801">⊜</a></span></span>zapsat na vstup jiného příkazu (příklad)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">print I, S, &quot;.&quot; | &quot;sort -n&quot;;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z575225175"><span><a href="#z575225175">⊳</a></span></span>zapsat na standardní chybový výstup<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">print <i class="dopln">parametry</i> &gt; &quot;/dev/stderr&quot;;</div>
<div class="radekzaklinadla">printf(<i class="dopln">parametry</i>) &gt; &quot;/dev/stderr&quot;;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z909402529"><span><a href="#z909402529">⇝</a></span></span>zapsat do souboru jeden znak (přepsat/připojit)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">printf(&quot;%s&quot;, &quot;<i class="dopln">znak</i>&quot;) &gt; <i class="dopln">&quot;řetězec/s/cestou/souboru&quot;</i>)</div>
</div></div>

<h3 id="cast4x5"><span><a href="#cast4x5" title="kapitola 3 (AWK), sekce 4 (Zaklínadla (výstup, vstup a interakce s bashem)), podsekce 5 (Přesměrování vstupu)"><sup>4/</sup>5 Přesměrování vstupu</a></span></h3>
<p class="ponadpisu">
Poznámky k přesměrování vstupu: Prvním čtením ze souboru, který ještě není otevřen, se tento soubor automaticky otevře pro čtení a zůstané otevřený pro čtení dalších řádků, dokud ho neuzavřete funkcí close(). Analogicky platí, že čtení z příkazu, který ještě nebyl spuštěn, ho spustí a další čtení čtou z výstupu téže instance, dokud spojení neuzavřete funkcí „close()“.
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1307788348"><span><a href="#z1307788348">┓</a></span></span>přečíst řádku ze souboru<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>if (<span class="volznak">]</span>getline <span class="volznak">[</span><i class="dopln">PROMĚNNÁ</i><span class="volznak">]</span> &lt; <i class="dopln">&quot;řetězec/s/cestou/souboru&quot;</i><span class="volznak">[</span>) <i class="dopln">tělo příkazu if</i><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1488324282"><span><a href="#z1488324282">Ȣ</a></span></span>přečíst jeden znak ze souboru<span class="cislo">#2 </span><sup><a href="#kapwkppc19" id="kapwkppcr19" title="Poznámka: po použití této konstrukce pravděpodobně budete muset obnovit hodnoty proměnných RS, $0, RT, NR a FNR.">(19)</a></sup></div><div class="radky">
<div class="radekzaklinadla">RS = &quot;(.)&quot;;</div>
<div class="radekzaklinadla">if (getline &lt; <i class="dopln">&quot;řetězec/s/cestou/souboru&quot;</i>) {{<i>proměnná</i>} = RT}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1896431746"><span><a href="#z1896431746">˒</a></span></span>přečíst celý soubor do zadané proměnné<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">normalni_RS = RS; RS = &quot;^$&quot;; <i class="dopln">PROMĚNNÁ</i> = &quot;&quot;;</div>
<div class="radekzaklinadla">getline <i class="dopln">PROMĚNNÁ</i> &lt; <i class="dopln">&quot;řetězec/s/cestou/souboru&quot;</i>;</div>
<div class="radekzaklinadla">RS = normalni_RS;</div>
<div class="radekzaklinadla"><span class="volznak">[</span>close(<i class="dopln">&quot;řetězec/s/cestou/souboru&quot;</i>);<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2087037474"><span><a href="#z2087037474">‥</a></span></span>načíst řádku z výstupu příkazu<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>if (<span class="volznak">]</span><i class="dopln">&quot;příkaz&quot;</i> | getline <span class="volznak">[</span><i class="dopln">PROMĚNNÁ</i><span class="volznak">]</span>) <i class="dopln">tělo příkazu if</i></div>
</div></div>

<h3 id="cast4x6"><span><a href="#cast4x6" title="kapitola 3 (AWK), sekce 4 (Zaklínadla (výstup, vstup a interakce s bashem)), podsekce 6 (Koprocesy)"><sup>4/</sup>6 Koprocesy</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z120748891"><span><a href="#z120748891">⏝</a></span></span>zapsat na standardní vstup koprocesu (alternativy)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">příkaz print</i> |&amp; <i class="dopln">koproces</i>;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z197785637"><span><a href="#z197785637">䷆</a></span></span>přečíst řádek z výstupu koprocesu<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>if (<span class="volznak">]</span><i class="dopln">koproces</i> |&amp; getline <span class="volznak">[</span><i class="dopln">PROMĚNNÁ</i><span class="volznak">]</span><span class="volznak">[</span>) <i class="dopln">tělo příkazu if</i><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1164599151"><span><a href="#z1164599151">◖</a></span></span>uzavřít jen vstup koprocesu<span class="cislo">#3 </span><sup><a href="#kapwkppc20" id="kapwkppcr20" title="Po uzavření vstupu koprocesu můžete pouze číst z jeho výstupu. Pokus o další zápis před úplným ukončením koprocesu je fatální chyba.">(20)</a></sup></div><div class="radky">
<div class="radekzaklinadla">close(<i class="dopln">koproces</i>, &quot;to&quot;);</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z688650556"><span><a href="#z688650556">▱</a></span></span>vyčkat na ukončení koprocesu<span class="cislo">#4 </span><sup><a href="#kapwkppc21" id="kapwkppcr21" title="Funkce close() v tomto případě vrátí návratovou hodnotu koprocesu vynásobenou 256.">(21)</a></sup></div><div class="radky">
<div class="radekzaklinadla">close(<i class="dopln">koproces</i>)</div>
</div></div>

<h3 id="cast4x7"><span><a href="#cast4x7" title="kapitola 3 (AWK), sekce 4 (Zaklínadla (výstup, vstup a interakce s bashem)), podsekce 7 (Informace o procesu AWK)"><sup>4/</sup>7 Informace o procesu AWK</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z315604408"><span><a href="#z315604408">⠖</a></span></span>PID procesu gawk/rodičovského procesu<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">PROCINFO[&quot;pid&quot;]<span class="prikladhodnoty">⊨ 7034</span></div>
<div class="radekzaklinadla">PROCINFO[&quot;ppid&quot;]<span class="prikladhodnoty">⊨ 4052</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2017912155"><span><a href="#z2017912155">✽</a></span></span>verze GNU awk<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">PROCINFO[&quot;version&quot;]<span class="prikladhodnoty">⊨ 4.1.4</span></div>
</div></div>

<h2 id="cast5"><a href="#cast5"><span class="cislo">5.</span> Zaklínadla (funkce)</a></h2>

<h3 id="cast5x1"><span><a href="#cast5x1" title="kapitola 3 (AWK), sekce 5 (Zaklínadla (funkce)), podsekce 1 (Uživatelské funkce)"><sup>5/</sup>1 Uživatelské funkce</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1606186375"><span><a href="#z1606186375">ⵢ</a></span></span>definovat funkci (volitelně s lokálními proměnnými)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">function <i class="dopln">název funkce</i>(<span class="volznak">[</span><i class="dopln">první-parametr</i><span class="volznak">[</span>,<i class="dopln">další-parametry</i><span class="volznak">]</span><span class="tritecky"></span><span class="volznak">]</span><span class="volznak">[</span>,<span class="viditelnamezera">&nbsp;</span><span class="viditelnamezera">&nbsp;</span><span class="viditelnamezera">&nbsp;</span><i class="dopln">lokální-proměnná</i><span class="volznak">[</span>, <i class="dopln">další-lokální-proměnná</i><span class="volznak">]</span><span class="tritecky"></span><span class="volznak">]</span>) <i class="dopln">blok příkazů</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z775508788"><span><a href="#z775508788">⎟</a></span></span>volání funkce<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">název_funkce</i>(<span class="volznak">[</span><i class="dopln">parametr</i><span class="volznak">[</span>, <i class="dopln">další parametr</i><span class="volznak">]</span><span class="volznak">]</span>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1693226868"><span><a href="#z1693226868">┏</a></span></span>nepřímé volání funkce<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">@<i class="dopln">proměnná</i>(<span class="volznak">[</span><i class="dopln">parametr</i><span class="volznak">[</span>, <i class="dopln">další parametr</i><span class="volznak">]</span><span class="volznak">]</span>)</div>
</div></div>

<h3 id="cast5x2"><span><a href="#cast5x2" title="kapitola 3 (AWK), sekce 5 (Zaklínadla (funkce)), podsekce 2 (Řetězcové funkce (regulární výrazy))"><sup>5/</sup>2 Řetězcové funkce (regulární výrazy)</a></span></h3>
<p class="ponadpisu">
Poznámka k řetězci náhrady: V tomto řetězci je nutno odzvláštnit znaky „\“ a „&amp;“, protože mají speciální význam: Funkce sub(), gensub() a gsub() za neodzvláštněný znak „&amp;“ dosadí text shody s nahrazovaným regulárním výrazem. Funkce „gensub()“ navíc za značky „\1“ až „\9“ (do řetězce nutno zadávat jako &quot;\\1&quot; atd.) dosadí text číslovaného záchytu (podřetězec odpovídající seskupení v regulárním výrazu).
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z38851615"><span><a href="#z38851615">♙</a></span></span><b>vyhovuje</b>/nevyhovuje regulárnímu výrazu?<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">řetězec</i> ~ <i class="dopln">regulární-výraz</i></div>
<div class="radekzaklinadla"><i class="dopln">řetězec</i> !~ <i class="dopln">regulární-výraz</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z421564915"><span><a href="#z421564915">ꓺ</a></span></span><b>nahradit</b> první výskyt/N-tý výskyt/všechny výskyty regulárního výrazu v proměnné<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sub(<i class="dopln">regulární výraz</i>, <i class="dopln">řetězec-náhrady</i>, <i class="dopln">proměnná</i>)<span class="prikladhodnoty">⊨ počet náhrad (0, nebo 1)</span></div>
<div class="radekzaklinadla"><i class="dopln">proměnná</i> = gensub(<i class="dopln">regulární výraz</i>, <i class="dopln">řetězec-náhrady</i>, <i class="dopln">N</i>, <i class="dopln">proměnná</i>)<span class="prikladhodnoty">⊨ řetězec po náhradě (nezměněný, pokud k náhradě nedošlo)</span></div>
<div class="radekzaklinadla">gsub(<i class="dopln">regulární výraz</i>, <i class="dopln">řetězec-náhrady</i>, <i class="dopln">proměnná</i>)<span class="prikladhodnoty">⊨ počet náhrad</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1716588943"><span><a href="#z1716588943">⇔</a></span></span>nahradit první výskyt/N-tý výskyt/všechny shody v $0<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">sub(<i class="dopln">regulární výraz</i>, <i class="dopln">řetězec-náhrady</i>)<span class="prikladhodnoty">⊨ počet náhrad (0, nebo 1)</span></div>
<div class="radekzaklinadla">$0 = gensub(<i class="dopln">regulární výraz</i>, <i class="dopln">řetězec-náhrady</i>, <i class="dopln">N</i>)<span class="prikladhodnoty">⊨ řetězec po náhradě (nezměněný, pokud k náhradě nedošlo)</span></div>
<div class="radekzaklinadla">gsub(<i class="dopln">regulární výraz</i>, <i class="dopln">řetězec-náhrady</i>)<span class="prikladhodnoty">⊨ počet náhrad</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1936452394"><span><a href="#z1936452394">▲</a></span></span>nahradit první výskyt/N-tý výskyt/všechny výskyty regulárního výrazu v řetězci<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">gensub(<i class="dopln">regulární výraz</i>, <i class="dopln">řetězec-náhrady</i>, 1, <i class="dopln">řetězec</i>)</div>
<div class="radekzaklinadla">gensub(<i class="dopln">regulární výraz</i>, <i class="dopln">řetězec-náhrady</i>, <i class="dopln">N</i><i>,</i> <i class="dopln">řetězec</i>)</div>
<div class="radekzaklinadla">gensub(<i class="dopln">regulární výraz</i>, <i class="dopln">řetězec-náhrady</i>, &quot;g&quot;, <i class="dopln">řetězec</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z192559621"><span><a href="#z192559621">჻</a></span></span>najít a vypsat <b>první shodu</b> s regulárním výrazem<span class="cislo">#5 </span><sup><a href="#kapwkppc22" id="kapwkppcr22" title="Nebyla-li shoda s regulárním výrazem nalezena, funkce match() vrací 0; jinak nastaví proměnné RSTART a RLENGTH na pozici a délku nalezeného podřetězce a vrátí hodnotu RSTART. Vždy vybírá nejlevější a nejdelší shodu.">(22)</a></sup></div><div class="radky">
<div class="radekzaklinadla">if (match(<i class="dopln">řetězec</i>, <i class="dopln">regulární-výraz</i>)) {</div>
<div class="radekzaklinadla" style="padding-left:2ch;">print substr(<i class="dopln">řetězec</i>, RSTART, RLENGTH);</div>
<div class="radekzaklinadla">}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z76349124"><span><a href="#z76349124">☊</a></span></span>najít <b>všechny shody</b> s regulárním výrazem a sestavit z nich číslované pole<span class="cislo">#6 </span><sup><a href="#kapwkppc23" id="kapwkppcr23" title="Funkce „patsplit()“ vyhledá všechny shody řetězce s regulárním výrazem a vrátí jejich počet (N). Předané pole pak smaže a naplní těmito shodami. Zadáte-li i pole pro oddělovače, pak ho tato funkce vyplní podřetězci, které zbyly mezi jednotlivými shodami, přičemž řetězec před první shodou bude umístěn na indexu 0 a řetězec za poslední shodou na indexu N.">(23)</a></sup></div><div class="radky">
<div class="radekzaklinadla">patsplit(<i class="dopln">řetězec</i>, <i class="dopln">pole</i>, <i class="dopln">regulární-výraz</i> <span class="volznak">[</span>,<i class="dopln">pole-pro-oddělovače</i><span class="volznak">]</span>)<span class="prikladhodnoty">⊨ počet shod (např. „3“)</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z71224020"><span><a href="#z71224020">⟧</a></span></span><b>rozdělit</b> řetězec do pole, oddělovač je definovaný regulárním výrazem<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">split(<i class="dopln">řetězec</i>, <i class="dopln">pole</i>, <i class="dopln">regulární-výraz</i><span class="volznak">[</span>,<i class="dopln">pole_pro_oddělovače</i><span class="volznak">]</span>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z443635615"><span><a href="#z443635615">☈</a></span></span>příklad: v řetězci „a=15:b=79“ v proměnné „x“ vyměnit čísla<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla">x = gensub(/^a=([0-9]+):b=([0-9]+)$/, &quot;a=\\2:b=\\1&quot;, 1, x);<span class="prikladhodnoty">⊨ a=79:b=15</span></div>
</div></div>

<h3 id="cast5x3"><span><a href="#cast5x3" title="kapitola 3 (AWK), sekce 5 (Zaklínadla (funkce)), podsekce 3 (Řetězcové funkce (základní))"><sup>5/</sup>3 Řetězcové funkce (základní)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z609528349"><span><a href="#z609528349">⡰</a></span></span>spojit dva řetězce (<b>konkatenace</b>)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">jeden-řetězec</i> <i class="dopln">druhý-řetězec</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z148739015"><span><a href="#z148739015">░</a></span></span>získat <b>podřetězec</b> podle pozice<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">substr(<i class="dopln">řetězec</i>, <i class="dopln">počáteční-pozice</i><span class="volznak">[</span>, <i class="dopln">maximální-délka</i><span class="volznak">]</span>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1497741858"><span><a href="#z1497741858">⢂</a></span></span>najít pozici prvního výskytu <b>podřetězce</b><span class="cislo">#3 </span><sup><a href="#kapwkppc24" id="kapwkppcr24" title="Vrátí 0, nebyl-li podřetězec nalezen; jinak vrátí pozici podřetězce (číslovanou od 1).">(24)</a></sup></div><div class="radky">
<div class="radekzaklinadla">index(<i class="dopln">řetězec</i>, <i class="dopln">hledaný-podřetězec</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1801122190"><span><a href="#z1801122190">⊃</a></span></span>zjistit <b>délku řetězce</b><span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">length(<i class="dopln">řetězec</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1243053857"><span><a href="#z1243053857">ᔲ</a></span></span><b>rozdělit</b> řetězec do pole (podle FS/určitým znakem)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">split(<i class="dopln">řetězec</i>, <i class="dopln">pole</i>)</div>
<div class="radekzaklinadla">split(<i class="dopln">řetězec</i>, <i class="dopln">pole</i>, &quot;<i class="dopln">znak</i>&quot;<span class="volznak">[</span>,<i class="dopln">pole_pro_oddělovače</i><span class="volznak">]</span>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z821097770"><span><a href="#z821097770">⢱</a></span></span>naformátovat řetězec (funkce <b>sprintf</b> známá z jazyka C)<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">sprintf(<i class="dopln">formátovací-řetězec</i><span class="volznak">[</span>, <i class="dopln">parametr</i><span class="volznak">]</span><span class="tritecky"></span>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1845806451"><span><a href="#z1845806451">⨙</a></span></span>převod na <b>malá písmena/velká písmena</b><span class="cislo">#7 </span><sup><a href="#kapwkppc25" id="kapwkppcr25" title="V gawk tyto funkce rozpoznávají znaky národní abecedy (pravděpodobně podle „locale“), v mawk účinkují pouze na ASCII znaky.">(25)</a></sup></div><div class="radky">
<div class="radekzaklinadla">tolower(<i class="dopln">řetězec</i>)</div>
<div class="radekzaklinadla">toupper(<i class="dopln">řetězec</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2142713677"><span><a href="#z2142713677">˓</a></span></span>sekvence více výskytů téhož znaku v řetězci nahradit jeho jedním výskytem<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>

<h3 id="cast5x4"><span><a href="#cast5x4" title="kapitola 3 (AWK), sekce 5 (Zaklínadla (funkce)), podsekce 4 (Konverze číselných soustav)"><sup>5/</sup>4 Konverze číselných soustav</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1622621621"><span><a href="#z1622621621">≘</a></span></span>desítkové číslo na hexadecimální/hexadecimální na desítkové<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">sprintf(&quot;<span class="volznak">[</span>0x<span class="volznak">]</span>%x&quot;, <i class="dopln">číslo</i>)</div>
<div class="radekzaklinadla">strtonum(&quot;0x<i class="dopln">hex-číslo</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z82116123"><span><a href="#z82116123">♺</a></span></span>desítkové číslo na osmičkové/osmičkové na desítkové<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sprintf(&quot;<span class="volznak">[</span>0<span class="volznak">]</span>%o&quot;, <i class="dopln">číslo</i>)</div>
<div class="radekzaklinadla">strtonum(&quot;0<i class="dopln">osmičkové-číslo</i>)</div>
</div></div>

<h3 id="cast5x5"><span><a href="#cast5x5" title="kapitola 3 (AWK), sekce 5 (Zaklínadla (funkce)), podsekce 5 (Číselné funkce)"><sup>5/</sup>5 Číselné funkce</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z1972041269"><span><a href="#z1972041269">⟘</a></span></span><b>absolutní hodnota</b><span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">x</i> &gt;= 0 ? <i class="dopln">x</i> : -<i class="dopln">x</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1991651314"><span><a href="#z1991651314">╘</a></span></span><b>zaokrouhlit</b> desetinné číslo na nejbližší celé číslo/k nule/jen oříznout desetinnou část<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">číslo</i> &gt;= 0 ? int(<i class="dopln">číslo</i> + 0.4999999) : int(<i class="dopln">číslo</i> - 0.4999999)</div>
<div class="radekzaklinadla"><i class="dopln">číslo</i> &gt;= 0 ? int(<i class="dopln">číslo</i>) : -int(-<i class="dopln">číslo</i>)</div>
<div class="radekzaklinadla">int(<i class="dopln">hodnota</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1984366100"><span><a href="#z1984366100">⡵</a></span></span>vygenerovat <b>pseudonáhodné</b> celé číslo 0 &lt;= y &lt; maximum<span class="cislo">#3 </span><sup><a href="#kapwkppc26" id="kapwkppcr26" title="Vhodné jen pro maxima do 16 777 215. Pro vyšší maximum bude množina vrácených hodnot pravidelně přerušovaná, což pro některé druhy využití nemusí vadit. Správným řešením je bitová kombinace více volání funkce „rand()“.">(26)</a></sup></div><div class="radky">
<div class="radekzaklinadla">int(rand() * <i class="dopln">maximum</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z296057131"><span><a href="#z296057131">⠭</a></span></span>vygenerovat pseudonáhodné celé číslo 0 &lt;= y &lt; 4 294 967 296<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">65356 * int(65536 * rand()) + int(65536 * rand())</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z111618739"><span><a href="#z111618739">⇟</a></span></span>nastavit počáteční „semínko“ generátoru pseudonáhodných čísel (na hodnotu/podle času)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">srand(<i class="dopln">hodnota-semínka</i>)</div>
<div class="radekzaklinadla">srand()</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1525000126"><span><a href="#z1525000126">ⵄ</a></span></span>vygenerovat pseudonáhodné desetinné číslo 0 &lt;= y &lt; 1<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">rand()</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1797422105"><span><a href="#z1797422105">∥</a></span></span>druhá <b>odmocnina</b>/druhá mocnina<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">sqrt(<i class="dopln">x</i>)</div>
<div class="radekzaklinadla"><i class="dopln">x</i>^2</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1941775650"><span><a href="#z1941775650">❥</a></span></span>arcus tangens y / x<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla">atan2(<i class="dopln">y</i>, <i class="dopln">x</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2011317731"><span><a href="#z2011317731">∺</a></span></span>sinus/kosinus/tangens/contangens<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla">sin(<i class="dopln">x</i>)</div>
<div class="radekzaklinadla">cos(<i class="dopln">x</i>)</div>
<div class="radekzaklinadla">sin(<i class="dopln">x</i>) / cos(<i class="dopln">x</i>)</div>
<div class="radekzaklinadla">cos(<i class="dopln">x</i>) / sin(<i class="dopln">x</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1107140921"><span><a href="#z1107140921">⢈</a></span></span>přirozený logaritmus / e na x-tou<span class="cislo">#10 </span></div><div class="radky">
<div class="radekzaklinadla">log(<i class="dopln">x</i>)</div>
<div class="radekzaklinadla">exp(<i class="dopln">x</i>)</div>
</div></div>

<h3 id="cast5x6"><span><a href="#cast5x6" title="kapitola 3 (AWK), sekce 5 (Zaklínadla (funkce)), podsekce 6 (Práce s časem)"><sup>5/</sup>6 Práce s časem</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z115831793"><span><a href="#z115831793">―</a></span></span>aktuální čas (jako časová známka Unixu)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">systime()</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z204675071"><span><a href="#z204675071">⪊</a></span></span>zformátovat čas<span class="cislo">#2 </span><sup><a href="#kapwkppc27" id="kapwkppcr27" title="Bez parametru „1“ vypíše lokální čas, s ním vypíše UTC. Pro „formát“ – viz kapitolu „Datum, čas a kalendář“.">(27)</a></sup></div><div class="radky">
<div class="radekzaklinadla">strftime(<i class="dopln">formát</i>,<i class="dopln">časová-známka-Unixu</i><span class="volznak">[</span>, 1<span class="volznak">]</span>)</div>
</div></div>

<h3 id="cast5x7"><span><a href="#cast5x7" title="kapitola 3 (AWK), sekce 5 (Zaklínadla (funkce)), podsekce 7 (Pokročilé konstrukce)"><sup>5/</sup>7 Pokročilé konstrukce</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2081888140"><span><a href="#z2081888140">䷧</a></span></span>načíst jiný zdrojový soubor, jako by jeho obsah byl zapsán zde<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">@include &quot;<i class="dopln">cesta/k/souboru.awk</i>&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z62174786"><span><a href="#z62174786">⡞</a></span></span>implementovat načítání řádek rozdělených znakem \ před znakem konce řádku (tento kód vložit na začátek skriptu)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">proměnná</i> != &quot;&quot; {$0 = <i class="dopln">proměnná</i>; <i class="dopln">proměnná</i> = &quot;&quot;;}</div>
<div class="radekzaklinadla">/(^|[^\\])(\\\\)*\\$/ {<i class="dopln">proměnná</i> = substr($0, 1, length($0) - 1); next;}</div>
</div></div>

<h2 id="cast6"><a href="#cast6"><span class="cislo">6.</span> Parametry příkazů</a></h2>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">gawk <i class="dopln">parametry-gawk</i> <span class="volznak">[</span><span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">vstupní-soubory</i><span class="volznak">]</span><span class="tritecky"></span></div>
<div class="radekzaklinadla">gawk <i class="dopln">parametry-gawk</i> <span class="volznak">[</span><span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">parametry-skriptu</i><span class="volznak">]</span><span class="tritecky"></span></div>
<div class="radekzaklinadla">gawk <i class="dopln">parametry-kromě-e-f-i</i> <i class="dopln">program</i> <span class="volznak">[</span><span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">vstupní-soubory</i><span class="volznak">]</span><span class="tritecky"></span></div>
<div class="radekzaklinadla">gawk --version</div>
</div></div>
<table class="parametryprikazu"><tbody><tr><td>-F <i class="dopln">hodnota</i></td><td>Přednastaví hodnotu proměnné FS (vstupního oddělovače sloupců).</td></tr>

<tr><td>-v <i class="dopln">proměnná</i>=<i class="dopln">hodnota</i></td><td>Přednastaví hodnotu určité proměnné.</td></tr>

<tr><td>-f <i class="dopln">soubor</i></td><td>Načte kód ke spuštění z daného souboru.</td></tr>

<tr><td>-e <i class="dopln">kód</i></td><td>Vezme uvedený kód ke spuštění.</td></tr>

<tr><td>-b</td><td>Vstup a výstup realizuje po bajtech, ne v UTF-8.</td></tr>

<tr><td>--profile=<i class="dopln">soubor</i></td><td>Shromáždí „profilovací“ data a po skončení programu je zapíše do uvedeného souboru. (Nezkoušeno.)</td></tr>

<tr><td>--sandbox</td><td>Vypne všechny funkce, které by mohl skript použít k přístupu k jiným souborům než těm, které mu byly předány na příkazovém řádku; to zahrnuje např. funkci „system()“, přesměrování výstupů apod.</td></tr>

</tbody></table>
<p>
Poznámka: Parametry -f a -e můžete kombinovat a zadávat opakovaně. Každý další takový parametr přidá takový kód k již načtenému, takže se nakonec všechny spojí do jednoho programu.
</p>

<h2 id="cast7"><a href="#cast7"><span class="cislo">7.</span> Instalace na Ubuntu</a></h2>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">sudo apt-get install gawk</div>
</div></div>

<h2 id="cast8"><a href="#cast8"><span class="cislo">8.</span> Tipy a zkušenosti</a></h2>
<ul><li>V AWK jsou všechna pole asociativní (včetně těch indexovaných celými čísly), a tedy neuspořádaná. Při indexování pole číslem se číslo nejprve převede na řetězec.
</li><li>Je velmi často využívána syntaktická zkratka, že literál regulárního výrazu (např. /^a/) se automaticky rozšíří na test načteného řádku (např. „($0 ~ /^a/)“).
</li><li>V AWK je středník potřeba jen k oddělení příkazů na jednom řádku, přesto z důvodu přehlednosti doporučuji ho psát na konci příkazu s výjimkou případu, kdy jde o jediný příkaz v bloku, k němuž těsně přiléhají složené závorky, např. „{print $0}“.
</li><li>Skalární proměnné se do funkcí předávají hodnotou, pole odkazem.
</li><li>Hodnoty ARGC a ARGV je možno za běhu skriptu bez omezení měnit, a tím ovlivňovat, které další soubory gawk či mawk otevře. Na již otevřené soubory to ale nemá vliv.
</li><li>Používání koprocesů vyžaduje pečlivou synchronizaci mezi procesy. Existují dvě situace, které vedou k zamrznutí programu a musíte se jim vyhnout: 1) Pokus o přečtení řádku z výstupu koprocesu, zatímco koproces nezapisuje, ale sám čeká na další vstup. 2) Zapsání velkého množství dat (cca od desítek kilobajtů) na vstup koprocesu, která koproces nenačte. (V takovém případě se naplní buffer roury.)
</li><li>V literálech regulárních výrazů je nutno odzvláštňovat obyčejná lomítka, a to dokonce i uvnitř hranatých závorek, např. „a*[x\/y]+“, v dynamických regulárních výrazech je není nutno odzvláštňovat.
</li><li>Chcete-li příkaz pokračovat na další řádce, vložte před konec řádky „\“.
</li><li>Obsahuje-li skript pouze vzorky BEGIN a žádné jiné, AWK nebude otevírat vstupní soubory a po vykonání průchodu BEGIN okamžitě skončí. Toho lze využít k napsání programu, který vstup nezpracovává.
</li><li>Nestojí-li za sekvencí zpětných lomítek v řetězci náhrady funkcí sub() a gsub() „&amp;“, chová se toto odzvláštňování nelogicky – méně než tři zpětná lomítka se použijí tak, jak jsou, a každá čtveřice zpětných lomítek se zredukuje na dvě zpětná lomítka a zbytek sekvence se bere jako od začátku, takže např. 6 zpětných lomítek (v řetězci zapsaných jako 12) zapíše při náhradě čtyři zpětná lomítka, protože první čtyři lomítka se zredukovala na dvě a zbylá dvě se vzala tak, jak jsou. Toto neplatí ve funkci gensub(), ta se chová konzistentně a každou dvojici zpětných lomítek zredukuje na jedno, ať za ní následuje ampresand nebo ne. Pokud tedy potřebujete nahrazovat shody regulárního výrazu zpětnými lomítky, doporučuji vždy řetězec náhrady předem otestovat a pamatovat, že funkce sub() a gsub() zachází se zpětnými lomítky, za kterými nenásleduje ampresand, jinak než funkce gensub().
</li></ul>
<h2 id="cast9"><a href="#cast9"><span class="cislo">9.</span> Další zdroje informací</a></h2>
<ul class="kompaktni"><li><a href="https://cs.wikipedia.org/wiki/AWK">Článek na Wikipedii</a>
</li><li><a href="https://www.youtube.com/watch?v=y8klNyswPfo">Přednáška Lukáše Bařinky „(g)awk in a nutshell“</a>
</li><li><a href="http://www.abclinuxu.cz/clanky/unixove-nastroje-21-awk">Článek na ABC Linuxu</a>
</li><li><a href="https://www.gnu.org/software/gawk/manual/html_node/String-Functions.html">Oficiální manuál: Řetězcové funkce (reference)</a> (anglicky)
</li><li><a href="https://www.gnu.org/software/gawk/manual/">Oficiální manuál od GNU</a> (anglicky)
</li><li><i>man 1 gawk</i> (anglicky)
</li><li><a href="https://packages.ubuntu.com/bionic/gawk">Balíček gawk</a>
</li><li><a href="https://www.youtube.com/watch?v=i67fbJNfihU">Video „Using AWK to filter Data from Fields in Linux“</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=88oVSJMm8xI">Video „Controlling Array Sorting in AWK“</a> (anglicky)
</li><li><a href="https://www.grymoire.com/Unix/Awk.html">Awk tutorial</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=7qaBKueySg0">Video „awk command | Powerful Text Manipulation Tool“</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=7p-P0mMzc1E">Video: UNIX – awk explained</a> (anglicky)
</li><li><a href="https://github.com/tldr-pages/tldr/blob/master/pages/common/awk.md">TL;DR stránka</a> (anglicky)
</li></ul>
<h2 id="cast10"><a href="#cast10"><span class="cislo">10.</span> Pomocné funkce a skripty</a></h2>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z459071173"><span><a href="#z459071173">⎇</a></span></span>lkk retence – načte celý standardní vstup do paměti a po uzavření vstupu jej vypíše na výstup<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">#!/bin/bash</div>
<div class="radekzaklinadla">exec gawk -b -e 'BEGIN {RS = FS = &quot;^$&quot;; ORS = &quot;&quot;;} {print}'</div>
</div></div>
<div class="ppc"><div id="kapwkppc1"><a href="#kapwkppcr1" class="cislopozn">1</a>&nbsp;Pozor: zvláštní průchod END se vykoná i tehdy, je-li skript ukončován příkazem „exit“!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc2"><a href="#kapwkppcr2" class="cislopozn">2</a>&nbsp;Pozor: zvláštní průchod ENDFILE se nevykoná, pokud je zpracování souboru předčasně ukončeno, např. příkazem „nextfile“ či „exit“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc3"><a href="#kapwkppcr3" class="cislopozn">3</a>&nbsp;Tato funkce je nejužitečnější u parametrů funkcí; díky ní může funkce ověřit, že jí v určitém parametru bylo předáno pole, nebo naopak skalární hodnota.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc4"><a href="#kapwkppcr4" class="cislopozn">4</a>&nbsp;Při řazení uživatelskou funkcí musíte zadat funkci, která přijme parametry „klíč-L“, „hodnota-L“, „klíč-R“ a „hodnota-R“ v tomto pořadí a vrátí záporné číslo, je-li L-strana menší než R-strana; kladné číslo, je-li větší; a nulu, jsou-li si obě strany rovny.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc5"><a href="#kapwkppcr5" class="cislopozn">5</a>&nbsp;Poznámka: cyklus přiřazuje proměnné hodnoty INDEXŮ daného pole v LIBOVOLNÉM pořadí! Pro přístup k hodnotám v poli je musíte indexovat.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc6"><a href="#kapwkppcr6" class="cislopozn">6</a>&nbsp;Přepínač switch pracuje v gawk stejně jako v jazyce C, ovšem pracuje s řetězci místo celých čísel.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc7"><a href="#kapwkppcr7" class="cislopozn">7</a>&nbsp;Poznámka: tento příkaz přeskočí odpovídající průchod ENDFILE!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc8"><a href="#kapwkppcr8" class="cislopozn">8</a>&nbsp;Do obou uvedených proměnných můžete také přiřadit novou hodnotu, a změnit tak číslování řádku pro zbytek souboru (resp. veškerého vstupu)</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc9"><a href="#kapwkppcr9" class="cislopozn">9</a>&nbsp;Nelze použít v blocích BEGIN a END.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc10"><a href="#kapwkppcr10" class="cislopozn">10</a>&nbsp;Počet sloupců lze i nastavit.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc11"><a href="#kapwkppcr11" class="cislopozn">11</a>&nbsp;Výchozí hodnota je „ “ (mezera); může být přednastaven také parametrem příkazové řádky „-F“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc12"><a href="#kapwkppcr12" class="cislopozn">12</a>&nbsp;Výchozí hodnotou je konec řádku „\n“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc13"><a href="#kapwkppcr13" class="cislopozn">13</a>&nbsp;Poznámka: vrací-li 0, stejně má být čten standardní vstup.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc14"><a href="#kapwkppcr14" class="cislopozn">14</a>&nbsp;Znak # není interpretován jako začátek komentáře uvnitř řetězců ani literálů regulárních výrazů.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc15"><a href="#kapwkppcr15" class="cislopozn">15</a>&nbsp;Příkaz print zapíše na výstup svoje parametry, oddělené obsahem proměnné „OFS“ (výchozí hodnotou je &quot;<span class="viditelnamezera">&nbsp;</span>&quot;), a za poslední parametr přidá navíc hodnotu proměnné „ORS“ (výchozí hodnota je &quot;\n&quot;).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc16"><a href="#kapwkppcr16" class="cislopozn">16</a>&nbsp;Funkce printf() funguje stejně jako v jazyce C, až na to, že parametr %c dokáže vypisovat UTF-8 znaky v rozsahu 0 až cca 55000 (ale např. místo znaku č. 55339 vypíše „+“). </div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc17"><a href="#kapwkppcr17" class="cislopozn">17</a>&nbsp;Tato varianta funkce „close()“ vrací 0 v případě úspěchu, jiná hodnota značí chybu.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc18"><a href="#kapwkppcr18" class="cislopozn">18</a>&nbsp;Odkazovaný příkaz se spustí v interpretu /bin/sh a svoje vstupy a výstupy zdědí od instance GNU awk, kterou byl spuštěn, pokud je výslovně nepřesměrujete.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc19"><a href="#kapwkppcr19" class="cislopozn">19</a>&nbsp;Poznámka: po použití této konstrukce pravděpodobně budete muset obnovit hodnoty proměnných RS, $0, RT, NR a FNR.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc20"><a href="#kapwkppcr20" class="cislopozn">20</a>&nbsp;Po uzavření vstupu koprocesu můžete pouze číst z jeho výstupu. Pokus o další zápis před úplným ukončením koprocesu je fatální chyba.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc21"><a href="#kapwkppcr21" class="cislopozn">21</a>&nbsp;Funkce close() v tomto případě vrátí návratovou hodnotu koprocesu vynásobenou 256.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc22"><a href="#kapwkppcr22" class="cislopozn">22</a>&nbsp;Nebyla-li shoda s regulárním výrazem nalezena, funkce match() vrací 0; jinak nastaví proměnné RSTART a RLENGTH na pozici a délku nalezeného podřetězce a vrátí hodnotu RSTART. Vždy vybírá nejlevější a nejdelší shodu.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc23"><a href="#kapwkppcr23" class="cislopozn">23</a>&nbsp;Funkce „patsplit()“ vyhledá všechny shody řetězce s regulárním výrazem a vrátí jejich počet (N). Předané pole pak smaže a naplní těmito shodami. Zadáte-li i pole pro oddělovače, pak ho tato funkce vyplní podřetězci, které zbyly mezi jednotlivými shodami, přičemž řetězec před první shodou bude umístěn na indexu 0 a řetězec za poslední shodou na indexu N.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc24"><a href="#kapwkppcr24" class="cislopozn">24</a>&nbsp;Vrátí 0, nebyl-li podřetězec nalezen; jinak vrátí pozici podřetězce (číslovanou od 1).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc25"><a href="#kapwkppcr25" class="cislopozn">25</a>&nbsp;V gawk tyto funkce rozpoznávají znaky národní abecedy (pravděpodobně podle „locale“), v mawk účinkují pouze na ASCII znaky.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc26"><a href="#kapwkppcr26" class="cislopozn">26</a>&nbsp;Vhodné jen pro maxima do 16 777 215. Pro vyšší maximum bude množina vrácených hodnot pravidelně přerušovaná, což pro některé druhy využití nemusí vadit. Správným řešením je bitová kombinace více volání funkce „rand()“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapwkppc27"><a href="#kapwkppcr27" class="cislopozn">27</a>&nbsp;Bez parametru „1“ vypíše lokální čas, s ním vypíše UTC. Pro „formát“ – viz kapitolu „Datum, čas a kalendář“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
</div>


<nav class="spodni">
<a href="index.htm" class="naindex">🗐&nbsp;Přehled&nbsp;kapitol</a>
<div class="naslkap">
<a href="barvy-a-titulek.htm" rel="next" title="3. Barvy, titulek a výzva terminálu">Následující&nbsp;kapitola/dodatek:<br><span class="cislo">3</span>
<span class="nazev">Barvy, titulek a výzva terminálu</span></a>
</div>
<!--<div><a href="index.htm">🗐&nbsp;Přehled&nbsp;kapitol</a></div>-->
<a href="#nahore" id="odkaznahoru" title="NAHORU − na začátek stránky">▴<!--⤒--></a>
<a href="#dole" id="odkazdolu" title="DOLŮ − na konec stránky">▾<!--⤓--></a>
</nav>


<div class="odkazydole"><div><a href="sprava-uzivatelskych-uctu.htm"><img src="obrazky/ik/sprava-uzivatelskych-uctu.png" alt="" width="32" height="32">Správa uživatelských účtů</a><a href="git.htm"><img src="obrazky/ik/git.png" alt="" width="32" height="32">Git</a><a href="diskove-oddily.htm"><img src="obrazky/ik/diskove-oddily.png" alt="" width="32" height="32">Diskové oddíly</a></div></div>


</article>
<nav class="menu">
<!-- MENU KAPITOLY -->
<a href="#menukapitoly" id="menukapitoly"><span class="prvnipismeno">K</span>apitoly</a>
<aside class="menukapitoly">
<div><div class="nadpis">Kapitoly</div><div class="polozky">
<a href="predmluva.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/predmluva.png" alt="[]"></span><span class="cislo">1</span><span class="nazev">Předmluva</span></a>
<a href="awk.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/awk.png" alt="[]"></span><span class="cislo">2</span><span class="nazev">AWK</span></a>
<a href="barvy-a-titulek.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/barvy-a-titulek.png" alt="[]"></span><span class="cislo">3</span><span class="nazev">Barvy, titulek a výzva terminálu</span></a>
<a href="datum-cas-kalendar.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/datum-cas-kalendar.png" alt="[]"></span><span class="cislo">4</span><span class="nazev">Datum, čas a kalendář</span></a>
<a href="diskove-oddily.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/diskove-oddily.png" alt="[]"></span><span class="cislo">5</span><span class="nazev">Diskové oddíly</span></a>
<a href="docker.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/docker.png" alt="[]"></span><span class="cislo">6</span><span class="nazev">Docker</span></a>
<a href="git.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/git.png" alt="[]"></span><span class="cislo">7</span><span class="nazev">Git</span></a>
<a href="hledani-souboru.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/hledani-souboru.png" alt="[]"></span><span class="cislo">8</span><span class="nazev">Hledání souborů</span></a>
<a href="make.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/make.png" alt="[]"></span><span class="cislo">9</span><span class="nazev">Make</span></a>
<a href="markdown.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/markdown.png" alt="[]"></span><span class="cislo">10</span><span class="nazev">Markdown</span></a>
<a href="planovani-uloh.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/planovani-uloh.png" alt="[]"></span><span class="cislo">11</span><span class="nazev">Plánování úloh</span></a>
<a href="prace-s-archivy.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/prace-s-archivy.png" alt="[]"></span><span class="cislo">12</span><span class="nazev">Práce s archivy</span></a>
<a href="promenne.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/promenne.png" alt="[]"></span><span class="cislo">13</span><span class="nazev">Proměnné prostředí a interpretu</span></a>
<a href="regularni-vyrazy.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/regularni-vyrazy.png" alt="[]"></span><span class="cislo">14</span><span class="nazev">Regulární výrazy</span></a>
<a href="sed.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sed.png" alt="[]"></span><span class="cislo">15</span><span class="nazev">Sed</span></a>
<a href="soubory-a-adresare.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/soubory-a-adresare.png" alt="[]"></span><span class="cislo">16</span><span class="nazev">Soubory a adresáře</span></a>
<a href="sprava-balicku.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-balicku.png" alt="[]"></span><span class="cislo">17</span><span class="nazev">Správa balíčků</span></a>
<a href="sprava-procesu.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-procesu.png" alt="[]"></span><span class="cislo">18</span><span class="nazev">Správa procesů</span></a>
<a href="sprava-uzivatelskych-uctu.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-uzivatelskych-uctu.png" alt="[]"></span><span class="cislo">19</span><span class="nazev">Správa uživatelských účtů</span></a>
<a href="system.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/system.png" alt="[]"></span><span class="cislo">20</span><span class="nazev">Systém</span></a>
<a href="vim.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/vim.png" alt="[]"></span><span class="cislo">21</span><span class="nazev">Vim</span></a>
<a href="zpracovani-textovych-souboru.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/zpracovani-textovych-souboru.png" alt="[]"></span><span class="cislo">22</span><span class="nazev">Zpracování textových souborů</span></a>
<a href="zpracovani-videa-a-zvuku.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/zpracovani-videa-a-zvuku.png" alt="[]"></span><span class="cislo">23</span><span class="nazev">Zpracování videa a zvuku</span></a>
<a href="licence.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik-vychozi.png" alt="[]"></span><span class="cislo">24</span><span class="nazev">Licence</span></a>
</div></div>
<a href="#zavritmenu" id="zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU OSNOVA -->
<a href="#menuosnova" id="menuosnova"><span class="prvnipismeno">O</span>snova</a>
<aside class="menuosnova">
<div><div class="nadpis">Osnova</div><div class="polozky">
<a href="#cast1" class="sekce">1 Úvod</a>
<a href="#cast2" class="sekce">2 Definice</a>
<a href="#cast3" class="sekce">3 Zaklínadla</a>
<a href="#cast3x1" class="podsekce">/1 Vzorky a bloky příkazů</a>
<a href="#cast3x2" class="podsekce">/2 Skalární proměnné</a>
<a href="#cast3x3" class="podsekce">/3 Asociativní pole</a>
<a href="#cast3x4" class="podsekce">/4 Asociativní pole: řazení</a>
<a href="#cast3x5" class="podsekce">/5 Podmínky, cykly a přepínač</a>
<a href="#cast3x6" class="podsekce">/6 Řízení toku</a>
<a href="#cast3x7" class="podsekce">/7 Dělení záznamů na sloupce</a>
<a href="#cast3x8" class="podsekce">/8 Speciální proměnné</a>
<a href="#cast3x9" class="podsekce">/9 Ostatní</a>
<a href="#cast4" class="sekce">4 Zaklínadla (výstup, vstup a interakce s bashem)</a>
<a href="#cast4x1" class="podsekce">/1 Příkazy výstupu</a>
<a href="#cast4x2" class="podsekce">/2 Uzavření vstupu/výstupu</a>
<a href="#cast4x3" class="podsekce">/3 Bash</a>
<a href="#cast4x4" class="podsekce">/4 Přesměrování výstupu</a>
<a href="#cast4x5" class="podsekce">/5 Přesměrování vstupu</a>
<a href="#cast4x6" class="podsekce">/6 Koprocesy</a>
<a href="#cast4x7" class="podsekce">/7 Informace o procesu AWK</a>
<a href="#cast5" class="sekce">5 Zaklínadla (funkce)</a>
<a href="#cast5x1" class="podsekce">/1 Uživatelské funkce</a>
<a href="#cast5x2" class="podsekce">/2 Řetězcové funkce (regulární výrazy)</a>
<a href="#cast5x3" class="podsekce">/3 Řetězcové funkce (základní)</a>
<a href="#cast5x4" class="podsekce">/4 Konverze číselných soustav</a>
<a href="#cast5x5" class="podsekce">/5 Číselné funkce</a>
<a href="#cast5x6" class="podsekce">/6 Práce s časem</a>
<a href="#cast5x7" class="podsekce">/7 Pokročilé konstrukce</a>
<a href="#cast6" class="sekce">6 Parametry příkazů</a>
<a href="#cast7" class="sekce">7 Instalace na Ubuntu</a>
<a href="#cast8" class="sekce">8 Tipy a zkušenosti</a>
<a href="#cast9" class="sekce">9 Další zdroje informací</a>
<a href="#cast10" class="sekce">10 Pomocné funkce a skripty</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU ŠTÍTKY -->
<a href="#menustitky" id="menustitky"><span class="prvnipismeno">Š</span>títky</a>
<aside class="menustitky">
<div><div class="nadpis">Štítky</div><div class="polozky">
<a href="x-stitky.htm#sdrese">adresáře&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#spt">apt&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sbrvy">barvy&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sbsh">bash&nbsp;&nbsp;(3)</a>
<a href="x-stitky.htm#scs">čas&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#sdmoni">démoni&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#seditor">editor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sfltpk">Flatpak&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#shledn">hledání&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sklvesnice">klávesnice&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#skomprese">komprese&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#skontejnery">kontejnery&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#slvm">LVM&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sodkldcprostor">odkládací prostor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sovldn">ovládání&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sprocesy">procesy&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sprogrm">program&nbsp;&nbsp;(6)</a>
<a href="x-stitky.htm#sprogrmovn">programování&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#spstupovprv">přístupová práva&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#srmdisk">ramdisk&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssnp">Snap&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssoubory">soubory&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssprvverz">správa verzí&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssyntxe">syntaxe&nbsp;&nbsp;(4)</a>
<a href="x-stitky.htm#ssystm">systém&nbsp;&nbsp;(6)</a>
<a href="x-stitky.htm#stemtickokruh">tematický okruh&nbsp;&nbsp;(14)</a>
<a href="x-stitky.htm#svideo">video&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#svirtulizce">virtualizace&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szip">zip&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szprcovntextu">zpracování textu&nbsp;&nbsp;(4)</a>
<a href="x-stitky.htm#szvuk">zvuk&nbsp;&nbsp;(1)</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU NÁPOVĚDA -->
<a href="#menunapoveda" id="menunapoveda"><span class="prvnipismeno">N</span>ápověda</a>
<aside class="menunapoveda">
<div><div class="nadpis">Nápověda</div><div class="polozky">
<a href="predmluva.htm">Předmluva</a>
<a href="https://singularis-mzf.github.io/">Ostatní verze knihy</a>
<a href="https://github.com/singularis-mzf/linux-spellbook">Repozitář na GitHubu</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>

</nav>
<!-- *** -->
<footer id="dole">
<img src="obrazky/by-sa.png" width="88" height="31" alt="[BY-SA]">
<p>Veškerý obsah této stránky (text, obrázky, zdrojový kód) je možno upravovat a šířit pod podmínkami licence
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>.
Upozorňuji, že uvedená licence vyžaduje uvedení seznamu autorů, licence a zdroje a poskytnutí stejné
či kompatibilní licence k provedeným změnám, jsou-li nějaké. Příslušné údaje jsou dostupné
na stránce „<a href="x-autori.htm">Přehled autorů</a>“.
Šíření obsahu bez těchto údajů nebo šíření upravené verze bez poskytnutí adekvátní
licence k provedeným úpravám je pravděpodobně porušení licenčních podmínek a může být postihováno.
Poskytování zdrojového kódu při šíření není touto licencí vyžadováno.</p><p>Pro nové verze, další informace, aktuální zdrojový kód
a možnost se zapojit do projektu „Linux: Kniha kouzel“ navštivte jeho
<a href="https://github.com/singularis-mzf/linux-spellbook">repozitář na GitHubu</a>.
</footer>
</body>
</html>
