<!doctype html>
<html lang="cs">
<head profile="http://www.w3.org/2005/10/profile">
<meta charset="UTF-8">

<title>Proměnné prostředí a interpretu − Linux: Kniha kouzel</title>

<link rel="stylesheet" type="text/css" href="lkk-20200906.css">
<link rel="alternate stylesheet" type="text/css" href="lkk-20200906-vk-svetly.css" title="Vysoký kontrast: světlá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20200906-vk-tmavy.css" title="Vysoký kontrast: tmavá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20200906-tmavy.css" title="Tmavý motiv">
<link rel="icon" type="image/png" href="obrazky/favicon.png">
</head>
<body>
<div id="nahore"></div>
<header>
<span class="left"><a href="index.htm"><img src="obrazky/favicon.png" width="16" height="16" alt=""></a> Linux: Kniha kouzel, vanilková příchuť 1.12, H. H. (6. září 2020)</span>
<span class="right"><span class="ico1"></span><span class="ico2"></span><span class="ico3"></span></span>
</header>
<nav class="menuokna">
<a href="#menukapitoly" class="menu"><span class="prvnipismeno">K</span>apitoly</a>
<a href="#menuosnova" class="menu"><span class="prvnipismeno">O</span>snova</a>
<a href="#menustitky" class="menu"><span class="prvnipismeno">Š</span>títky</a>
<a href="#menunapoveda" class="menu"><span class="prvnipismeno">N</span>ápověda</a>
<a href="prace-s-archivy.htm" rel="prev" title="12. Práce s archivy" accesskey="p" class="predchozi">Předchozí&nbsp;kapitola</a>
<a href="index.htm" class="prehled"><span class="prvnipismeno">P</span>řehled kapitol</a>
<a href="regularni-vyrazy.htm" rel="next" title="14. Regulární výrazy" accesskey="n" class="nasledujici">Následující&nbsp;kapitola</a>
</nav>

<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>

<!--
<nav class="horni">
<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>
<span class="prev">
<a href="prace-s-archivy.htm" rel="prev" title="12. Práce s archivy" accesskey="p">Předchozí&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm" accesskey="i">Přehled</a><span class="next"><!- -
- ->&nbsp;| <a href="regularni-vyrazy.htm" rel="next" title="14. Regulární výrazy" accesskey="n">Následující&nbsp;kapitola</a>
</span>
</nav>
-->


<article>

<h1 class="kapitola">13. <img src="obrazky/ik/promenne.png" alt="" width="64" height="64"> Proměnné prostředí a interpretu</h1>
<div class="stitky"><a href="x-stitky.htm#sbsh">bash</a>
<a href="x-stitky.htm#ssystm">systém</a>
<a href="x-stitky.htm#stemtickokruh">tematický okruh</a>
</div>
<h2 id="cast1"><a href="#cast1"><span class="cislo">1.</span> Úvod</a></h2>
<p class="ponadpisu">
Tato kapitola pokrývá veškerou práci s proměnnými a funkcemi interpretu Bash
a uvádí některé systémově důležité proměnné prostředí.
Rovněž pokrývá práci s parametry skriptů a funkcí v Bashi.
</p><p>
Proměnné se v bashi (zejména ve skriptech a funkcích) používají k dočasnému
uchování krátkých textových dat (popř. čísel) mezi příkazy. Většina proměnných
je viditelná pouze v rámci dané instance interpretu; pro práci s prostředím
se používají „exportované“ proměnné, které instance bashe vytvoří z proměnných
prostředí v momentě svého spuštění a ze kterých sestaví prostředí každého
procesu, který spustí.
</p><p>
Tato verze kapitoly nepokrývá zvláštní proměnné interpretu bash,
které řídí jeho funkci, ale nebývají proměnnými prostředí;
nedostatečně pokrývá lokální proměnné ve funkcích;
nepokrývá možnosti přednastavení proměnných v souborech jako
/etc/environment, „.profile“ či „.bashrc“.
Do této kapitoly nespadají takzvané zvláštní parametry (jako např. $?, $! apod.).
</p>

<h2 id="cast2"><a href="#cast2"><span class="cislo">2.</span> Definice</a></h2>
<ul><li>Bash rozeznává tři základní typy proměnných: <b>řetězcové proměnné</b>, <b>pole</b> (indexované celými čísly od nuly) a <b>asociativní pole</b> (indexované neprázdným řetězcem zvaným <b>klíč</b>).
</li><li><b>Prostředí</b> je soubor řetězcových proměnných (tzv. <b>proměnných prostředí</b>), který má nejen bash, ale každý proces (s výjimkou jaderných démonů). Obvykle vzniká jako kopie prostředí rodičovského procesu (což umožňuje šířit proměnné prostředí přes meziprocesy, které se o ně nezajímají); to ovšem neplatí, je-li rodičovským procesem bash; ten vytváří prostředí spuštěných procesů ze svých <b>exportovaných proměnných</b>. Exportované proměnné bash vytvoří z prostředí v momentě svého spuštění a dál se s nimi pracuje stejně jako s ostatními řetězcovými proměnnými, včetně možnosti je vytvářet a rušit.
</li><li><b>Funkce</b> je krátký skript, který se místo do souboru ukládá do paměti (stejně jako proměnná). Na rozdíl od skriptu se také vždy spouští v rámci stávající instance bashe. Stejně jako skript lze funkci zavolat zadáním jejího názvu jako příkazu a má svoje poziční parametry. Funkce se často používají ve skriptech jako podprogramy, ale užitečné jsou i v interaktivním režimu.
</li><li><b>Konstanta</b> je proměnná (jen zřídka exportovaná), které je jednorázově přidělena hodnota a dále již nemůže být změněna ani zrušena.
</li><li><b>Parametry</b> (také <b>poziční parametry</b>) jsou v bashi přístupné jako zvláštní proměnné „1“, „2“ atd. Poziční parametry lze číst jako obyčejné proměnné, ale přiřadit jde jen do všech najednou, a to voláním skriptu, volání funkce nebo příkazem „set“.
</li><li><b>Celočíselné proměnné</b> jsou řetězcové proměnné a prvky polí či asociativních polí, kterým byl nastaven atribut „i“. Při každém přiřazení do takové proměnné (resp. prvku) se přiřazovaný text vyhodnotí jako celočíselný výraz a do proměnné/prvku se přiřadí výsledná celočíselná hodnota.
</li></ul><p>
Názvy proměnných a funkcí jsou obvykle tvořeny jen velkými a malými písmeny anglické abecedy, podtržítky a číslicemi, přičemž nesmí začínat číslicí.
</p>

<h2 id="cast3"><a href="#cast3"><span class="cislo">3.</span> Zaklínadla: Proměnné v bashi</a></h2>

<h3 id="cast3x1"><span><a href="#cast3x1" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 1 (Řetězcové proměnné)"><sup>3/</sup>1 Řetězcové proměnné</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z753668856"><span><a href="#z753668856">⪂</a></span></span><b>přiřadit</b> proměnné hodnotu<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">název_proměnné</i>=&quot;<i class="dopln">nová-hodnota</i>&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z640902348"><span><a href="#z640902348">˕</a></span></span><b>zrušit</b> proměnnou<span class="cislo">#2 </span><sup><a href="#kappromenneppc1" id="kappromenneppcr1" title="Pozor! Příkaz „unset“ uspěje i tehdy, pokud daná proměnná neexistuje.">(1)</a></sup></div><div class="radky">
<div class="radekzaklinadla">unset -v <i class="dopln">název_proměnné</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z467152182"><span><a href="#z467152182">⬙</a></span></span>vypsat <b>seznam</b> (s hodnotami/bez hodnot/s hodnotami ve formátu txtz)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">for _ in $(compgen -v); do [[ ${!_@a} = *[aA]* ]] || declare -p &quot;$_&quot;; done</div>
<div class="radekzaklinadla">for _ in $(compgen -v); do [[ ${!_@a} = *[aA]* ]] || printf '%s\n' &quot;$_&quot;; done</div>
<div class="radekzaklinadla">for _ in $(compgen -v); do [[ ${!_@a} = *[aA]* ]] || printf '%s=%s\0' &quot;$_&quot; &quot;${!_}&quot;; done</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z966242526"><span><a href="#z966242526">⁕</a></span></span><b>připojit</b> text na začátek/konec proměnné<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">název_proměnné</i>=&quot;<i class="dopln">nová-hodnota</i>$<i class="dopln">název_proměnné</i>&quot;</div>
<div class="radekzaklinadla"><i class="dopln">název_proměnné</i>+=&quot;<i class="dopln">nová-hodnota</i>&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1044341777"><span><a href="#z1044341777">┽</a></span></span>jde o <b>řetězcovou</b> proměnnou? (alternativy)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">[[ -v <i class="dopln">název_proměnné</i> &amp;&amp; ${<i class="dopln">název_proměnné</i>@a} = *([!aA]) ]]</div>
<div class="radekzaklinadla">[[ -v <i class="dopln">název_proměnné</i> &amp;&amp; ${<i class="dopln">název_proměnné</i>@a} =~ ^[^aA]*$ ]]</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1684521225"><span><a href="#z1684521225">⢽</a></span></span>automatická konverze velikosti písmen při přiřazení (na velká písmena/na malá písmena/vypnout)<span class="cislo">#6 </span><sup><a href="#kappromenneppc2" id="kappromenneppcr2" title="Pozor! Zapnutí této konverze nezmění stávající hodnotu proměnné, účinek nastane až při následujícím přiřazení!">(2)</a></sup></div><div class="radky">
<div class="radekzaklinadla">declare -u <i class="dopln">název_proměnné</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">declare -l <i class="dopln">název_proměnné</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">declare +lu <i class="dopln">název_proměnné</i><span class="tritecky"></span></div>
</div></div>

<h3 id="cast3x2"><span><a href="#cast3x2" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 2 (Exportování proměnných)"><sup>3/</sup>2 Exportování proměnných</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2102911"><span><a href="#z2102911">┈</a></span></span><b>exportovat</b>/neexportovat proměnnou<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">export <i class="dopln">název_proměnné</i><span class="volznak">[</span>=<i class="dopln">nová-hodnota</i><span class="volznak">]</span></div>
<div class="radekzaklinadla">export -n <i class="dopln">název_proměnné</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1990779620"><span><a href="#z1990779620">↻</a></span></span>jde o <b>exportovanou</b>/neexportovanou proměnnou?<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">[[ ${<i class="dopln">název_proměnné</i>@a} = *x* ]]</div>
<div class="radekzaklinadla">[[ -v <i class="dopln">název_proměnné</i> &amp;&amp; ! ${<i class="dopln">název_proměnné</i>@a} = *x* ]]</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1659115516"><span><a href="#z1659115516">❧</a></span></span><b>seznam</b> exportovaných proměnných (s hodnotami/bez hodnot)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">(set -o posix; declare -x)</div>
<div class="radekzaklinadla">compgen -e</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1336265636"><span><a href="#z1336265636">⠙</a></span></span>seznam neexportovaných proměnných (s hodnotami/bez hodnot)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">(set -o posix; declare +x)</div>
<div class="radekzaklinadla">for _ in $(compgen -v); do [[ ${!_@a} = *x* ]] || printf '%s\n' &quot;$_&quot;; done</div>
</div></div>

<h3 id="cast3x3"><span><a href="#cast3x3" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 3 (Obecné)"><sup>3/</sup>3 Obecné</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1502984899"><span><a href="#z1502984899">ⵃ</a></span></span>jde o proměnnou?<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">test -v <i class="dopln">název_proměnné</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2085421507"><span><a href="#z2085421507">☥</a></span></span><b>seznam</b> všech proměnných (s hodnotami/bez hodnot)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">(set -o posix; set)</div>
<div class="radekzaklinadla">compgen -v</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z659821847"><span><a href="#z659821847">⟝</a></span></span>dosadit názvy všech proměnných, které začínají určitou předponou<span class="cislo">#3 </span><sup><a href="#kappromenneppc3" id="kappromenneppcr3" title="Názvy proměnných se dosadí jako samostatné parametry (podobně jako u speciálního parametru $@).">(3)</a></sup></div><div class="radky">
<div class="radekzaklinadla">${!<i class="dopln">předpona</i>@}<span class="prikladhodnoty">⊨ PATH PIPESTATUS PPID PROMPT_COMMAND PS1 PS2 PS4 PWD</span></div>
</div></div>

<h3 id="cast3x4"><span><a href="#cast3x4" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 4 (Pole (jako celek))"><sup>3/</sup>4 Pole (jako celek)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z980528219"><span><a href="#z980528219">⏞</a></span></span><b>vytvořit</b> či přepsat/<b>zrušit</b>/vyprázdnit<span class="cislo">#1 </span><sup><a href="#kappromenneppc4" id="kappromenneppcr4" title="Prvky pole se zadávají stejně jako parametry příkazu, tzn. oddělují se mezerami; obsahují-li zvláštní znaky, budou interpretovány, pokud je neodzvláštníte (vhodné je umístění do uvozovek či apostrofů).">(4)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">název_pole</i>=(<span class="volznak">[</span><i class="dopln">prvky</i><span class="volznak">]</span><span class="tritecky"></span>)</div>
<div class="radekzaklinadla">unset -v <i class="dopln">název_pole</i></div>
<div class="radekzaklinadla"><i class="dopln">název_pole</i>=()</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z145295529"><span><a href="#z145295529">∽</a></span></span><b>seznam</b> polí (bez hodnot)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">compgen -A arrayvar</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1897059959"><span><a href="#z1897059959">⊺</a></span></span>dosadit <b>počet</b> prvků<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">${#<i class="dopln">názevpole</i>[@]}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z812507496"><span><a href="#z812507496">䷣</a></span></span>jde o <b>pole</b>?<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">[[ ${<i class="dopln">název_proměnné</i>@a} = *a* ]]</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1240803747"><span><a href="#z1240803747">☩</a></span></span><b>zkopírovat</b> (celé pole/výřez)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">cílové_pole</i>=(&quot;${<i class="dopln">zdrojové_pole</i>[@]}&quot;)</div>
<div class="radekzaklinadla"><i class="dopln">cílové_pole</i>=(&quot;${<i class="dopln">zdrojové_pole</i>[@]:<i class="dopln">první-kopírovaný-index</i><span class="volznak">[</span>:<i class="dopln">maximální-počet</i><span class="volznak">]</span>}&quot;)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z878558434"><span><a href="#z878558434">↣</a></span></span><b>spojit</b> dvě pole<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">cílové_pole</i>=(&quot;${<i class="dopln">první_pole</i>[@]}&quot; &quot;${<i class="dopln">druhé_pole</i>[@]}&quot;)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z451954494"><span><a href="#z451954494">ᚘ</a></span></span><b>rozdělit</b> pole na poloviny<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">první_cíl</i>=(&quot;${<i class="dopln">názevpole</i>[@]:0:$((${#<i class="dopln">název_pole</i>[@]}/2+1))}&quot;)</div>
<div class="radekzaklinadla"><i class="dopln">druhý_cíl</i>=(&quot;${<i class="dopln">názevpole</i>[@]:$((${#<i class="dopln">název_pole</i>[@]}/2+1))}&quot;)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z574731467"><span><a href="#z574731467">┭</a></span></span><b>obrátit</b> pořadí prvků pole<span class="cislo">#8 </span><sup><a href="#kappromenneppc5" id="kappromenneppcr5" title="V případě potřeby změňte názvy pomocných proměnných „i“, „j“ a „x“.">(5)</a></sup></div><div class="radky">
<div class="radekzaklinadla">i=-1 j=${#<i class="dopln">název_pole</i>[@]}</div>
<div class="radekzaklinadla">while test $((++i)) -lt $((--j))</div>
<div class="radekzaklinadla">do</div>
<div class="radekzaklinadla" style="padding-left:2ch;">x=${<i class="dopln">název_pole</i>[i]}</div>
<div class="radekzaklinadla" style="padding-left:2ch;"><i class="dopln">název_pole</i>[i]=${<i class="dopln">název_pole</i>[j]}</div>
<div class="radekzaklinadla" style="padding-left:2ch;"><i class="dopln">název_pole</i>[j]=$x</div>
<div class="radekzaklinadla">done</div>
<div class="radekzaklinadla"><span class="volznak">[</span>unset -v i j x<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z551483406"><span><a href="#z551483406">◰</a></span></span>přiřadit do pole <b>parametry</b> skriptu či funkce<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">cílové_pole</i>=(&quot;$@&quot;)</div>
</div></div>

<h3 id="cast3x5"><span><a href="#cast3x5" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 5 (Pole (práce s prvky))"><sup>3/</sup>5 Pole (práce s prvky)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1489043493"><span><a href="#z1489043493">∆</a></span></span><b>přečíst</b> prvek na indexu N/<b>přiřadit</b> do něj<span class="cislo">#1 </span><sup><a href="#kappromenneppc6" id="kappromenneppcr6" title="Je dovoleno přiřadit do prvku libovolně daleko za koncem pole; Bash v takovém případě pole automaticky prodlouží prázdnými řetězci, aby index byl platný.">(6)</a></sup></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_pole</i>[<i class="dopln">N</i>]<span class="volznak">[</span>-<i class="dopln">náhradní hodnota</i><span class="volznak">]</span>}</div>
<div class="radekzaklinadla"><i class="dopln">název_pole</i>[<i class="dopln">N</i>]=<i class="dopln">hodnota</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z139900797"><span><a href="#z139900797">⣺</a></span></span><b>iterovat</b> přes prvky/přes indexy<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">for <i class="dopln">iterační_proměnná</i> in &quot;${<i class="dopln">název_pole</i>[@]}&quot;; do <i class="dopln">...</i>; done</div>
<div class="radekzaklinadla">for <i class="dopln">iterační_proměnná</i> in &quot;${!<i class="dopln">název_pole</i>[@]}&quot;; do <i class="dopln">...</i>; done</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z162382507"><span><a href="#z162382507">✍</a></span></span>dosadit <b>výřez</b> pole<span class="cislo">#3 </span><sup><a href="#kappromenneppc7" id="kappromenneppcr7" title="Výřez se dosadí jako samostatné parametry (podobně jako u zvláštního parametru $@).">(7)</a></sup></div><div class="radky">
<div class="radekzaklinadla">&quot;${<i class="dopln">zdrojové_pole</i>[@]:<i class="dopln">první-kopírovaný-index</i><span class="volznak">[</span>:<i class="dopln">maximální-počet</i><span class="volznak">]</span>}&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1470540931"><span><a href="#z1470540931">⪄</a></span></span><b>vložit</b> nový prvek na začátek/konec<span class="cislo">#4 </span><sup><a href="#kappromenneppc8" id="kappromenneppcr8" title="Pozor! Vkládání prvků na začátek je v případě rozsáhlého pole velmi pomalé! Snažte se mu vyhnout a vkládat prvky raději na konec. Pro vložení prvku doprostřed použijte spojování polí (které je ale také pomalé).">(8)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">název_pole</i>=(&quot;<i class="dopln">nový prvek</i>&quot; &quot;${<i class="dopln">název_pole</i>[@]}&quot;)</div>
<div class="radekzaklinadla"><i class="dopln">název_pole</i>+=(&quot;<i class="dopln">nový prvek</i>&quot;)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z384470782"><span><a href="#z384470782">⣋</a></span></span><b>odstranit</b> N prvků na začátku/konci<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">název_pole</i>=(&quot;${<i class="dopln">názevpole</i>[@]:<i class="dopln">N</i>}&quot;)</div>
<div class="radekzaklinadla"><i class="dopln">název_pole</i>=(&quot;${<i class="dopln">názevpole</i>[@]:0:$((${#<i class="dopln">název_pole</i>[@]}-<i class="dopln">N</i>))}&quot;)</div>
</div></div>

<h3 id="cast3x6"><span><a href="#cast3x6" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 6 (Asociativní pole (jako celek))"><sup>3/</sup>6 Asociativní pole (jako celek)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z532479083"><span><a href="#z532479083">┈</a></span></span><b>vytvořit</b> = vyprázdnit<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">unset -v <i class="dopln">název</i> &amp;&amp; declare -A <i class="dopln">název</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1089427782"><span><a href="#z1089427782">⡤</a></span></span><b>zrušit</b><span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">unset -v <i class="dopln">název</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1461842482"><span><a href="#z1461842482">ᔬ</a></span></span>jde o <b>asociativní pole</b>?<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">[[ ${<i class="dopln">název_proměnné</i>@a} = *A* ]]</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z724483965"><span><a href="#z724483965">ʔ</a></span></span>seznam asociativních polí (bez hodnot)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">for _ in $(compgen -v); do [[ ! ${!_@a} = *A* ]] || printf '%s\n' &quot;$_&quot;; done</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1897059959x"><span><a href="#z1897059959x">⊺</a></span></span>dosadit <b>počet</b> prvků<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">${#<i class="dopln">název</i>[@]}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1987047164"><span><a href="#z1987047164">⣔</a></span></span><b>zkopírovat</b><span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">unset -v <i class="dopln">cílovépole</i></div>
<div class="radekzaklinadla">declare -A <i class="dopln">cílovépole</i></div>
<div class="radekzaklinadla">for _ in &quot;${!<i class="dopln">zdrojovépole</i>[@]}&quot;; do cílovépole[$_]=${<i class="dopln">zdrojovépole</i>[$_]}; done</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1111577208"><span><a href="#z1111577208">⁛</a></span></span><b>sloučit</b> dvě asociativní pole<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">for _ in &quot;${!<i class="dopln">zdrojovépole</i>[@]}&quot;; do cílovépole[$_]=${<i class="dopln">zdrojovépole</i>[$_]}; done</div>
</div></div>

<h3 id="cast3x7"><span><a href="#cast3x7" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 7 (Asociativní pole (práce s klíči a prvky))"><sup>3/</sup>7 Asociativní pole (práce s klíči a prvky)</a></span></h3>
<p class="ponadpisu">
Pozor! Klíčem v asociativním poli může být pouze neprázdný řetězec!
Prázdný klíč způsobí chybu „chybný podskript pole“.
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z627569485"><span><a href="#z627569485">☝</a></span></span><b>přečíst</b> hodnotu prvku (klíč je řetězec/hodnota proměnné)<span class="cislo">#1 </span><sup><a href="#kappromenneppc9" id="kappromenneppcr9" title="Tyto tvary uvádějte vždy ve dvojitých uvozovkách. Klíč se v tomto případě vyhodnocuje, jako by byl sám uvnitř samostatných dvojitých uvozovek, což umožňuje i vícenásobné vnoření této konstrukce, ačkoliv to je špatně čitelné.">(9)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>&quot;<i class="dopln">...</i><span class="volznak">]</span>${<i class="dopln">názevpole</i>[&quot;<i class="dopln">klíč</i>&quot;]}<span class="volznak">[</span><i class="dopln">...</i>&quot;<span class="volznak">]</span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>&quot;<i class="dopln">...</i><span class="volznak">]</span>${<i class="dopln">názevpole</i>[&quot;$<i class="dopln">klíč_proměnná</i>&quot;]}<span class="volznak">[</span><i class="dopln">...</i>&quot;<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z816261630"><span><a href="#z816261630">⤋</a></span></span><b>přiřadit</b> hodnotu prvku (klíč je: řetězec/hodnota proměnné)<span class="cislo">#2 </span><sup><a href="#kappromenneppc10" id="kappromenneppcr10" title="Uvozovky kolem klíče slouží pouze k odzvláštnění znaků klíče, můžete je odzvláštnit i jinak, např. zpětným lomítkem či apostrofy.">(10)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">názevpole</i>[&quot;<i class="dopln">klíč</i>&quot;]=&quot;<i class="dopln">hodnota</i>&quot;</div>
<div class="radekzaklinadla"><i class="dopln">názevpole</i>[$<i class="dopln">klíč_proměnná</i>]=&quot;<i class="dopln">hodnota</i>&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z922124191"><span><a href="#z922124191">⟼</a></span></span><b>obsahuje</b> prvek se zadaným klíčem? (klíč je hodnota proměnné)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">test -v &quot;<i class="dopln">názevpole</i>[${<i class="dopln">proměnná_s_klíčem</i>@Q}]&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2038233841"><span><a href="#z2038233841">┆</a></span></span>obsahuje prvek se zadaným klíčem? (klíč je řetězec)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">: '<i class="dopln">klíč</i>' <span class="volznak">[</span>&amp;&amp;<span class="volznak">]</span></div>
<div class="radekzaklinadla">test -v &quot;<i class="dopln">názevpole</i>[${_@Q}]&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z231327920"><span><a href="#z231327920">⎨</a></span></span>dosadit <b>klíče</b>/<b>hodnoty</b><span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">&quot;${!<i class="dopln">název_pole</i>[@]}&quot;</div>
<div class="radekzaklinadla">&quot;${<i class="dopln">název_pole</i>[@]}&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1820395129"><span><a href="#z1820395129">∿</a></span></span><b>iterovat</b> přes klíče/přes hodnoty<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">for <i class="dopln">iterační_proměnná</i> in &quot;${!<i class="dopln">název_pole</i>[@]}&quot;; do <i class="dopln">...</i>; done</div>
<div class="radekzaklinadla">for <i class="dopln">iterační_proměnná</i> in &quot;${<i class="dopln">název_pole</i>[@]}&quot;; do <i class="dopln">...</i>; done</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z707305665"><span><a href="#z707305665">⪅</a></span></span>odstranit prvek podle klíče (klíč je hodnota proměnné)<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">unset -v &quot;<i class="dopln">názevpole</i>[${<i class="dopln">proměnná_s_klíčem</i>@Q}]&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1358431853"><span><a href="#z1358431853">≿</a></span></span><b>odstranit</b> prvek podle klíče (klíč je řetězec)<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla">: &quot;<i class="dopln">klíč</i>&quot; <span class="volznak">[</span>&amp;&amp;<span class="volznak">]</span></div>
<div class="radekzaklinadla">unset -v &quot;<i class="dopln">názevpole</i>[${_@Q}]&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z238322068"><span><a href="#z238322068">⣄</a></span></span>příklady: přiřadit do proměnné „x“ hodnotu z asociativního pole „a“, kde klíčem je: zpětné lomítko/dvě zpětná lomítka/apostrof/dvojitá uvozovka/„A B“/„} }“<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla">x=&quot;${a[&quot;\\&quot;]}&quot;</div>
<div class="radekzaklinadla">x=&quot;${a[&quot;\\\\&quot;]}&quot;</div>
<div class="radekzaklinadla">x=&quot;${a[&quot;'&quot;]}&quot;</div>
<div class="radekzaklinadla">x=&quot;${a[&quot;\&quot;&quot;]}&quot;</div>
<div class="radekzaklinadla">x=&quot;${a[&quot;A B&quot;]}&quot;</div>
<div class="radekzaklinadla">x=&quot;${a[&quot;} }&quot;]}&quot;</div>
</div></div>

<h3 id="cast3x8"><span><a href="#cast3x8" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 8 (Funkce)"><sup>3/</sup>8 Funkce</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2136939592"><span><a href="#z2136939592">≦</a></span></span><b>vytvořit</b>/přepsat funkci<span class="cislo">#1 </span><sup><a href="#kappromenneppc11" id="kappromenneppcr11" title="Pokud je uzavírací závorka „}“ na stejném řádku jako poslední příkaz těla funkce, musí být od příkazu oddělená středníkem.">(11)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>function<span class="volznak">]</span> <i class="dopln">název_funkce</i>() {</div>
<div class="radekzaklinadla"><span class="volznak">[</span><i class="dopln">tělo-funkce</i><span class="volznak">]</span></div>
<div class="radekzaklinadla">}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2062808824"><span><a href="#z2062808824">⢘</a></span></span><b>zavolat</b> funkci<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">název_funkce</i> <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z622757950"><span><a href="#z622757950">∿</a></span></span><b>seznam</b> funkcí (s těly/bez těl)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">declare -f</div>
<div class="radekzaklinadla">compgen -A function</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z667100557"><span><a href="#z667100557">☄</a></span></span><b>existuje</b> funkce?<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">declare -f <i class="dopln">název_funkce</i> &gt;/dev/null</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z711658042"><span><a href="#z711658042">ᚚ</a></span></span><b>zrušit</b> funkci<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">unset -f <i class="dopln">název_funkce</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1044627455"><span><a href="#z1044627455">⠭</a></span></span>vypsat <b>definici</b> funkce<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">declare -f <i class="dopln">název_funkce</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1851165558"><span><a href="#z1851165558">◮</a></span></span>exportovat/neexportovat funkci<span class="cislo">#7 </span><sup><a href="#kappromenneppc12" id="kappromenneppcr12" title="Exportované funkce se uloží do zvláštních proměnných prostředí a další instance bashe, která je tímto způsobem „zdědí“, je opět načte jako funkce. Doporučuji exportování funkcí příliš nepoužívat, protože tak můžete snadno ztratit kontrolu nad tím, kam všude se vaše funkce dostanou.">(12)</a></sup></div><div class="radky">
<div class="radekzaklinadla">export -f <i class="dopln">název_funkce</i></div>
<div class="radekzaklinadla">export -fn <i class="dopln">název_funkce</i></div>
</div></div>

<h3 id="cast3x9"><span><a href="#cast3x9" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 9 (Celočíselné proměnné)"><sup>3/</sup>9 Celočíselné proměnné</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1028308278"><span><a href="#z1028308278">┈</a></span></span>jde o celočíselnou proměnnou?<span class="cislo">#1 </span><sup><a href="#kappromenneppc13" id="kappromenneppcr13" title="Tento test odpoví kladně i v případě, že půjde o pole celočíselných hodnot či asociativní pole celočíselných hodnot.">(13)</a></sup></div><div class="radky">
<div class="radekzaklinadla">[[ ${<i class="dopln">název_proměnné</i>@a} = *i* ]]</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z812684587"><span><a href="#z812684587">⢵</a></span></span><b>nastavit</b> řetězcovou proměnnou jako celočíselnou (obecně/příklady...)<span class="cislo">#2 </span><sup><a href="#kappromenneppc14" id="kappromenneppcr14" title="Hodnoty přiřazené do celočíselných proměnných se automaticky vyhodnocují jako výrazy a konvertují na celé číslo. Místo každého druhého názvu proměnné v uvedeném příkazu pochopitelně můžete uvést novou hodnotu proměnné, a to i výrazem.">(14)</a></sup></div><div class="radky">
<div class="radekzaklinadla">declare -i <i class="dopln">název_proměnné</i>=$<i class="dopln">název_proměnné</i> <span class="volznak">[</span><i class="dopln">další_proměnná</i>=$<i class="dopln">další_proměnná</i><span class="volznak">]</span><span class="tritecky"></span></div>
<div class="radekzaklinadla">declare -i x=$x</div>
<div class="radekzaklinadla">declare -i x=-1</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1315362820"><span><a href="#z1315362820">╇</a></span></span>nastavit pole či asociativní pole, že jeho prvky budou celočíselné<span class="cislo">#3 </span><sup><a href="#kappromenneppc15" id="kappromenneppcr15" title="Pozor! Účinek této deklarace nastává až při následujícím přiřazení. Pokud tedy deklarované pole či asociativní pole již obsahuje neceločíselné hodnoty, zůstanou v původní podobě, dokud nebudou přepsány!">(15)</a></sup></div><div class="radky">
<div class="radekzaklinadla">declare -i <i class="dopln">název_pole_či_asoc_pole</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1205073530"><span><a href="#z1205073530">※</a></span></span><b>přičíst</b>/<b>odečíst</b> od celočíselné proměnné<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">: $((<i class="dopln">název_proměnné</i> += <i class="dopln">číslo</i>))</div>
<div class="radekzaklinadla">: $((<i class="dopln">název_proměnné</i> -= <i class="dopln">číslo</i>))</div>
</div></div>

<h3 id="cast3x10"><span><a href="#cast3x10" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 10 (Jmenné odkazy)"><sup>3/</sup>10 Jmenné odkazy</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1914647674"><span><a href="#z1914647674">┎</a></span></span><b>vytvořit</b> jmenný odkaz<span class="cislo">#1 </span><sup><a href="#kappromenneppc16" id="kappromenneppcr16" title="Poznámka: jmenným odkazem nelze odkazovat na normální ani asociativní pole!">(16)</a></sup></div><div class="radky">
<div class="radekzaklinadla">declare -n <i class="dopln">název_odkazu</i>=<i class="dopln">název_odkazované_proměnné</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z84690320"><span><a href="#z84690320">▎</a></span></span><b>zrušit</b> jmenný odkaz<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">unset -n <i class="dopln">název_odkazu</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1329350162"><span><a href="#z1329350162">≍</a></span></span>je proměnná jmenný odkaz?<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">test -R <i class="dopln">název_proměnné</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1527640020"><span><a href="#z1527640020">≴</a></span></span><b>přečíst</b> jmenný odkaz místo odkazované proměnné (alternativy)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">if test -R <i class="dopln">název_odkazu</i>; then declare +n <i class="dopln">název_odkazu</i>; echo $<i class="dopln">název_odkazu</i>; declare -n <i class="dopln">název_odkazu</i>; else false; fi</div>
<div class="radekzaklinadla">test -R <i class="dopln">název_odkazu</i> &amp;&amp; eval &quot;$(declare -p <i class="dopln">název_odkazu</i> | sed -E '1s/^[^=]*=/echo<span class="viditelnamezera">&nbsp;</span>/')&quot;</div>
</div></div>

<h3 id="cast3x11"><span><a href="#cast3x11" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 3 (Zaklínadla: Proměnné v bashi), podsekce 11 (Konstanty)"><sup>3/</sup>11 Konstanty</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1817092905"><span><a href="#z1817092905">⊊</a></span></span><b>seznam</b> konstant (pro člověka/bez hodnot)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">readonly</div>
<div class="radekzaklinadla">for _ in $(compgen -v); do [[ ! ${!_@a} = *r* ]] || printf '%s\n' &quot;$_&quot;; done</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z732912144"><span><a href="#z732912144">✈</a></span></span>jde o konstantu?<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">[[ ${<i class="dopln">název_proměnné</i>@a} = *r* ]]</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1816877017"><span><a href="#z1816877017">❢</a></span></span><b>vytvořit</b> konstantu<span class="cislo">#3 </span><sup><a href="#kappromenneppc17" id="kappromenneppcr17" title="Konstanta je proměnná interpretu (popř. prostředí), kterou nelze zrušit ani později změnit její hodnotu (bez použití opravdu škaredých a nespolehlivých hacků). Lze ji však změnit z proměnné interpretu na proměnnou prostředí a naopak. Jde-li o proměnnou prostředí, vytvořené procesy (včetně dalších instancí bashe) ji zdědí již jako obyčejnou (přiřaditelnou) proměnnou prostředí.">(17)</a></sup></div><div class="radky">
<div class="radekzaklinadla">readonly <i class="dopln">název_konstanty</i>=&quot;<i class="dopln">hodnota</i>&quot; <span class="volznak">[</span><i class="dopln">další_název_konstanty</i>=&quot;<i class="dopln">hodnota</i>&quot;<span class="volznak">]</span><span class="tritecky"></span></div>
</div></div>

<h2 id="cast4"><a href="#cast4"><span class="cislo">4.</span> Zaklínadla: Dosazování proměnných</a></h2>

<h3 id="cast4x1"><span><a href="#cast4x1" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 4 (Zaklínadla: Dosazování proměnných), podsekce 1 (Jednoduché a nepřímé dosazení)"><sup>4/</sup>1 Jednoduché a nepřímé dosazení</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1384102353"><span><a href="#z1384102353">❫</a></span></span><b>dosadit</b> hodnotu řetězcové proměnné (alternativy)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">$<i class="dopln">název_proměnné</i><span class="prikladhodnoty">⊨ Hello, world!</span></div>
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2134350580"><span><a href="#z2134350580">≝</a></span></span>dosadit hodnotu řetězcové proměnné s <b>odzvláštněním</b><span class="cislo">#2 </span><sup><a href="#kappromenneppc18" id="kappromenneppcr18" title="Hodnota bude typicky v apostrofech či konstrukci „$''“. Konkrétní tvar se může lišit, ale vždy bude možno ho bezpečně dosadit do skriptu.">(18)</a></sup></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>@Q}<span class="prikladhodnoty">⊨ 'Hello, world!'</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z75463692"><span><a href="#z75463692">⢸</a></span></span><b>nepřímé</b> dosazení<span class="cislo">#3 </span><sup><a href="#kappromenneppc19" id="kappromenneppcr19" title="Tuto konstrukci lze skombinovat s většinou ostatních druhů dosazení.">(19)</a></sup></div><div class="radky">
<div class="radekzaklinadla">${!<i class="dopln">proměnná</i><span class="volznak">[</span><i class="dopln">zbytek výrazu</i><span class="volznak">]</span>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1687339053"><span><a href="#z1687339053">┓</a></span></span>dosadit prvky <b>pole</b> (všechny prvky/jeden prvek/výřez/poslední prvek)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">&quot;${<i class="dopln">název_pole</i>[@]}&quot;</div>
<div class="radekzaklinadla">&quot;${<i class="dopln">název_pole</i>[<i class="dopln">index</i>]}&quot;</div>
<div class="radekzaklinadla">&quot;${<i class="dopln">název_pole</i>[@]:<i class="dopln">první-kopírovaný-index</i><span class="volznak">[</span>:<i class="dopln">maximální-počet</i><span class="volznak">]</span>}&quot;</div>
<div class="radekzaklinadla">&quot;${<i class="dopln">název_pole</i>[-1]}&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2068040832"><span><a href="#z2068040832">♪</a></span></span>dosadit hodnotu z <b>asociativního pole</b> (klíč je řetězec/hodnota proměnné)<span class="cislo">#5 </span><sup><a href="#kappromenneppc20" id="kappromenneppcr20" title="Tyto tvary uvádějte vždy ve dvojitých uvozovkách. Klíč se v tomto případě vyhodnocuje, jako by byl sám uvnitř samostatných dvojitých uvozovek, což umožňuje i vícenásobné vnoření této konstrukce, ačkoliv to je špatně čitelné.">(20)</a></sup></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_asoc_pole</i>[&quot;<i class="dopln">klíč</i>&quot;]}</div>
<div class="radekzaklinadla">${<i class="dopln">název_asoc_pole</i>[&quot;$<i class="dopln">klíč_proměnná</i>&quot;]}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1528564577"><span><a href="#z1528564577">ທ</a></span></span>dosadit všechny klíče/všechny hodnoty z asociativního pole<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">&quot;${!<i class="dopln">název_asoc_pole</i>[@]}&quot;</div>
<div class="radekzaklinadla">&quot;${<i class="dopln">název_asoc_pole</i>[@]}&quot;</div>
</div></div>

<h3 id="cast4x2"><span><a href="#cast4x2" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 4 (Zaklínadla: Dosazování proměnných), podsekce 2 (Vlastnosti proměnné)"><sup>4/</sup>2 Vlastnosti proměnné</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1115825063"><span><a href="#z1115825063">⢙</a></span></span>dosadit <b>délku</b> hodnoty proměnné ve znacích<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">${#<i class="dopln">název_proměnné</i>}<span class="prikladhodnoty">⊨ 0</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z442202819"><span><a href="#z442202819">⡙</a></span></span>dosadit znaky reprezentující zapnuté <b>atributy</b> dané proměnné<span class="cislo">#2 </span><sup><a href="#kappromenneppc21" id="kappromenneppcr21" title="Nemá-li proměnná zapnutý žádný atribut, dosadí se prázdný řetězec.">(21)</a></sup></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>@a}<span class="prikladhodnoty">⊨ x</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1540751973"><span><a href="#z1540751973">♕</a></span></span>dosadit <b>příkaz</b> bashe, který vytvoří danou proměnnou včetně atributů a hodnoty<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>@A}<span class="prikladhodnoty">⊨ declare -x HOME='/home/kalandira'</span></div>
</div></div>

<h3 id="cast4x3"><span><a href="#cast4x3" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 4 (Zaklínadla: Dosazování proměnných), podsekce 3 (Podmíněné dosazení)"><sup>4/</sup>3 Podmíněné dosazení</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2125502906"><span><a href="#z2125502906">♡</a></span></span>je-li proměnná definovaná/neprázdná, dosadit; jinak použít <b>náhradní řetězec</b><span class="cislo">#1 </span><sup><a href="#kappromenneppc22" id="kappromenneppcr22" title="Pokud má náhradní řetězec obsahovat zvláštní znaky či znak „}“, doporučuji uzavřít jej do dvojitých uvozovek. To funguje i tehdy, pokud je dosazovací výraz jako celek použit uvnitř dvojitých uvozovek.">(22)</a></sup></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>-<span class="volznak">[</span>&quot;<span class="volznak">]</span><i class="dopln">náhradní řetězec</i><span class="volznak">[</span>&quot;<span class="volznak">]</span>}</div>
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>:-<span class="volznak">[</span>&quot;<span class="volznak">]</span><i class="dopln">náhradní řetězec</i><span class="volznak">[</span>&quot;<span class="volznak">]</span>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z360882745"><span><a href="#z360882745">╙</a></span></span>dosadit hodnotu proměnné, která <b>musí být</b> definovaná/neprázdná; jinak zobrazit chybové hlášení a ukončit skript<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>?<span class="volznak">[</span>&quot;<span class="volznak">]</span><i class="dopln">chybové hlášení</i><span class="volznak">]</span><span class="volznak">[</span>&quot;<span class="volznak">]</span>}</div>
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>:?<span class="volznak">[</span>&quot;<span class="volznak">]</span><i class="dopln">chybové hlášení</i><span class="volznak">]</span><span class="volznak">[</span>&quot;<span class="volznak">]</span>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z2046891536"><span><a href="#z2046891536">〖</a></span></span>je-li proměnná definovaná/neprázdná, dosadit; jinak jí <b>přiřadit</b> náhradní hodnotu a dosadit<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>=<span class="volznak">[</span>&quot;<span class="volznak">]</span><i class="dopln">náhradní řetězec</i><span class="volznak">[</span>&quot;<span class="volznak">]</span>}</div>
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>:=<span class="volznak">[</span>&quot;<span class="volznak">]</span><i class="dopln">náhradní řetězec</i><span class="volznak">[</span>&quot;<span class="volznak">]</span>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z668532177"><span><a href="#z668532177">ꓸ</a></span></span>dosadit <b>řetězec</b>, jen pokud je proměnná definovaná/neprázdná<span class="cislo">#4 </span><sup><a href="#kappromenneppc23" id="kappromenneppcr23" title="Nebude-li splněna podmínka dosazení, dosadí se prázdný řetězec.">(23)</a></sup></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>+<span class="volznak">[</span>&quot;<span class="volznak">]</span><i class="dopln">řetězec</i><span class="volznak">[</span>&quot;<span class="volznak">]</span>}</div>
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>:+<span class="volznak">[</span>&quot;<span class="volznak">]</span><i class="dopln">řetězec</i><span class="volznak">[</span>&quot;<span class="volznak">]</span>}</div>
</div></div>

<h3 id="cast4x4"><span><a href="#cast4x4" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 4 (Zaklínadla: Dosazování proměnných), podsekce 4 (Dosazení podřetězce či se substitucí)"><sup>4/</sup>4 Dosazení podřetězce či se substitucí</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1752751867"><span><a href="#z1752751867">♺</a></span></span>dosadit <b>podřetězec</b> hodnoty proměnné<span class="cislo">#1 </span><sup><a href="#kappromenneppc24" id="kappromenneppcr24" title="Tip: kolem indexu a délku mohou být mezery, kolem názvu proměnné ne.">(24)</a></sup></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>: <i class="dopln">index-prvního-znaku-od-0</i> : <i class="dopln">maximální-délka</i> }</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1296437099"><span><a href="#z1296437099">⣢</a></span></span>dosadit hodnotu proměnné po odebrání nejkratší/nejdelší shody <b>začátku</b> hodnoty se vzorkem<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>#<i class="dopln">vzorek</i>}</div>
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>##<i class="dopln">vzorek</i>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1134754067"><span><a href="#z1134754067">⊷</a></span></span>dosadit hodnotu proměnné po odebrání nejkratší/nejdelší shody <b>konce</b> hodnoty se vzorkem<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>%<i class="dopln">vzorek</i>}</div>
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>%%<i class="dopln">vzorek</i>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z649443321"><span><a href="#z649443321">⇹</a></span></span>dosadit hodnotu proměnné po <b>nahrazení</b> první/všech shod se vzorkem řetězcem náhrady<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>/<i class="dopln">vzorek</i><span class="volznak">[</span>/<i class="dopln">řetězec náhrady</i><span class="volznak">]</span>}</div>
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>//<i class="dopln">vzorek</i><span class="volznak">[</span>/<i class="dopln">řetězec náhrady</i><span class="volznak">]</span>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1635314867"><span><a href="#z1635314867">╺</a></span></span>dosadit hodnotu proměnné <b>velkými/malými písmeny</b><span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>^^}</div>
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>,,}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1543061570"><span><a href="#z1543061570">⇰</a></span></span>interpretovat hodnotu jako by byla uvedena v konstrukci $'text' a výsledek dosadit<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">${<i class="dopln">název_proměnné</i>@E}</div>
</div></div>

<h3 id="cast4x5"><span><a href="#cast4x5" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 4 (Zaklínadla: Dosazování proměnných), podsekce 5 (Parametry skriptu)"><sup>4/</sup>5 Parametry skriptu</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z103939373"><span><a href="#z103939373">⋬</a></span></span>dosadit N-tý <b>poziční parametr</b> (alternativy)<span class="cislo">#1 </span><sup><a href="#kappromenneppc25" id="kappromenneppcr25" title="První variantu lze použít pouze pro parametry $0 až $9. Druhou variantu (tu se složenými závorkami) lze použít i pro ostatní parametry (např. ${10}) a lze ji skombinovat s pokročilými formami dosazení.">(25)</a></sup></div><div class="radky">
<div class="radekzaklinadla">$<i class="dopln">N</i></div>
<div class="radekzaklinadla">${<i class="dopln">N</i>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z955652029"><span><a href="#z955652029">✖</a></span></span>dosadit <b>všechny parametry</b> od $1: do samostatných parametrů/jen oddělené mezerou<span class="cislo">#2 </span><sup><a href="#kappromenneppc26" id="kappromenneppcr26" title="Dvojité uvozovky zde znamenají, že pro správnou funkci musí být $@ (resp. $*) uvedeny uvnitř dvojitých uvozovek.">(26)</a></sup></div><div class="radky">
<div class="radekzaklinadla">&quot;$@&quot;</div>
<div class="radekzaklinadla">&quot;$*&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1690509364"><span><a href="#z1690509364">▂</a></span></span><b>nastavit</b> poziční parametry<span class="cislo">#3 </span><sup><a href="#kappromenneppc27" id="kappromenneppcr27" title="Parametry lze nastavit pouze najednou, přičemž se všechny stávající parametry (kromě $0) ztratí.">(27)</a></sup></div><div class="radky">
<div class="radekzaklinadla">set -- <i class="dopln">parametr</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z799154049"><span><a href="#z799154049">ꓹ</a></span></span>dosadit <b>úsek</b> parametrů (samostatně/oddělené mezerou)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">&quot;${@: <i class="dopln">číslo-prvního-parametru</i> <span class="volznak">[</span>: <i class="dopln">maximální-počet</i><span class="volznak">]</span> }&quot;</div>
<div class="radekzaklinadla">&quot;${*: <i class="dopln">číslo-prvního-parametru</i> <span class="volznak">[</span>: <i class="dopln">maximální-počet</i><span class="volznak">]</span> }&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1209593460"><span><a href="#z1209593460">⡭</a></span></span>dosadit všechny parametry počínaje $0 (samostatně/oddělené mezerou)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">&quot;${@:0}&quot;</div>
<div class="radekzaklinadla">&quot;${*:0}&quot;</div>
</div></div>

<h3 id="cast4x6"><span><a href="#cast4x6" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 4 (Zaklínadla: Dosazování proměnných), podsekce 6 (Aritmetické operace při dosazení)"><sup>4/</sup>6 Aritmetické operace při dosazení</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2033197971"><span><a href="#z2033197971">◂</a></span></span><b>inkrementovat</b>/dekrementovat a dosadit<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">$((++<i class="dopln">název_proměnné</i>))</div>
<div class="radekzaklinadla">$((--<i class="dopln">název_proměnné</i>))</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1805426542"><span><a href="#z1805426542">⊽</a></span></span>přičíst/odečíst číslo, přiřadit a dosadit<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">$((<i class="dopln">název_proměnné</i> += <i class="dopln">číslo</i>))</div>
<div class="radekzaklinadla">$((<i class="dopln">název_proměnné</i> -= <i class="dopln">číslo</i>))</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1911164147"><span><a href="#z1911164147">❋</a></span></span>přičíst/odečíst číslo a dosadit (bez přiřazení)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">$((<i class="dopln">název_proměnné</i> + <i class="dopln">číslo</i>))</div>
<div class="radekzaklinadla">$((<i class="dopln">název_proměnné</i> - <i class="dopln">číslo</i>))</div>
</div></div>

<h3 id="cast4x7"><span><a href="#cast4x7" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 4 (Zaklínadla: Dosazování proměnných), podsekce 7 (Různé příklady)"><sup>4/</sup>7 Různé příklady</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1991791677"><span><a href="#z1991791677">⇙</a></span></span>dosadit první neprázdnou z proměnných „a“, „b“ a „c“<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">${a:-${b:-${c:-}}}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1183077187"><span><a href="#z1183077187">ȹ</a></span></span>dosadit proměnnou „abc“ s odstraněním všech konců řádků<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">${abc//$'\n'}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1825826881"><span><a href="#z1825826881">⛁</a></span></span>dosadit proměnnou „abc“ s tím, že všechny číslice se nahradí nulami<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">${abc//[0123456789]/0}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z217425718"><span><a href="#z217425718">┃</a></span></span>z proměnné „abc“ dosadit jen číslice<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">${abc//[!0123456789]}</div>
</div></div>

<h2 id="cast5"><a href="#cast5"><span class="cislo">5.</span> Zaklínadla: Proměnné prostředí</a></h2>

<h3 id="cast5x1"><span><a href="#cast5x1" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 5 (Zaklínadla: Proměnné prostředí), podsekce 1 (Spouštění programů s upraveným prostředím)"><sup>5/</sup>1 Spouštění programů s upraveným prostředím</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z1468874709"><span><a href="#z1468874709">〗</a></span></span><b>spustit</b> s upraveným prostředím (jednodušší varianta)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span><span class="volznak">[</span>/usr/bin/<span class="volznak">]</span>env<span class="volznak">]</span> <i class="dopln">PROMĚNNÁ</i>=<i class="dopln">hodnota</i> <span class="volznak">[</span><i class="dopln">DALŠÍ_PROMĚNNÁ</i>=<i class="dopln">další-hodnota</i><span class="volznak">]</span><span class="tritecky"></span> <i class="dopln">příkaz</i> <span class="volznak">[</span><i class="dopln">parametr</i><span class="volznak">]</span><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1640398905"><span><a href="#z1640398905">◑</a></span></span>spustit v jiném aktuálním <b>adresáři</b><span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">env -C <i class="dopln">cesta</i> <i class="dopln">příkaz</i> <span class="volznak">[</span><i class="dopln">parametr</i><span class="volznak">]</span><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z599898034"><span><a href="#z599898034">↞</a></span></span>spustit s upraveným prostředím (<b>komplexní</b> varianta)<span class="cislo">#3 </span><sup><a href="#kappromenneppc28" id="kappromenneppcr28" title="-i prostředí zcela vyprázdní; --unset z něj odebírá uvedené proměnné, přiřazení proměnné prostředí nastavuje a parametr „-C“ změní aktuální adresář.">(28)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span><span class="volznak">[</span>/usr/bin/<span class="volznak">]</span>env<span class="volznak">]</span> <span class="volznak">[</span>-i<span class="volznak">]</span> <span class="volznak">[</span>--unset=<i class="dopln">PROMĚNNÁ</i><span class="volznak">]</span><span class="tritecky"></span> <span class="volznak">[</span><i class="dopln">PROMĚNNÁ</i>=<i class="dopln">hodnota</i><span class="volznak">]</span><span class="tritecky"></span> <span class="volznak">[</span>-C <i class="dopln">nový/aktuální/adresář</i><span class="volznak">]</span> <i class="dopln">příkaz</i> <span class="volznak">[</span><i class="dopln">parametr</i><span class="volznak">]</span><span class="tritecky"></span></div>
</div></div>

<h3 id="cast5x2"><span><a href="#cast5x2" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 5 (Zaklínadla: Proměnné prostředí), podsekce 2 (Předdefinované proměnné)"><sup>5/</sup>2 Předdefinované proměnné</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1023375461"><span><a href="#z1023375461">⡃</a></span></span>absolutní cesta <b>domovského adresáře</b><span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">$HOME<span class="prikladhodnoty">⊨ /home/petr</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1368599044"><span><a href="#z1368599044">⣅</a></span></span>vyhledávací cesty externích příkazů<span class="cislo">#2 </span><sup><a href="#kappromenneppc29" id="kappromenneppcr29" title="Cesty jsou odděleny. Bývají absolutní, ale mohou být i relativní. Zahrnout aktuální adresář „.“ je možné, ale z bezpečnostních důvodů se to striktně nedoporučuje.">(29)</a></sup></div><div class="radky">
<div class="radekzaklinadla">$PATH<span class="prikladhodnoty">⊨ /home/petr/bin:/usr/local/sbin:/usr/local/bin:<br>/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1500664090"><span><a href="#z1500664090">☵</a></span></span>označení příslušného grafického zobrazovacího rozhraní<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">$DISPLAY<span class="prikladhodnoty">⊨ :0.0</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1256246827"><span><a href="#z1256246827">┄</a></span></span>typ terminálu<span class="cislo">#4 </span><sup><a href="#kappromenneppc30" id="kappromenneppcr30" title="Pro textovou konzoli je to „linux“. Další hodnoty, se kterými se lze setkat, jsou „xterm“ a „rxvt“.">(30)</a></sup></div><div class="radky">
<div class="radekzaklinadla">$TERM<span class="prikladhodnoty">⊨ xterm-256color</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z694926099"><span><a href="#z694926099">ສ</a></span></span>typ sezení<span class="cislo">#5 </span><sup><a href="#kappromenneppc31" id="kappromenneppcr31" title="Jde-li o X-server, hodnota je „x11“, pro Wayland je to „wayland“, v textové konzoli je to „tty“.">(31)</a></sup></div><div class="radky">
<div class="radekzaklinadla">$XDG_SESSION_TYPE<span class="prikladhodnoty">⊨ x11</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z249343059"><span><a href="#z249343059">✏</a></span></span>jazyk/lokalizace systému<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">$LANGUAGE<span class="prikladhodnoty">⊨ cs_CZ</span></div>
<div class="radekzaklinadla">$LANG<span class="prikladhodnoty">⊨ cs_CZ.UTF-8</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1606345992"><span><a href="#z1606345992">⠁</a></span></span>výchozí interpret příkazové řádky<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">$SHELL<span class="prikladhodnoty">⊨ /bin/bash</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1894976136"><span><a href="#z1894976136">⛂</a></span></span>uživatelské jméno<span class="cislo">#8 </span><sup><a href="#kappromenneppc32" id="kappromenneppcr32" title="Poznámka: proměnnou prostředí lze snadno podvrhnout. Pro bezpečné zjištění uživatelského jména použijte příkaz „id -un“.">(32)</a></sup></div><div class="radky">
<div class="radekzaklinadla">$USER<span class="prikladhodnoty">⊨ petr</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z505653144"><span><a href="#z505653144">⨔</a></span></span>adresář pro dočasné soubory<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla">${TMPDIR-/tmp}</div>
</div></div>

<h3 id="cast5x3"><span><a href="#cast5x3" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 5 (Zaklínadla: Proměnné prostředí), podsekce 3 (Proměnné ovládající programy a systém)"><sup>5/</sup>3 Proměnné ovládající programy a systém</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1174928621"><span><a href="#z1174928621">⪒</a></span></span>vypnout lokalizaci a podporu Unicode<span class="cislo">#1 </span><sup><a href="#kappromenneppc33" id="kappromenneppcr33" title="Tato volba se zapíná především při řazení, kdy způsobí, že soubor se seřadí podle kódových hodnot bajtů. Hodí se také pro dosažení vyššího výkonu některých skriptovacích nástrojů, ale tam je potřeba, aby uživatel věděl, co dělá.">(33)</a></sup></div><div class="radky">
<div class="radekzaklinadla">LC_ALL=C</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1913495998"><span><a href="#z1913495998">⪹</a></span></span>vypnout lokalizaci, ale ponechat kódování UTF-8<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">LC_ALL=C.utf8</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2103663802"><span><a href="#z2103663802">⚄</a></span></span>preferovaná časová zóna<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">TZ=UTC</div>
<div class="radekzaklinadla">TZ=Europe/Prague</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1256178465"><span><a href="#z1256178465">⚤</a></span></span>nelokalizovat výpisy a hlášení<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">LC_MESSAGES=C.utf8</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1996323302"><span><a href="#z1996323302">₰</a></span></span>požádat aplikaci o použití určitého dočasného adresáře<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">TMPDIR=<i class="dopln">/absolutní/cesta</i></div>
</div></div>

<h3 id="cast5x4"><span><a href="#cast5x4" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 5 (Zaklínadla: Proměnné prostředí), podsekce 4 (Preferované aplikace)"><sup>5/</sup>4 Preferované aplikace</a></span></h3>
<p class="ponadpisu">
Poznámka: proměnné prostředí EDITOR, VISUAL a PAGER se obvykle nastavují v souboru „~/.bashrc“.
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z781821345"><span><a href="#z781821345">⋕</a></span></span>výchozí textový editor (terminálový/grafický)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">EDITOR=/bin/nano</div>
<div class="radekzaklinadla">VISUAL=/usr/bin/gedit</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z322232366"><span><a href="#z322232366">⇀</a></span></span>výchozí terminálový stránkovač<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">PAGER=/usr/bin/less</div>
</div></div>

<h3 id="cast5x5"><span><a href="#cast5x5" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 5 (Zaklínadla: Proměnné prostředí), podsekce 5 (Prostředí jiných procesů)"><sup>5/</sup>5 Prostředí jiných procesů</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1007406284"><span><a href="#z1007406284">₰</a></span></span><b>mohu</b> číst prostředí daného procesu?<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">test -r /proc/<i class="dopln">PID</i>/environ</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z809160150"><span><a href="#z809160150">⠐</a></span></span>vypsat <b>seznam</b> proměnných<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sed -zE 's/=.*//' /proc/<i class="dopln">PID</i>/environ | tr \\0 \\n <span class="volznak">[</span>| sort<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1788145517"><span><a href="#z1788145517">⢱</a></span></span>je proměnná <b>definovaná</b>/neprázdná?<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">egrep -zq '^<i class="dopln">název_proměnné</i>=' /proc/<i class="dopln">PID</i>/environ</div>
<div class="radekzaklinadla">egrep -zq '^<i class="dopln">název_proměnné</i>=.' /proc/<i class="dopln">PID</i>/environ</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1598139774"><span><a href="#z1598139774">∙</a></span></span><b>přečíst</b> hodnotu<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">sed -znE 's/^<i class="dopln">název_proměnné</i>=//;T;p' /proc/<i class="dopln">PID</i>/environ | tr -d \\0</div>
</div></div>

<h3 id="cast5x6"><span><a href="#cast5x6" title="kapitola 14 (Proměnné prostředí a interpretu), sekce 5 (Zaklínadla: Proměnné prostředí), podsekce 6 (Proměnné pro programátory)"><sup>5/</sup>6 Proměnné pro programátory</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z426264323"><span><a href="#z426264323">✚</a></span></span>cesty pro vyhledávání sdílených knihoven<span class="cislo">#1 </span><sup><a href="#kappromenneppc34" id="kappromenneppcr34" title="Když spuštěný program požádá systém o nahrátí sdílené knihovny, systém ji obvykle vyhledává v několika standardních adresářích. Má-li však program v prostředí proměnnou „LD_LIBRARY_PATH“, systém nejprve prohledává adresáře uvedené zde. V každém případě nahraje první nalezenou knihovnu a případné další knihovny téhož jména ignoruje.">(34)</a></sup></div><div class="radky">
<div class="radekzaklinadla">LD_LIBRARY_PATH=<i class="dopln">cesta</i><span class="volznak">[</span>:<i class="dopln">další/cesta</i><span class="volznak">]</span><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z685223532"><span><a href="#z685223532">⡁</a></span></span>vypsat ladicí informace ohledně sdílených knihoven<span class="cislo">#2 </span><sup><a href="#kappromenneppc35" id="kappromenneppcr35" title="Nápovědu k proměnné LD_DEBUG si můžete zobrazit příkazem „env LD_DEBUG=help cat“. Bez proměnné LD_DEBUG_OUTPUT se ladicí údaje vypíšou na standardní výstup; s ní se k jejímu obsahu připojí tečka a PID procesu a výpis se provede do daného souboru.">(35)</a></sup></div><div class="radky">
<div class="radekzaklinadla">LD_DEBUG=libs<span class="volznak">[</span>,symbols<span class="volznak">]</span> <span class="volznak">[</span>LD_DEBUG_OUTPUT=<i class="dopln">předpona/výstupní/cesty</i><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z848550636"><span><a href="#z848550636">⎔</a></span></span>vynutit načtení funkcí ze zadané sdílené knihovny do aplikace (nezkoušeno, bez záruky).<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">LD_PRELOAD=/home/petr/moje.so</div>
</div></div>

<h2 id="cast6"><a href="#cast6"><span class="cislo">6.</span> Instalace na Ubuntu</a></h2>
<p class="ponadpisu">
Všechny použité nástroje jsou základní součástí Ubuntu, přítomné i v minimální instalaci.
</p>

<h2 id="cast7"><a href="#cast7"><span class="cislo">7.</span> Tipy a zkušenosti</a></h2>
<ul><li>Pozor! Kolem znaku „=“ při přiřazování do proměnných nesmí být žádné bílé znaky! Jedinou výjimkou je tzv. aritmetický kontext (tedy např. uvnitř konstrukce „$((text))“).
</li><li>Náhradní řetězce a vzorky v pokročilých formách dosazení (např. „${X%.txt}“) vytvářejí nový kontext pro odzvláštnění, ve kterém můžete použít podle potřeby zpětná lomítka, uvozovky, apostrofy, a dokonce vnořené dosazení proměnných! Takže chcete-li např. dosadit hodnotu proměnné X po odebrání podřetězce „%\}“ z jeho konce, použijte tvar &quot;${X%'%\}'}&quot;.
</li><li>Do řetězcových proměnných můžete ukládat jakékoliv znaky UTF-8 kromě nulového bajtu, takže konce řádek, tabulátory, Escape apod. nejsou žádný problém.
</li><li>Pokud potřebujete v asociativním poli použít jako klíč prázdný řetězec (což není dovoleno), pomůže upravit kód tak, aby před každý klíč vkládal konkrétní písmeno (např. „X“) a před výpisem toto písmeno zase odstraňoval (např. „${klíč#X}“).
</li><li>Velkými písmeny (např. <i>HOME</i> či <i>HISTSIZE</i>) se píšou názvy proměnných, které mají řídicí či systémový význam, ať už jde o proměnné prostředí či jen interpretu. Vaše uživatelské proměnné ve skriptech nazývejte malými písmeny (např. „cesta_zpet“), popř. kombinací malých a velkých písmen (např. „CestaZpet“).
</li><li>Znak ~ se v bashi rozvíjí na hodnotu „${HOME}“, proto ho uvnitř dvojitých uvozovek (kde by se nerozvinul) můžete vždy snadno a bezpečně nahradit za „${HOME}“.
</li><li>Funkce se může jmenovat stejně jako proměnná.
</li><li>V bashi vznikají proměnné automaticky při prvním přiřazení, není tedy třeba je deklarovat. Ve výchozím nastavení navíc pokus o dosazení neexistující proměnné povede k dosazení prázdného řetězce bez jakékoliv chyby (toto lze změnit nastavením „set -u“).
</li></ul>
<h2 id="cast8"><a href="#cast8"><span class="cislo">8.</span> Další zdroje informací</a></h2>
<ul class="kompaktni"><li><a href="https://www.youtube.com/watch?v=cv1V9GE2Ag0">YouTube: Programování v Shellu</a> (proměnných se týká začátek videa)
</li><li><a href="https://www.linuxexpres.cz/praxe/bash-4-dil">Linuxexpres: Proměnné prostředí</a>
</li><li><a href="https://www.youtube.com/watch?v=y_j2H2wbSRg">YouTube: Fedora Linux Proměnné</a> (jen úplné základy)
</li><li><a href="https://cs.wikipedia.org/wiki/Prom%C4%9Bnn%C3%A1_(programov%C3%A1n%C3%AD)">Wikipedie: Proměnná</a>
</li><li><a href="https://help.ubuntu.com/community/EnvironmentVariables">Ubuntu Documentation: EnvironmentVariables</a> (anglicky)
</li><li><a href="https://www.gnu.org/software/bash/manual/html_node/Shell-Parameter-Expansion.html">Bash Reference Manual: Shell Parameter Expansion</a> (anglicky)
</li><li><a href="https://github.com/tldr-pages/tldr/blob/master/pages/common/env.md">TL;DR: env</a> (anglicky)
</li></ul><div class="ppc"><div id="kappromenneppc1"><a href="#kappromenneppcr1" class="cislopozn">1</a>&nbsp;Pozor! Příkaz „unset“ uspěje i tehdy, pokud daná proměnná neexistuje.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc2"><a href="#kappromenneppcr2" class="cislopozn">2</a>&nbsp;Pozor! Zapnutí této konverze nezmění stávající hodnotu proměnné, účinek nastane až při následujícím přiřazení!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc3"><a href="#kappromenneppcr3" class="cislopozn">3</a>&nbsp;Názvy proměnných se dosadí jako samostatné parametry (podobně jako u speciálního parametru $@).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc4"><a href="#kappromenneppcr4" class="cislopozn">4</a>&nbsp;Prvky pole se zadávají stejně jako parametry příkazu, tzn. oddělují se mezerami; obsahují-li zvláštní znaky, budou interpretovány, pokud je neodzvláštníte (vhodné je umístění do uvozovek či apostrofů).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc5"><a href="#kappromenneppcr5" class="cislopozn">5</a>&nbsp;V případě potřeby změňte názvy pomocných proměnných „i“, „j“ a „x“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc6"><a href="#kappromenneppcr6" class="cislopozn">6</a>&nbsp;Je dovoleno přiřadit do prvku libovolně daleko za koncem pole; Bash v takovém případě pole automaticky prodlouží prázdnými řetězci, aby index byl platný.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc7"><a href="#kappromenneppcr7" class="cislopozn">7</a>&nbsp;Výřez se dosadí jako samostatné parametry (podobně jako u zvláštního parametru $@).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc8"><a href="#kappromenneppcr8" class="cislopozn">8</a>&nbsp;Pozor! Vkládání prvků na začátek je v případě rozsáhlého pole velmi pomalé! Snažte se mu vyhnout a vkládat prvky raději na konec. Pro vložení prvku doprostřed použijte spojování polí (které je ale také pomalé).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc9"><a href="#kappromenneppcr9" class="cislopozn">9</a>&nbsp;Tyto tvary uvádějte vždy ve dvojitých uvozovkách. Klíč se v tomto případě vyhodnocuje, jako by byl sám uvnitř samostatných dvojitých uvozovek, což umožňuje i vícenásobné vnoření této konstrukce, ačkoliv to je špatně čitelné.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc10"><a href="#kappromenneppcr10" class="cislopozn">10</a>&nbsp;Uvozovky kolem klíče slouží pouze k odzvláštnění znaků klíče, můžete je odzvláštnit i jinak, např. zpětným lomítkem či apostrofy.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc11"><a href="#kappromenneppcr11" class="cislopozn">11</a>&nbsp;Pokud je uzavírací závorka „}“ na stejném řádku jako poslední příkaz těla funkce, musí být od příkazu oddělená středníkem.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc12"><a href="#kappromenneppcr12" class="cislopozn">12</a>&nbsp;Exportované funkce se uloží do zvláštních proměnných prostředí a další instance bashe, která je tímto způsobem „zdědí“, je opět načte jako funkce. Doporučuji exportování funkcí příliš nepoužívat, protože tak můžete snadno ztratit kontrolu nad tím, kam všude se vaše funkce dostanou.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc13"><a href="#kappromenneppcr13" class="cislopozn">13</a>&nbsp;Tento test odpoví kladně i v případě, že půjde o pole celočíselných hodnot či asociativní pole celočíselných hodnot.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc14"><a href="#kappromenneppcr14" class="cislopozn">14</a>&nbsp;Hodnoty přiřazené do celočíselných proměnných se automaticky vyhodnocují jako výrazy a konvertují na celé číslo. Místo každého druhého názvu proměnné v uvedeném příkazu pochopitelně můžete uvést novou hodnotu proměnné, a to i výrazem.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc15"><a href="#kappromenneppcr15" class="cislopozn">15</a>&nbsp;Pozor! Účinek této deklarace nastává až při následujícím přiřazení. Pokud tedy deklarované pole či asociativní pole již obsahuje neceločíselné hodnoty, zůstanou v původní podobě, dokud nebudou přepsány!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc16"><a href="#kappromenneppcr16" class="cislopozn">16</a>&nbsp;Poznámka: jmenným odkazem nelze odkazovat na normální ani asociativní pole!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc17"><a href="#kappromenneppcr17" class="cislopozn">17</a>&nbsp;Konstanta je proměnná interpretu (popř. prostředí), kterou nelze zrušit ani později změnit její hodnotu (bez použití opravdu škaredých a nespolehlivých hacků). Lze ji však změnit z proměnné interpretu na proměnnou prostředí a naopak. Jde-li o proměnnou prostředí, vytvořené procesy (včetně dalších instancí bashe) ji zdědí již jako obyčejnou (přiřaditelnou) proměnnou prostředí.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc18"><a href="#kappromenneppcr18" class="cislopozn">18</a>&nbsp;Hodnota bude typicky v apostrofech či konstrukci „$''“. Konkrétní tvar se může lišit, ale vždy bude možno ho bezpečně dosadit do skriptu.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc19"><a href="#kappromenneppcr19" class="cislopozn">19</a>&nbsp;Tuto konstrukci lze skombinovat s většinou ostatních druhů dosazení.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc20"><a href="#kappromenneppcr20" class="cislopozn">20</a>&nbsp;Tyto tvary uvádějte vždy ve dvojitých uvozovkách. Klíč se v tomto případě vyhodnocuje, jako by byl sám uvnitř samostatných dvojitých uvozovek, což umožňuje i vícenásobné vnoření této konstrukce, ačkoliv to je špatně čitelné.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc21"><a href="#kappromenneppcr21" class="cislopozn">21</a>&nbsp;Nemá-li proměnná zapnutý žádný atribut, dosadí se prázdný řetězec.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc22"><a href="#kappromenneppcr22" class="cislopozn">22</a>&nbsp;Pokud má náhradní řetězec obsahovat zvláštní znaky či znak „}“, doporučuji uzavřít jej do dvojitých uvozovek. To funguje i tehdy, pokud je dosazovací výraz jako celek použit uvnitř dvojitých uvozovek.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc23"><a href="#kappromenneppcr23" class="cislopozn">23</a>&nbsp;Nebude-li splněna podmínka dosazení, dosadí se prázdný řetězec.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc24"><a href="#kappromenneppcr24" class="cislopozn">24</a>&nbsp;Tip: kolem indexu a délku mohou být mezery, kolem názvu proměnné ne.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc25"><a href="#kappromenneppcr25" class="cislopozn">25</a>&nbsp;První variantu lze použít pouze pro parametry $0 až $9. Druhou variantu (tu se složenými závorkami) lze použít i pro ostatní parametry (např. ${10}) a lze ji skombinovat s pokročilými formami dosazení.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc26"><a href="#kappromenneppcr26" class="cislopozn">26</a>&nbsp;Dvojité uvozovky zde znamenají, že pro správnou funkci musí být $@ (resp. $*) uvedeny uvnitř dvojitých uvozovek.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc27"><a href="#kappromenneppcr27" class="cislopozn">27</a>&nbsp;Parametry lze nastavit pouze najednou, přičemž se všechny stávající parametry (kromě $0) ztratí.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc28"><a href="#kappromenneppcr28" class="cislopozn">28</a>&nbsp;-i prostředí zcela vyprázdní; --unset z něj odebírá uvedené proměnné, přiřazení proměnné prostředí nastavuje a parametr „-C“ změní aktuální adresář.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc29"><a href="#kappromenneppcr29" class="cislopozn">29</a>&nbsp;Cesty jsou odděleny. Bývají absolutní, ale mohou být i relativní. Zahrnout aktuální adresář „.“ je možné, ale z bezpečnostních důvodů se to striktně nedoporučuje.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc30"><a href="#kappromenneppcr30" class="cislopozn">30</a>&nbsp;Pro textovou konzoli je to „linux“. Další hodnoty, se kterými se lze setkat, jsou „xterm“ a „rxvt“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc31"><a href="#kappromenneppcr31" class="cislopozn">31</a>&nbsp;Jde-li o X-server, hodnota je „x11“, pro Wayland je to „wayland“, v textové konzoli je to „tty“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc32"><a href="#kappromenneppcr32" class="cislopozn">32</a>&nbsp;Poznámka: proměnnou prostředí lze snadno podvrhnout. Pro bezpečné zjištění uživatelského jména použijte příkaz „id -un“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc33"><a href="#kappromenneppcr33" class="cislopozn">33</a>&nbsp;Tato volba se zapíná především při řazení, kdy způsobí, že soubor se seřadí podle kódových hodnot bajtů. Hodí se také pro dosažení vyššího výkonu některých skriptovacích nástrojů, ale tam je potřeba, aby uživatel věděl, co dělá.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc34"><a href="#kappromenneppcr34" class="cislopozn">34</a>&nbsp;Když spuštěný program požádá systém o nahrátí sdílené knihovny, systém ji obvykle vyhledává v několika standardních adresářích. Má-li však program v prostředí proměnnou „LD_LIBRARY_PATH“, systém nejprve prohledává adresáře uvedené zde. V každém případě nahraje první nalezenou knihovnu a případné další knihovny téhož jména ignoruje.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kappromenneppc35"><a href="#kappromenneppcr35" class="cislopozn">35</a>&nbsp;Nápovědu k proměnné LD_DEBUG si můžete zobrazit příkazem „env LD_DEBUG=help cat“. Bez proměnné LD_DEBUG_OUTPUT se ladicí údaje vypíšou na standardní výstup; s ní se k jejímu obsahu připojí tečka a PID procesu a výpis se provede do daného souboru.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
</div>


<nav class="spodni">
<a href="index.htm" class="naindex">🗐&nbsp;Přehled&nbsp;kapitol</a>
<div class="naslkap">
<a href="regularni-vyrazy.htm" rel="next" title="14. Regulární výrazy">Následující&nbsp;kapitola/dodatek:<br><span class="cislo">14</span>
<span class="nazev">Regulární výrazy</span></a>
</div>
<!--<div><a href="index.htm">🗐&nbsp;Přehled&nbsp;kapitol</a></div>-->
<a href="#nahore" id="odkaznahoru" title="NAHORU − na začátek stránky">▴<!--⤒--></a>
<a href="#dole" id="odkazdolu" title="DOLŮ − na konec stránky">▾<!--⤓--></a>
</nav>


<div class="odkazydole"><div><a href="sprava-balicku.htm"><img src="obrazky/ik/sprava-balicku.png" alt="" width="32" height="32">Správa balíčků</a><a href="regularni-vyrazy.htm"><img src="obrazky/ik/regularni-vyrazy.png" alt="" width="32" height="32">Regulární výrazy</a><a href="docker.htm"><img src="obrazky/ik/docker.png" alt="" width="32" height="32">Docker</a></div></div>


</article>
<nav class="menu">
<!-- MENU KAPITOLY -->
<a href="#menukapitoly" id="menukapitoly"><span class="prvnipismeno">K</span>apitoly</a>
<aside class="menukapitoly">
<div><div class="nadpis">Kapitoly</div><div class="polozky">
<a href="predmluva.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/predmluva.png" alt="[]"></span><span class="cislo">1</span><span class="nazev">Předmluva</span></a>
<a href="awk.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/awk.png" alt="[]"></span><span class="cislo">2</span><span class="nazev">AWK</span></a>
<a href="barvy-a-titulek.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/barvy-a-titulek.png" alt="[]"></span><span class="cislo">3</span><span class="nazev">Barvy, titulek a výzva terminálu</span></a>
<a href="datum-cas-kalendar.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/datum-cas-kalendar.png" alt="[]"></span><span class="cislo">4</span><span class="nazev">Datum, čas a kalendář</span></a>
<a href="diskove-oddily.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/diskove-oddily.png" alt="[]"></span><span class="cislo">5</span><span class="nazev">Diskové oddíly</span></a>
<a href="docker.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/docker.png" alt="[]"></span><span class="cislo">6</span><span class="nazev">Docker</span></a>
<a href="git.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/git.png" alt="[]"></span><span class="cislo">7</span><span class="nazev">Git</span></a>
<a href="hledani-souboru.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/hledani-souboru.png" alt="[]"></span><span class="cislo">8</span><span class="nazev">Hledání souborů</span></a>
<a href="make.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/make.png" alt="[]"></span><span class="cislo">9</span><span class="nazev">Make</span></a>
<a href="markdown.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/markdown.png" alt="[]"></span><span class="cislo">10</span><span class="nazev">Markdown</span></a>
<a href="planovani-uloh.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/planovani-uloh.png" alt="[]"></span><span class="cislo">11</span><span class="nazev">Plánování úloh</span></a>
<a href="prace-s-archivy.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/prace-s-archivy.png" alt="[]"></span><span class="cislo">12</span><span class="nazev">Práce s archivy</span></a>
<a href="promenne.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/promenne.png" alt="[]"></span><span class="cislo">13</span><span class="nazev">Proměnné prostředí a interpretu</span></a>
<a href="regularni-vyrazy.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/regularni-vyrazy.png" alt="[]"></span><span class="cislo">14</span><span class="nazev">Regulární výrazy</span></a>
<a href="sed.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sed.png" alt="[]"></span><span class="cislo">15</span><span class="nazev">Sed</span></a>
<a href="soubory-a-adresare.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/soubory-a-adresare.png" alt="[]"></span><span class="cislo">16</span><span class="nazev">Soubory a adresáře</span></a>
<a href="sprava-balicku.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-balicku.png" alt="[]"></span><span class="cislo">17</span><span class="nazev">Správa balíčků</span></a>
<a href="sprava-procesu.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-procesu.png" alt="[]"></span><span class="cislo">18</span><span class="nazev">Správa procesů</span></a>
<a href="sprava-uzivatelskych-uctu.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-uzivatelskych-uctu.png" alt="[]"></span><span class="cislo">19</span><span class="nazev">Správa uživatelských účtů</span></a>
<a href="stahovani-videi.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/stahovani-videi.png" alt="[]"></span><span class="cislo">20</span><span class="nazev">Stahování videí</span></a>
<a href="system.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/system.png" alt="[]"></span><span class="cislo">21</span><span class="nazev">Systém</span></a>
<a href="vim.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/vim.png" alt="[]"></span><span class="cislo">22</span><span class="nazev">Vim</span></a>
<a href="zpracovani-textovych-souboru.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/zpracovani-textovych-souboru.png" alt="[]"></span><span class="cislo">23</span><span class="nazev">Zpracování textových souborů</span></a>
<a href="zpracovani-videa-a-zvuku.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/zpracovani-videa-a-zvuku.png" alt="[]"></span><span class="cislo">24</span><span class="nazev">Zpracování videa a zvuku</span></a>
<a href="koncepce-projektu.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/koncepce-projektu.png" alt="[]"></span><span class="cislo">25</span><span class="nazev">Koncepce projektu Linux: Kniha kouzel</span></a>
<a href="plan-vyvoje.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik-vychozi.png" alt="[]"></span><span class="cislo">26</span><span class="nazev">Plán budoucího vývoje</span></a>
<a href="licence.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik-vychozi.png" alt="[]"></span><span class="cislo">27</span><span class="nazev">Licence</span></a>
</div></div>
<a href="#zavritmenu" id="zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU OSNOVA -->
<a href="#menuosnova" id="menuosnova"><span class="prvnipismeno">O</span>snova</a>
<aside class="menuosnova">
<div><div class="nadpis">Osnova</div><div class="polozky">
<a href="#cast1" class="sekce">1 Úvod</a>
<a href="#cast2" class="sekce">2 Definice</a>
<a href="#cast3" class="sekce">3 Zaklínadla: Proměnné v bashi</a>
<a href="#cast3x1" class="podsekce">/1 Řetězcové proměnné</a>
<a href="#cast3x2" class="podsekce">/2 Exportování proměnných</a>
<a href="#cast3x3" class="podsekce">/3 Obecné</a>
<a href="#cast3x4" class="podsekce">/4 Pole (jako celek)</a>
<a href="#cast3x5" class="podsekce">/5 Pole (práce s prvky)</a>
<a href="#cast3x6" class="podsekce">/6 Asociativní pole (jako celek)</a>
<a href="#cast3x7" class="podsekce">/7 Asociativní pole (práce s klíči a prvky)</a>
<a href="#cast3x8" class="podsekce">/8 Funkce</a>
<a href="#cast3x9" class="podsekce">/9 Celočíselné proměnné</a>
<a href="#cast3x10" class="podsekce">/10 Jmenné odkazy</a>
<a href="#cast3x11" class="podsekce">/11 Konstanty</a>
<a href="#cast4" class="sekce">4 Zaklínadla: Dosazování proměnných</a>
<a href="#cast4x1" class="podsekce">/1 Jednoduché a nepřímé dosazení</a>
<a href="#cast4x2" class="podsekce">/2 Vlastnosti proměnné</a>
<a href="#cast4x3" class="podsekce">/3 Podmíněné dosazení</a>
<a href="#cast4x4" class="podsekce">/4 Dosazení podřetězce či se substitucí</a>
<a href="#cast4x5" class="podsekce">/5 Parametry skriptu</a>
<a href="#cast4x6" class="podsekce">/6 Aritmetické operace při dosazení</a>
<a href="#cast4x7" class="podsekce">/7 Různé příklady</a>
<a href="#cast5" class="sekce">5 Zaklínadla: Proměnné prostředí</a>
<a href="#cast5x1" class="podsekce">/1 Spouštění programů s upraveným prostředím</a>
<a href="#cast5x2" class="podsekce">/2 Předdefinované proměnné</a>
<a href="#cast5x3" class="podsekce">/3 Proměnné ovládající programy a systém</a>
<a href="#cast5x4" class="podsekce">/4 Preferované aplikace</a>
<a href="#cast5x5" class="podsekce">/5 Prostředí jiných procesů</a>
<a href="#cast5x6" class="podsekce">/6 Proměnné pro programátory</a>
<a href="#cast6" class="sekce">6 Instalace na Ubuntu</a>
<a href="#cast7" class="sekce">7 Tipy a zkušenosti</a>
<a href="#cast8" class="sekce">8 Další zdroje informací</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU ŠTÍTKY -->
<a href="#menustitky" id="menustitky"><span class="prvnipismeno">Š</span>títky</a>
<aside class="menustitky">
<div><div class="nadpis">Štítky</div><div class="polozky">
<a href="x-stitky.htm#sdrese">adresáře&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#spt">apt&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sbrvy">barvy&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sbsh">bash&nbsp;&nbsp;(3)</a>
<a href="x-stitky.htm#scs">čas&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#sdmoni">démoni&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#seditor">editor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sfltpk">Flatpak&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#shledn">hledání&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sinternet">internet&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sklvesnice">klávesnice&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#skomprese">komprese&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#skontejnery">kontejnery&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#slvm">LVM&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sodkldcprostor">odkládací prostor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sovldn">ovládání&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sprocesy">procesy&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sprogrm">program&nbsp;&nbsp;(6)</a>
<a href="x-stitky.htm#sprogrmovn">programování&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#spstupovprv">přístupová práva&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#srmdisk">ramdisk&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssnp">Snap&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssoubory">soubory&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssprvverz">správa verzí&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssyntxe">syntaxe&nbsp;&nbsp;(4)</a>
<a href="x-stitky.htm#ssystm">systém&nbsp;&nbsp;(6)</a>
<a href="x-stitky.htm#stemtickokruh">tematický okruh&nbsp;&nbsp;(15)</a>
<a href="x-stitky.htm#svideo">video&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#svirtulizce">virtualizace&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szip">zip&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szprcovntextu">zpracování textu&nbsp;&nbsp;(4)</a>
<a href="x-stitky.htm#szvuk">zvuk&nbsp;&nbsp;(1)</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU NÁPOVĚDA -->
<a href="#menunapoveda" id="menunapoveda"><span class="prvnipismeno">N</span>ápověda</a>
<aside class="menunapoveda">
<div><div class="nadpis">Nápověda</div><div class="polozky">
<a href="predmluva.htm">Předmluva</a>
<a href="koncepce-projektu.htm">Koncepce projektu</a>
<a href="https://singularis-mzf.github.io/">Ostatní verze knihy</a>
<a href="https://github.com/singularis-mzf/linux-spellbook">Repozitář na GitHubu</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>

</nav>
<!-- *** -->
<footer id="dole">
<img src="obrazky/by-sa.png" width="88" height="31" alt="[BY-SA]">
<p>Veškerý obsah této stránky (text, obrázky, zdrojový kód) je možno upravovat a šířit pod podmínkami licence
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>.
Upozorňuji, že uvedená licence vyžaduje uvedení seznamu autorů, licence a zdroje a poskytnutí stejné
či kompatibilní licence k provedeným změnám, jsou-li nějaké. Příslušné údaje jsou dostupné
na stránce „<a href="x-autori.htm">Přehled autorů</a>“.
Šíření obsahu bez těchto údajů nebo šíření upravené verze bez poskytnutí adekvátní
licence k provedeným úpravám je pravděpodobně porušení licenčních podmínek a může být postihováno.
Poskytování zdrojového kódu při šíření není touto licencí vyžadováno.</p><p>Pro nové verze, další informace, aktuální zdrojový kód
a možnost se zapojit do projektu „Linux: Kniha kouzel“ navštivte jeho
<a href="https://github.com/singularis-mzf/linux-spellbook">repozitář na GitHubu</a>.
</footer>
</body>
</html>
