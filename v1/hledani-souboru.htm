<!doctype html>
<html lang="cs">
<head profile="http://www.w3.org/2005/10/profile">
<meta charset="UTF-8">

<title>Hledání souborů − Linux: Kniha kouzel</title>

<link rel="stylesheet" type="text/css" href="lkk-20200321.css">
<link rel="alternate stylesheet" type="text/css" href="lkk-20200321-vk-svetly.css" title="Vysoký kontrast: světlá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20200321-vk-tmavy.css" title="Vysoký kontrast: tmavá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20200321-tmavy.css" title="Tmavý motiv">
<link rel="icon" type="image/png" href="obrazky/favicon.png">
</head>
<body id="nahore">
<header>
<span class="left"><a href="index.htm"><img src="obrazky/favicon.png" width="16" height="16" alt=""></a> Linux: Kniha kouzel, vanilková příchuť 1.5 (21. března 2020)</span>
<span class="right"><span class="ico1"></span><span class="ico2"></span><span class="ico3"></span></span>
</header>


<nav class="horni">
<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>
<span class="prev">
<a href="git.htm" rel="prev" title="6. Git" accesskey="p">Předchozí&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm" accesskey="i">Přehled</a><span class="next"><!--
-->&nbsp;| <a href="make.htm" rel="next" title="8. GNU make" accesskey="n">Následující&nbsp;kapitola</a>
</span>
</nav>


<article>

<h1 class="kapitola">7. <img src="obrazky/ik-vychozi.png" alt="" width="64" height="64"> Hledání souborů</h1>
<div class="stitky"><a href="x-stitky.htm#sdrese">adresáře</a>
<a href="x-stitky.htm#shledn">hledání</a>
<a href="x-stitky.htm#stemtickokruh">tematický okruh</a>
</div><div class="rozcestnikkapitol">
<a href="#cast1" class="sekce">Úvod</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast2" class="sekce">Definice</a><br>
<a href="#cast3" class="sekce">Zaklínadla (find: testy)</a>: <a href="#cast3x1">Typ adresářové položky (soubor, adresář, odkaz...)</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3x2">Název položky a cesta</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3x3">Velikost souboru</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3x4">Čas („změněno“, „čteno“)</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3x5">Operátory testů</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3x6">Vlastnictví a skupina položky</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3x7">Přístupová práva (ACL)</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3x8">Obsah souboru</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3x9">Velikost adresáře</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3x10">Ostatní</a><br>
<a href="#cast4" class="sekce">Zaklínadla (find: akce)</a>: <a href="#cast4x1">Vypsat údaje</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast4x2">Ostatní akce</a><br>
<a href="#cast5" class="sekce">Zaklínadla (akce -printf a -fprintf)</a><br>
<a href="#cast6" class="sekce">Zaklínadla (celé příkazy)</a>: <a href="#cast6x1">Hledání textových souborů podle obsahu</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast6x2">Hledání programů</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast6x3">Obecné hledání</a><br>
<a href="#cast7" class="sekce">Parametry příkazů</a>: <a href="#cast7x1">find</a><br>
<a href="#cast8" class="sekce">Instalace na Ubuntu</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast9" class="sekce">Tipy a zkušenosti</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast10" class="sekce">Další zdroje informací</a></div>
<h2><a href="#cast1" id="cast1"><span class="cislo">1.</span> Úvod</a></h2>
<p class="ponadpisu">
Tato kapitola se zabývá vyhledáváním adresářových položek (souborů a adresářů).
Převážně se zabývá příkazem „find“, který strukturu adresářů skutečně prochází
a prohleďává, ale zahrnuje také vyhledávání programů a na databázi založený
příkaz „locate“.
</p><p>
Tato verze kapitoly nepokrývá vyhledávání podle obsahu souboru.
</p>

<h2><a href="#cast2" id="cast2"><span class="cislo">2.</span> Definice</a></h2>
<ul><li><b>Výchozí bod</b> je cesta (relativní či absolutní) zadaná příkazu „find“, ze které tento příkaz zahajuje vyhledávání. Může být absolutní i relativní. Nejčastěji se jedná o adresář (např. „.“), ale může jít i o souboru či symbolický odkaz na adresář či soubor. Příkaz find výchozí bod nezkracuje, vždy ho zpracovává tak, jak je zadán.
</li><li><b>Hloubka</b> je celé číslo, které vyjadřuje počet adresářů od výchozího bodu k právě testované adresářové položce. Hloubku 0 mají pouze výchozí body; hloubku 1 soubory a podadresáře v nich, hloubku 2 ty další atd. Je-li např. „/usr/share“ výchozí bod, pak adresář „/usr/share“ má hloubku 0, soubor „/usr/share/.lock“ by měl hloubku 1, soubor „/usr/share/test/copyright.gz“ hloubku 2 atd.
</li><li>Průchod adresářovou strukturou může být <b>do šířky</b> (výchozí stav − každý adresář je nejprve zpracován sám o sobě (provedou se nad ním testy a v případě úspěchu se vykonají akce) a teprve poté do něj find vstoupí a prozkoumá jeho obsah) nebo <b>do hloubky</b> (v tom případě find pokaždé nejprve vstoupí do adresáře a zpracuje veškerý jeho obsah a teprve „na odchodu“ zpracuje i samotný adresář). Výchozí je průchod do šířky. Průchod do hloubky se aplikuje pouze tehdy, je-li zadán globální parametr „-depth“ nebo je-li použita akce „-delete“. Při průchodu do hloubky nelze použít akci „-prune“.
</li><li><b>Názvem položky</b> se u příkazu „find“ rozumí samotný název adresářové položky.
</li><li><b>Cestou položky</b> se u příkazu „find“ rozumí výchozí bod (jak byl zadaný) a za ním adresářová cesta k položce včetně jejího názvu. Je-li např. výchozí bod „.“, je cestou položky např. „./test.sh“.
</li></ul>
<h2><a href="#cast3" id="cast3"><span class="cislo">3.</span> Zaklínadla (find: testy)</a></h2>

<h3><a href="#cast3x1" id="cast3x1"><span class="cislo">1</span> Typ adresářové položky (soubor, adresář, odkaz...)</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1034700401" href="#z1034700401">ˑ</a>obyčejný soubor</div><div class="radky">
<div class="radekzaklinadla">-type f</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z110250217" href="#z110250217">▼</a>adresář</div><div class="radky">
<div class="radekzaklinadla">-type d</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z323034790" href="#z323034790">˦</a>symbolický odkaz (jakýkoliv/na soubor/na adresář/absolutní/relativní)</div><div class="radky">
<div class="radekzaklinadla">-type l</div>
<div class="radekzaklinadla">-type l -xtype f</div>
<div class="radekzaklinadla">-type l -xtype d</div>
<div class="radekzaklinadla">-lname &quot;/*&quot;</div>
<div class="radekzaklinadla">-type l \! -lname &quot;/*&quot;</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span><a class="ikona D" id="z1777551310" href="#z1777551310">ˑ</a>speciální zařízení (blokové/znakové/jakékoliv)</div><div class="radky">
<div class="radekzaklinadla">-type b</div>
<div class="radekzaklinadla">-type c</div>
<div class="radekzaklinadla">-type b,c</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#5 </span><a class="ikona D" id="z164574482" href="#z164574482">♼</a>pojmenovaná roura</div><div class="radky">
<div class="radekzaklinadla">-type p</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#6 </span><a class="ikona D" id="z635732358" href="#z635732358">⇾</a>soket</div><div class="radky">
<div class="radekzaklinadla">-type s</div>
</div></div>

<h3><a href="#cast3x2" id="cast3x2"><span class="cislo">2</span> Název položky a cesta</a></h3>
<p class="ponadpisu">
Písmeno „i“ vypne rozlišování mezi velkými a malými písmeny.
</p>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1806324430" href="#z1806324430">ꓺ</a><b>název</b> položky</div><div class="radky">
<div class="radekzaklinadla">-<span class="volznak">[</span>i<span class="volznak">]</span>name &quot;<i class="dopln">vzorek</i>&quot;</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z1839082627" href="#z1839082627">⡹</a><b>cesta</b> položky</div><div class="radky">
<div class="radekzaklinadla">-<span class="volznak">[</span>i<span class="volznak">]</span>path &quot;<i class="dopln">vzorek</i>&quot;</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z1240679779" href="#z1240679779">⋼</a>cesta položky se shoduje s <b>regulárním výrazem</b></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>-regextype posix-extended<span class="volznak">]</span> -<span class="volznak">[</span>i<span class="volznak">]</span>regex '<i class="dopln">regulární výraz</i>'</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span><a class="ikona D" id="z238972950" href="#z238972950">≒</a>hodnota symbolického odkazu</div><div class="radky">
<div class="radekzaklinadla">-<span class="volznak">[</span>i<span class="volznak">]</span>lname &quot;<i class="dopln">vzorek</i>&quot;</div>
</div></div>

<h3><a href="#cast3x3" id="cast3x3"><span class="cislo">3</span> Velikost souboru</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1091323807" href="#z1091323807">꓾</a><b>M až N</b> gibibajtů/mebibajtů/kibibajtů/bajtů</div><div class="radky">
<div class="radekzaklinadla">-size +$((<i class="dopln">M</i>*2**30-1))c -size -$((<i class="dopln">N</i>*2**30+1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">M</i>*2**20-1))c -size -$((<i class="dopln">N</i>*2**20+1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">M</i>*2**10-1))c -size -$((<i class="dopln">N</i>*2**10+1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">M</i>-1))c -size -$((<i class="dopln">N</i>+1))c</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z2122944857" href="#z2122944857">ⵆ</a><b>M až N</b> gigabajtů/megabajtů/kilobajtů/bajtů</div><div class="radky">
<div class="radekzaklinadla">-size +$((<i class="dopln">M</i>*10**9-1))c -size -$((<i class="dopln">N</i>*10**9+1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">M</i>*10**6-1))c -size -$((<i class="dopln">N</i>*10**6+1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">M</i>*10**3-1))c -size -$((<i class="dopln">N</i>*10**3+1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">M</i>-1))c -size -$((<i class="dopln">N</i>+1))c</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z1077224605" href="#z1077224605">◒</a><b>minimálně</b> N gibibajtů/mebibajtů/kibibajtů/bajtů</div><div class="radky">
<div class="radekzaklinadla">-size +$((<i class="dopln">N</i>*2**30-1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">N</i>*2**20-1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">N</i>*2**10-1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">N</i>-1))c</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span><a class="ikona D" id="z830644155" href="#z830644155">❳</a><b>maximálně</b> N gibibajtů/mebibajtů/kibibajtů/bajtů</div><div class="radky">
<div class="radekzaklinadla">-size -$((<i class="dopln">N</i>*2**30+1))c</div>
<div class="radekzaklinadla">-size -$((<i class="dopln">N</i>*2**20+1))c</div>
<div class="radekzaklinadla">-size -$((<i class="dopln">N</i>*2**10+1))c</div>
<div class="radekzaklinadla">-size -$((<i class="dopln">N</i>+1))c</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#5 </span><a class="ikona D" id="z623283895" href="#z623283895">䷇</a><b>minimálně</b> N gigabajtů/megabajtů/kilobajtů</div><div class="radky">
<div class="radekzaklinadla">-size +$((<i class="dopln">N</i>*10**9-1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">N</i>*10**6-1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">N</i>*10**3-1))c</div>
<div class="radekzaklinadla">-size +$((<i class="dopln">N</i>-1))c</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#6 </span><a class="ikona D" id="z18401705" href="#z18401705">⋌</a><b>maximálně</b> N gigabajtů/megabajtů/kilobajtů</div><div class="radky">
<div class="radekzaklinadla">-size -$((<i class="dopln">N</i>*10**9+1))c</div>
<div class="radekzaklinadla">-size -$((<i class="dopln">N</i>*10**6+1))c</div>
<div class="radekzaklinadla">-size -$((<i class="dopln">N</i>*10**3+1))c</div>
<div class="radekzaklinadla">-size -$((<i class="dopln">N</i>+1))c</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#7 </span><a class="ikona D" id="z1060575333" href="#z1060575333">⪞</a><b>přesně</b> N gibibajtů/mebibajtů/kibibajtů/bajtů</div><div class="radky">
<div class="radekzaklinadla">-size $((<i class="dopln">N</i>*2**30))c</div>
<div class="radekzaklinadla">-size $((<i class="dopln">N</i>*2**20))c</div>
<div class="radekzaklinadla">-size $((<i class="dopln">N</i>*2**10))c</div>
<div class="radekzaklinadla">-size <i class="dopln">N</i>c</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#8 </span><a class="ikona D" id="z2092196387" href="#z2092196387">⪈</a><b>přesně</b> N gigabajtů/megabajtů/kilobajtů/bajtů</div><div class="radky">
<div class="radekzaklinadla">-size $((<i class="dopln">N</i>*10**9))c</div>
<div class="radekzaklinadla">-size $((<i class="dopln">N</i>*10**6))c</div>
<div class="radekzaklinadla">-size $((<i class="dopln">N</i>*10**3))c</div>
<div class="radekzaklinadla">-size <i class="dopln">N</i>c</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#9 </span><a class="ikona D" id="z210453904" href="#z210453904">⠨</a><b>prázdný</b> soubor</div><div class="radky">
<div class="radekzaklinadla">-size 0</div>
</div></div>

<h3><a href="#cast3x4" id="cast3x4"><span class="cislo">4</span> Čas („změněno“, „čteno“)</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1813620332" href="#z1813620332">⪎</a>změněno/čteno v rozsahu dnů<sup><a href="#kaphledanisouboruppc1" id="kaphledanisouboruppcr1" title="Dny zadejte ve formátu %F (YYYY-MM-DD).">(1)</a></sup></div><div class="radky">
<div class="radekzaklinadla">-newermt &quot;<i class="dopln">první-den-intervalu</i> 00:00:00&quot; \! -newermt &quot;<i class="dopln">poslední-den-intervalu</i> 23:59:59&quot;</div>
<div class="radekzaklinadla">-newerat &quot;<i class="dopln">první-den-intervalu</i> 00:00:00&quot; \! -newerat &quot;<i class="dopln">poslední-den-intervalu</i> 23:59:59&quot;</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z832401346" href="#z832401346">⣩</a>čteno od poslední změny</div><div class="radky">
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>

<h3><a href="#cast3x5" id="cast3x5"><span class="cislo">5</span> Operátory testů</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1801674187" href="#z1801674187">♒</a>oba testy musejí být splněny (<b>a také</b>)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">test1</i> <i class="dopln">test2</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z959083658" href="#z959083658">⠜</a>test nesmí být splněn (<b>ne-</b>)</div><div class="radky">
<div class="radekzaklinadla">\! <i class="dopln">test</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z467463383" href="#z467463383">∷</a>závorky (<b>seskupení</b> testů a akcí)</div><div class="radky">
<div class="radekzaklinadla">\( <i class="dopln">testy a akce</i> \)</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span><a class="ikona D" id="z708386017" href="#z708386017">⣖</a>některý z testů musí být splněn (<b>nebo</b>)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">test1</i> -o <i class="dopln">test2</i></div>
</div></div>

<h3><a href="#cast3x6" id="cast3x6"><span class="cislo">6</span> Vlastnictví a skupina položky</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1779110275" href="#z1779110275">⌑</a>vlastník souboru (názvem/UID)</div><div class="radky">
<div class="radekzaklinadla">-user <i class="dopln">uživatel</i></div>
<div class="radekzaklinadla">-uid <i class="dopln">UID</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z1178936495" href="#z1178936495">╄</a>skupina (názvem/GID)</div><div class="radky">
<div class="radekzaklinadla">-group <i class="dopln">skupina</i></div>
<div class="radekzaklinadla">-gid <i class="dopln">GID</i></div>
</div></div>

<h3><a href="#cast3x7" id="cast3x7"><span class="cislo">7</span> Přístupová práva (ACL)</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z2042509086" href="#z2042509086">ᔵ</a>soubor je přístupný pro <b>čtení</b></div><div class="radky">
<div class="radekzaklinadla">-readable</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z87281299" href="#z87281299">䷻</a>soubor je přístupný pro <b>zápis</b></div><div class="radky">
<div class="radekzaklinadla">-writable</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z1143304970" href="#z1143304970">⇙</a>soubor je fakticky <b>spustitelný</b></div><div class="radky">
<div class="radekzaklinadla">-executable</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span><a class="ikona D" id="z21303523" href="#z21303523">☾</a>vlastník (u), skupina (g) či ostatní (o) mají právo (jedno z r, w, x)</div><div class="radky">
<div class="radekzaklinadla">-perm /<i class="dopln">kdo</i>=<i class="dopln">právo</i></div>
<div class="radekzaklinadla">\! -perm /<i class="dopln">kdo</i>=<i class="dopln">právo</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#5 </span><a class="ikona D" id="z342832078" href="#z342832078">↨</a>všichni mají určité právo</div><div class="radky">
<div class="radekzaklinadla">-perm -ugo=<i class="dopln">právo</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#6 </span><a class="ikona D" id="z1695127403" href="#z1695127403">∮</a>vlastník (u), skupina (g) či ostatní (o) mají všechna práva</div><div class="radky">
<div class="radekzaklinadla">-perm -<i class="dopln">kdo</i>=rwx</div>
</div></div>

<h3><a href="#cast3x8" id="cast3x8"><span class="cislo">8</span> Obsah souboru</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1916403107" href="#z1916403107">⌞</a>některý řádek obsahuje/žádný řádek neobsahuje shodu s regulárním výrazem</div><div class="radky">
<div class="radekzaklinadla">\! ( -type d -o ( -type l -xtype d ) ) -readable -exec egrep -q <span class="volznak">[</span>--<span class="volznak">]</span> '<i class="dopln">regulární výraz</i>' \;</div>
<div class="radekzaklinadla">\! ( -type d -o ( -type l -xtype d ) ) -readable \! -exec egrep -q <span class="volznak">[</span>--<span class="volznak">]</span> '<i class="dopln">regulární výraz</i>' \;</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z924777802" href="#z924777802">▜</a>některá řádka obsahuje/žádná řádka neobsahuje podřetězec</div><div class="radky">
<div class="radekzaklinadla">\! ( -type d -o ( -type l -xtype d ) ) -readable -exec fgrep -q <span class="volznak">[</span>--<span class="volznak">]</span> '<i class="dopln">podřetězec</i>' \;</div>
<div class="radekzaklinadla">\! ( -type d -o ( -type l -xtype d ) ) -readable \! -exec fgrep -q <span class="volznak">[</span>--<span class="volznak">]</span> '<i class="dopln">podřetězec</i>' \;</div>
</div></div>

<h3><a href="#cast3x9" id="cast3x9"><span class="cislo">9</span> Velikost adresáře</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z915700054" href="#z915700054">≠</a>prázdný adresář</div><div class="radky">
<div class="radekzaklinadla">-type d -empty</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z1340819860" href="#z1340819860">⡡</a>adresář s alespoň N položkami/právě N položkami/nejvýše N položkami</div><div class="radky">
<div class="radekzaklinadla">-type d -exec sh -c 'test $(ls -1AbU -- &quot;{}&quot;) -ge <i class="dopln">N</i>' \; <span class="volznak">[</span>--print<span class="volznak">]</span></div>
<div class="radekzaklinadla">-type d -exec sh -c 'test $(ls -1AbU -- &quot;{}&quot;) -eq <i class="dopln">N</i>' \; <span class="volznak">[</span>--print<span class="volznak">]</span></div>
<div class="radekzaklinadla">-type d -exec sh -c 'test $(ls -1AbU -- &quot;{}&quot;) -le <i class="dopln">N</i>' \; <span class="volznak">[</span>--print<span class="volznak">]</span></div>
</div></div>

<h3><a href="#cast3x10" id="cast3x10"><span class="cislo">10</span> Ostatní</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1911659623" href="#z1911659623">↷</a>pevné odkazy konkrétního souboru</div><div class="radky">
<div class="radekzaklinadla">-samefile <i class="dopln">soubor</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z18334863" href="#z18334863">✩</a>neplatné symbolické odkazy</div><div class="radky">
<div class="radekzaklinadla">-type l -xtype l</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z1567054740" href="#z1567054740">⠊</a>počet pevných odkazů (přesně/minimálně/maximálně N)</div><div class="radky">
<div class="radekzaklinadla">-links <i class="dopln">N</i></div>
<div class="radekzaklinadla">-links +$((<i class="dopln">N</i>-1))</div>
<div class="radekzaklinadla">-links -$((<i class="dopln">N</i>+1))</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span><a class="ikona D" id="z553424968" href="#z553424968">┃</a>obsah symbolického odkazu odpovídá vzorku</div><div class="radky">
<div class="radekzaklinadla">-lname '<i class="dopln">vzorek</i>'</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#5 </span><a class="ikona D" id="z1946465375" href="#z1946465375">⢗</a>test, který vždy uspěje/selže</div><div class="radky">
<div class="radekzaklinadla">-true</div>
<div class="radekzaklinadla">-false</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#6 </span><a class="ikona D" id="z1863793954" href="#z1863793954">⡅</a>vlastník nebo skupina souboru neexistuje</div><div class="radky">
<div class="radekzaklinadla">\( -nogroup -o -nouser \)</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#7 </span><a class="ikona D" id="z2056587462" href="#z2056587462">➩</a>typ souborového systému<sup><a href="#kaphledanisouboruppc2" id="kaphledanisouboruppcr2" title="Např. „ext4“, „tmpfs“, „ntfs“, „vfat“.">(2)</a></sup></div><div class="radky">
<div class="radekzaklinadla">-fstype <i class="dopln">typ</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#8 </span><a class="ikona D" id="z284729106" href="#z284729106">⣼</a>čislo <b>inode</b></div><div class="radky">
<div class="radekzaklinadla">-inum <i class="dopln">inode</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#9 </span><a class="ikona D" id="z1368042136" href="#z1368042136">☪</a><b>hloubka</b> prohledávání</div><div class="radky">
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>

<h2><a href="#cast4" id="cast4"><span class="cislo">4.</span> Zaklínadla (find: akce)</a></h2>

<h3><a href="#cast4x1" id="cast4x1"><span class="cislo">1</span> Vypsat údaje</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z343354584" href="#z343354584">⚄</a>cestu položky na standardní výstup (txt/txtz)</div><div class="radky">
<div class="radekzaklinadla">-print</div>
<div class="radekzaklinadla">-print0</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z1416308702" href="#z1416308702">⋱</a>vypsat údaje podle formátu na standardní výstup/do souboru</div><div class="radky">
<div class="radekzaklinadla">-printf '<i class="dopln">formát</i>'</div>
<div class="radekzaklinadla">-fprintf <i class="dopln">soubor</i> '<i class="dopln">formát</i>'</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z689647376" href="#z689647376">⣩</a>zapsat cestu položky jako záznam do souboru (txt/txtz)<sup><a href="#kaphledanisouboruppc3" id="kaphledanisouboruppcr3" title="Poznámka: Varianta „txt“ není bezpečná v případě, že cesta položky obsahuje znak konce řádku.">(3)</a></sup></div><div class="radky">
<div class="radekzaklinadla">-fprint <i class="dopln">soubor</i></div>
<div class="radekzaklinadla">-fprint0 <i class="dopln">soubor</i></div>
</div></div>

<h3><a href="#cast4x2" id="cast4x2"><span class="cislo">2</span> Ostatní akce</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1370650459" href="#z1370650459">➛</a>smazat soubor či prázdný adresář (lze použít jen při průchodu do hloubky)<sup><a href="#kaphledanisouboruppc4" id="kaphledanisouboruppcr4" title="Akce uspěje, pokud se soubor či adresář podaří smazat.">(4)</a></sup></div><div class="radky">
<div class="radekzaklinadla">-delete</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z459036554" href="#z459036554">♃</a>spustit příkaz po dávkách<sup><a href="#kaphledanisouboruppc5" id="kaphledanisouboruppcr5" title="Tato varianta je prakticky ekvivalentem volání příkazu xargs. Použije co největší dávky. Vždy uspěje.">(5)</a></sup></div><div class="radky">
<div class="radekzaklinadla">-exec <i class="dopln">příkaz</i> <span class="volznak">[</span><i class="dopln">parametry příkazu</i><span class="volznak">]</span> '{}' +</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z429470900" href="#z429470900">➴</a>spustit příkaz po dávkách po adresářích<sup><a href="#kaphledanisouboruppc6" id="kaphledanisouboruppcr6" title="Tato varianta vždy uspěje. Shromáždí položky z jednotlivého adresáře a po velkých dávkách (obvykle najednou) je předá ke zpracování uvedenému příkazu. Příkaz se spouští v adresáři, kde jsou vyhledané položky, a dostává pouze název souboru s cestou „./“.">(6)</a></sup></div><div class="radky">
<div class="radekzaklinadla">-execdir <i class="dopln">příkaz</i> <span class="volznak">[</span><i class="dopln">parametry příkazu</i><span class="volznak">]</span> '{}' +</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span><a class="ikona D" id="z1881191301" href="#z1881191301">䷌</a>spustit příkaz pro každou položku (s cestou/bez cesty)<sup><a href="#kaphledanisouboruppc7" id="kaphledanisouboruppcr7" title="Každý výskyt řetězce „{}“ v parametrech příkazu bude při volání nahrazen: v případě první varianty cestou testované položky od výchozího bodu, v případě varianty bez cesty jen názvem souboru s cestou „./“ (příkaz bude spuštěn ve stejném adresáři, kde se položka nachází). Akce uspěje, pokud uspěje příkaz.">(7)</a></sup></div><div class="radky">
<div class="radekzaklinadla">-exec <i class="dopln">příkaz</i> <span class="volznak">[</span><i class="dopln">parametry příkazu</i><span class="volznak">]</span> \;</div>
<div class="radekzaklinadla">-execdir <i class="dopln">příkaz</i> <span class="volznak">[</span><i class="dopln">parametry příkazu</i><span class="volznak">]</span> \;</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#5 </span><a class="ikona D" id="z1920609689" href="#z1920609689">⢹</a>je-li položka adresář, <b>nevstupovat</b> do něj a ignorovat jeho obsah (funguje jen při průchodu do šířky)</div><div class="radky">
<div class="radekzaklinadla">-prune</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#6 </span><a class="ikona D" id="z1246475457" href="#z1246475457">⇥</a>ukončit načítání dalších položek</div><div class="radky">
<div class="radekzaklinadla">-quit</div>
</div></div>

<h2><a href="#cast5" id="cast5"><span class="cislo">5.</span> Zaklínadla (akce -printf a -fprintf)</a></h2>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z129072031" href="#z129072031">ˑ</a>název položky/cesta položky/cesta položky bez výchozího bodu</div><div class="radky">
<div class="radekzaklinadla">%f<span class="prikladhodnoty">⊨ test.txt</span></div>
<div class="radekzaklinadla">%p<span class="prikladhodnoty">⊨ ./testdir/test.txt</span></div>
<div class="radekzaklinadla">%P<span class="prikladhodnoty">⊨ testdir/test.txt</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z2055874584" href="#z2055874584">․</a>typ adresářové položky (písmeno)</div><div class="radky">
<div class="radekzaklinadla">%y<span class="prikladhodnoty">⊨ f</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona L" id="z1562995752" href="#z1562995752">⟞</a>cesta položky bez názvu</div><div class="radky">
<div class="radekzaklinadla">%h<span class="prikladhodnoty">⊨ ./testdir</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span><a class="ikona D" id="z275743987" href="#z275743987">┴</a>výchozí bod</div><div class="radky">
<div class="radekzaklinadla">%H<span class="prikladhodnoty">⊨ .</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#5 </span><a class="ikona D" id="z854262861" href="#z854262861">⠰</a>čas „změněno“(normálně/časová známka Unixu)<sup><a href="#kaphledanisouboruppc8" id="kaphledanisouboruppcr8" title="V obou případech se bohužel vypíše s desetinnou částí.">(8)</a></sup></div><div class="radky">
<div class="radekzaklinadla">%Ty-%Tm-%Td %TT<span class="prikladhodnoty">⊨ 2020-03-13 22:03:00.9467889490</span></div>
<div class="radekzaklinadla">%T@<span class="prikladhodnoty">⊨ 1584133380.9467889490</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#6 </span><a class="ikona D" id="z69210578" href="#z69210578">☵</a>čas posledního přístupu (normálně/časová známka Unixu)<sup><a href="#kaphledanisouboruppc9" id="kaphledanisouboruppcr9" title="V obou případech se bohužel vypíše s desetinnou částí.">(9)</a></sup></div><div class="radky">
<div class="radekzaklinadla">%Ay-%Am-%Ad %AT<span class="prikladhodnoty">⊨ 2020-03-13 22:03:00.9467889490</span></div>
<div class="radekzaklinadla">%A@<span class="prikladhodnoty">⊨ 1584133380.9467889490</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#7 </span><a class="ikona D" id="z686217577" href="#z686217577">⢞</a>hloubka prohledávání</div><div class="radky">
<div class="radekzaklinadla">%d<span class="prikladhodnoty">⊨ 1</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#8 </span><a class="ikona D" id="z2056587462x" href="#z2056587462x">➩</a>typ souborového systému</div><div class="radky">
<div class="radekzaklinadla">%F<span class="prikladhodnoty">⊨ ext4</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#9 </span><a class="ikona D" id="z752074329" href="#z752074329">⢳</a>cíl (obsah) symbolického odkazu<sup><a href="#kaphledanisouboruppc10" id="kaphledanisouboruppcr10" title="Pokud položka není symbolický odkaz, %l vypisuje prázdný řetězec.">(10)</a></sup></div><div class="radky">
<div class="radekzaklinadla">%l</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#10 </span><a class="ikona D" id="z692800727" href="#z692800727">↛</a>počet pevných odkazů</div><div class="radky">
<div class="radekzaklinadla">%n<span class="prikladhodnoty">⊨ 1</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#11 </span><a class="ikona D" id="z1402985723" href="#z1402985723">⢘</a>velikost souboru v bajtech</div><div class="radky">
<div class="radekzaklinadla">%s<span class="prikladhodnoty">⊨ 3</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#12 </span><a class="ikona D" id="z338017245" href="#z338017245">⊑</a>vlastník (jméno/UID)</div><div class="radky">
<div class="radekzaklinadla">%u<span class="prikladhodnoty">⊨ milada</span></div>
<div class="radekzaklinadla">%U<span class="prikladhodnoty">⊨ 1000</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#13 </span><a class="ikona D" id="z811963214" href="#z811963214">◡</a>skupina (jméno/GID)</div><div class="radky">
<div class="radekzaklinadla">%g<span class="prikladhodnoty">⊨ milada</span></div>
<div class="radekzaklinadla">%G<span class="prikladhodnoty">⊨ 1000</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#14 </span><a class="ikona D" id="z1399220339" href="#z1399220339">➞</a>číslo „inode“</div><div class="radky">
<div class="radekzaklinadla">%i<span class="prikladhodnoty">⊨ 2758499</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#15 </span><a class="ikona D" id="z235438315" href="#z235438315">⌡</a>přístupová práva symbolicky</div><div class="radky">
<div class="radekzaklinadla">%M<span class="prikladhodnoty">⊨ -rw-r--r--</span></div>
</div></div>

<h2><a href="#cast6" id="cast6"><span class="cislo">6.</span> Zaklínadla (celé příkazy)</a></h2>

<h3><a href="#cast6x1" id="cast6x1"><span class="cislo">1</span> Hledání textových souborů podle obsahu</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z560795170" href="#z560795170">❑</a>najít soubory, jejichž některá řádka obsahuje/žádný řádek neobsahuje shodu s regulárním výrazem</div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">kde</i><span class="tritecky"></span> -type f -readable <span class="volznak">[</span><i class="dopln">další podmínky</i><span class="volznak">]</span><span class="tritecky"></span> -exec egrep -l '<i class="dopln">regulární výraz</i>' '{}' +</div>
<div class="radekzaklinadla">find <i class="dopln">kde</i><span class="tritecky"></span> -type f -readable <span class="volznak">[</span><i class="dopln">další podmínky</i><span class="volznak">]</span><span class="tritecky"></span> -exec egrep -L '<i class="dopln">regulární výraz</i>' '{}' +</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z1796931797" href="#z1796931797">⢹</a>najít soubory, jejichž některá řádka obsahuje/žádný řádek neobsahuje podřetězec</div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">kde</i><span class="tritecky"></span> -type f -readable <span class="volznak">[</span><i class="dopln">další podmínky</i><span class="volznak">]</span><span class="tritecky"></span> -exec fgrep -l '<i class="dopln">regulární výraz</i>' '{}' +</div>
<div class="radekzaklinadla">find <i class="dopln">kde</i><span class="tritecky"></span> -type f -readable <span class="volznak">[</span><i class="dopln">další podmínky</i><span class="volznak">]</span><span class="tritecky"></span> -exec fgrep -L '<i class="dopln">regulární výraz</i>' '{}' +</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z39596328" href="#z39596328">➹</a>najít symbolické <b>smyčky</b>, tzn. symbolické odkazy, které přímo či nepřímo odkazují samy na sebe</div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">kde</i> -type l -printf '%Y%p\0' | sed -zE 's/^L//;t;d' <span class="volznak">[</span>| tr \\0 \\n<span class="volznak">]</span></div>
</div></div>

<h3><a href="#cast6x2" id="cast6x2"><span class="cislo">2</span> Hledání programů</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1634873418" href="#z1634873418">⡁</a>najít úplnou cestu podle názvu příkazu<sup><a href="#kaphledanisouboruppc11" id="kaphledanisouboruppcr11" title="Poznámka: tento příkaz (pochopitelně) ignoruje vestavěné příkazy bashe, aliasy, funkce apod. Řídí se pouze proměnnou prostředí PATH.">(11)</a></sup></div><div class="radky">
<div class="radekzaklinadla">which <i class="dopln">název-příkazu</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z1327691741" href="#z1327691741">∽</a>najít manuálové stránky (jako soubory/název a sekce)</div><div class="radky">
<div class="radekzaklinadla">find -L /usr/share/man -type f -name '<i class="dopln">název</i>.*.gz' <span class="volznak">[</span>| sort<span class="volznak">]</span></div>
<div class="radekzaklinadla">find -L /usr/share/man -type f -name '<i class="dopln">název</i>.*.gz' | sed -E 's/.*\/(.*)\.([^.]+)\.gz$/\1(\2)/' | sort -u</div>
</div></div>

<h3><a href="#cast6x3" id="cast6x3"><span class="cislo">3</span> Obecné hledání</a></h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><a class="ikona D" id="z1762979032" href="#z1762979032">⡔</a>najít a odstranit <b>prázdné</b> adresáře/soubory/soubory i adresáře</div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">kde</i><span class="tritecky"></span> -type d -empty -delete</div>
<div class="radekzaklinadla">find <i class="dopln">kde</i><span class="tritecky"></span> -type f -empty -delete</div>
<div class="radekzaklinadla">find <i class="dopln">kde</i><span class="tritecky"></span> -empty -delete</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><a class="ikona D" id="z617218513" href="#z617218513">✥</a>najít <b>neplatné</b> symbolické odkazy (pro člověka/pro skript)<sup><a href="#kaphledanisouboruppc12" id="kaphledanisouboruppcr12" title="Pozor! Příkaz nemůže správně určit, zda je symbolický odkaz neplatný, pokud nemá přístupová práva k adresáři, na který symbolický odkaz odkazuje! Příkaz „symlinks“ v takovém případě hlásí odkaz jako neplatný, uvedená podoba příkazu „find“ vypíše chybové hlášení „Permission denied“, ale odkaz do seznamu neplatných nezahrne.">(12)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> find <i class="dopln">kde</i><span class="tritecky"></span> -type d -exec symlinks '{}' + | egrep '^dangling:<span class="viditelnamezera">&nbsp;</span>'</div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> find <i class="dopln">kde</i><span class="tritecky"></span> -type l -xtype l <span class="volznak">[</span>-print0<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><a class="ikona D" id="z37220251" href="#z37220251">≧</a>najít adresářové položky, jejichž názvy/celá cesta obsahují shodu s regulárním výrazem (pomoc databáze „mlocate“)</div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> locate --regex -b <span class="volznak">[</span>-e<span class="volznak">]</span> <span class="volznak">[</span>-i<span class="volznak">]</span> -r '<i class="dopln">regulární výraz pro název položky</i>'</div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> locate --regex <span class="volznak">[</span>-e<span class="volznak">]</span> <span class="volznak">[</span>-i<span class="volznak">]</span> -r '<i class="dopln">regulární výraz pro celou cestu</i>'</div>
</div></div>

<h2><a href="#cast7" id="cast7"><span class="cislo">7.</span> Parametry příkazů</a></h2>

<h3><a href="#cast7x1" id="cast7x1"><span class="cislo">1</span> find</a></h3>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> find <span class="volznak">[</span>-P<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span> <i class="dopln">globální parametry</i> <i class="dopln">testy-a-akce</i></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> find -L <i class="dopln">cesta</i><span class="tritecky"></span> <i class="dopln">globální parametry</i> <i class="dopln">testy-a-akce</i></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> find -H <i class="dopln">cesta</i><span class="tritecky"></span> <i class="dopln">globální parametry</i> <i class="dopln">testy-a-akce</i></div>
</div></div>
<p>
Chování k symbolickým odkazům: <b>-P</b>: nikdy nenásledovat (interpretovat každý odkaz jen jako adresářovou položku); <b>-L</b>: vždy následovat (chovat se, jako by na místě symbolického odkazu byl odkazovaný soubor, adresář apod.; vstupovat do takových adresářů); <b>-H</b>: následovat jen symbolické odkazy, které jsou přímo uvedeny jako „cesta“ na příkazové řádce.
</p>
<p class="ponadpisu">
Globální parametry:
</p>
<table class="parametryprikazu"><tbody><tr><td>☐ -xdev</td><td>Po každou „cestu“ na příkazové řádce omezí prohledávání jen na jeden souborový systém.</td></tr>

<tr><td>☐ -depth</td><td>Adresář zpracuje až „na odchodu“, tzn. teprve po zpracování veškerého jeho obsahu. Normálně se adresář zpracuje jako první a pak se teprve testuje jeho obsah.</td></tr>

<tr><td>☐ -maxdepth <i class="dopln">číslo</i></td><td>Sestoupí maximálně do uvedené hloubky. 0 znamená testovat jen cesty uvedené na příkazové řádce; 1 znamená testovat i položky v adresářích uvedených na příkazovém řádku; 2 znamená testovat i položky v podadresářích těchto adresářů atd.</td></tr>

<tr><td>☐ -mindepth <i class="dopln">číslo</i></td><td>Na položky v hloubce nižší než „číslo“ se nebudou aplikovat žádné testy ani akce a nebudou vypsány. Pozor, to znamená, že na ně nebude účinkovat akce -prune! Příkaz find se pokusí vstoupit do každého adresáře s hloubkou menší než „mindepth“.</td></tr>

</tbody></table>
<p class="ponadpisu">
Testy a akce jsou uvedeny jako zaklínadla v předchozí části kapitoly.
</p>

<h2><a href="#cast8" id="cast8"><span class="cislo">8.</span> Instalace na Ubuntu</a></h2>
<p class="ponadpisu">
Většina uvedených příkazů je základními součástmi Ubuntu. Pouze příkaz „symlinks“ musíte v případě potřeby doinstalovat:
</p>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">sudo apt-get install symlinks</div>
</div></div>

<h2><a href="#cast9" id="cast9"><span class="cislo">9.</span> Tipy a zkušenosti</a></h2>
<ul><li>Příkaz „find“ cesty na svém výstupu nijak neřadí.
</li><li>Příkaz „locate“ respektuje přístupová práva a najde pouze adresářové položky, ke kterým má uživatel v dané chvíli přístup.
</li></ul>
<h2><a href="#cast10" id="cast10"><span class="cislo">10.</span> Další zdroje informací</a></h2>
<figure><img src="obrazky/ve-vystavbe.png" alt="ve výstavbě"></figure><ul class="kompaktni"><li><a href="https://cs.wikipedia.org/wiki/Find">Wikipedie: find</a>
</li><li><a href="https://www.gnu.org/software/findutils/manual/html_node/find_html/">Oficiální dokumentace balíčku „findutils“</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=f3KwmOb42j4">YouTube: Linux Find Command Tutorial</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=O9lNYhz8amY">YouTube: Find Files in Linux (find, whereis)</a> (anglicky)
</li><li>man find (anglicky)
</li><li><a href="https://packages.ubuntu.com/bionic/findutils">Balíček findutils</a> (anglicky)
</li><li><a href="https://github.com/tldr-pages/tldr/blob/master/pages/common/find.md">TL;DR: find</a> (anglicky)
</li><li><a href="https://github.com/tldr-pages/tldr/blob/master/pages/linux/locate.md">TL;DR: locate</a> (anglicky)
</li><li><a href="https://github.com/tldr-pages/tldr/blob/master/pages/common/which.md">TL;DR: which</a> (anglicky)
</li></ul><div class="ppc"><div id="kaphledanisouboruppc1"><a href="#kaphledanisouboruppcr1" class="cislopozn">1</a>&nbsp;Dny zadejte ve formátu %F (YYYY-MM-DD).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc2"><a href="#kaphledanisouboruppcr2" class="cislopozn">2</a>&nbsp;Např. „ext4“, „tmpfs“, „ntfs“, „vfat“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc3"><a href="#kaphledanisouboruppcr3" class="cislopozn">3</a>&nbsp;Poznámka: Varianta „txt“ není bezpečná v případě, že cesta položky obsahuje znak konce řádku.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc4"><a href="#kaphledanisouboruppcr4" class="cislopozn">4</a>&nbsp;Akce uspěje, pokud se soubor či adresář podaří smazat.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc5"><a href="#kaphledanisouboruppcr5" class="cislopozn">5</a>&nbsp;Tato varianta je prakticky ekvivalentem volání příkazu xargs. Použije co největší dávky. Vždy uspěje.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc6"><a href="#kaphledanisouboruppcr6" class="cislopozn">6</a>&nbsp;Tato varianta vždy uspěje. Shromáždí položky z jednotlivého adresáře a po velkých dávkách (obvykle najednou) je předá ke zpracování uvedenému příkazu. Příkaz se spouští v adresáři, kde jsou vyhledané položky, a dostává pouze název souboru s cestou „./“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc7"><a href="#kaphledanisouboruppcr7" class="cislopozn">7</a>&nbsp;Každý výskyt řetězce „{}“ v parametrech příkazu bude při volání nahrazen: v případě první varianty cestou testované položky od výchozího bodu, v případě varianty bez cesty jen názvem souboru s cestou „./“ (příkaz bude spuštěn ve stejném adresáři, kde se položka nachází). Akce uspěje, pokud uspěje příkaz.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc8"><a href="#kaphledanisouboruppcr8" class="cislopozn">8</a>&nbsp;V obou případech se bohužel vypíše s desetinnou částí.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc9"><a href="#kaphledanisouboruppcr9" class="cislopozn">9</a>&nbsp;V obou případech se bohužel vypíše s desetinnou částí.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc10"><a href="#kaphledanisouboruppcr10" class="cislopozn">10</a>&nbsp;Pokud položka není symbolický odkaz, %l vypisuje prázdný řetězec.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc11"><a href="#kaphledanisouboruppcr11" class="cislopozn">11</a>&nbsp;Poznámka: tento příkaz (pochopitelně) ignoruje vestavěné příkazy bashe, aliasy, funkce apod. Řídí se pouze proměnnou prostředí PATH.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kaphledanisouboruppc12"><a href="#kaphledanisouboruppcr12" class="cislopozn">12</a>&nbsp;Pozor! Příkaz nemůže správně určit, zda je symbolický odkaz neplatný, pokud nemá přístupová práva k adresáři, na který symbolický odkaz odkazuje! Příkaz „symlinks“ v takovém případě hlásí odkaz jako neplatný, uvedená podoba příkazu „find“ vypíše chybové hlášení „Permission denied“, ale odkaz do seznamu neplatných nezahrne.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
</div>
<div class="odkazydole"><a href="sprava-procesu.htm"><img src="obrazky/ik/sprava-procesu.png" alt="" width="32" height="32">Správa procesů</a><a href="stahovani-videi.htm"><img src="obrazky/ik-vychozi.png" alt="" width="32" height="32">Stahování videí</a><a href="git.htm"><img src="obrazky/ik-vychozi.png" alt="" width="32" height="32">Git</a></div>

<nav class="spodni"><span class="prev">
<a href="git.htm" rel="prev" title="6. Git">Předchozí&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm">Přehled</a><span class="next"><!--
-->&nbsp;| <a href="make.htm" rel="next" title="8. GNU make">Následující&nbsp;kapitola</a>
</span>
<a href="#nahore" id="odkaznahoru" title="NAHORU − na začátek stránky">▴<!--⤒--></a>
<a href="#dole" id="odkazdolu" title="DOLŮ − na konec stránky">▾<!--⤓--></a>
</nav>


</article>
<footer id="dole">
<img src="obrazky/by-sa.png" width="88" height="31" alt="[BY-SA]">
<p>Veškerý obsah této stránky (text, obrázky, zdrojový kód) je možno upravovat a šířit pod podmínkami licence
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>.
Upozorňuji, že uvedená licence vyžaduje uvedení seznamu autorů, licence a zdroje a poskytnutí stejné
či kompatibilní licence k provedeným změnám, jsou-li nějaké. Příslušné údaje jsou dostupné
na stránce „<a href="x-autori.htm">Přehled autorů</a>“.
Šíření obsahu bez těchto údajů nebo šíření upravené verze bez poskytnutí adekvátní
licence k provedeným úpravám je pravděpodobně porušení licenčních podmínek a může být postihováno.
Poskytování zdrojového kódu při šíření není touto licencí vyžadováno.</p><p>Pro nové verze, další informace, aktuální zdrojový kód
a možnost se zapojit do projektu „Linux: Kniha kouzel“ navštivte jeho
<a href="https://github.com/singularis-mzf/linux-spellbook">repozitář na GitHubu</a>.
</footer>
</body>
</html>
