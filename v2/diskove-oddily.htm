<!doctype html>
<html lang="cs">
<head profile="http://www.w3.org/2005/10/profile">
<meta charset="UTF-8">

<title>Diskové oddíly − Linux: Kniha kouzel</title>

<link rel="stylesheet" type="text/css" href="lkk-20210226.css">
<link rel="alternate stylesheet" type="text/css" href="lkk-20210226-vk-svetly.css" title="Vysoký kontrast: světlá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20210226-vk-tmavy.css" title="Vysoký kontrast: tmavá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20210226-svetly.css" title="Světlý motiv">
<link rel="icon" type="image/png" href="obrazky/favicon.png">
</head>
<body>
<div id="nahore"><div id="okno">
<header>
<span class="vlevo"><a href="index.htm"><img src="obrazky/favicon.png" width="16" height="16" alt=""></a> Linux: Kniha kouzel, vanilková příchuť 2.5, M. M. (26. února 2021)</span>
<span class="vpravo"><span class="ico1"></span><span class="ico2"></span><span class="ico3"></span></span>
</header>
<nav class="menuokna">
<a href="#menuosnova" class="menu"><span class="prvnipismeno">O</span>snova</a>
<a href="#menukapitoly" class="menu"><span class="prvnipismeno">K</span>apitoly</a>
<a href="#menustitky" class="menu"><span class="prvnipismeno">Š</span>títky</a>
<a href="#menunapoveda" class="menu"><span class="prvnipismeno">N</span>ápověda</a>
<a href="zakladni-znalosti.htm" rel="prev" title="2. Základní znalosti" accesskey="p" class="predchozi">Předchozí&nbsp;kapitola</a>
<a href="index.htm" class="prehled"><span class="prvnipismeno">P</span>řehled kapitol</a>
<a href="diskove-oddily-btrfs.htm" rel="next" title="4. Diskové oddíly / Btrfs" accesskey="n" class="nasledujici">Následující&nbsp;kapitola</a>
</nav>

<div class="slogan-veskera-moc">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>

<!--
<nav class="horni">
<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>
<span class="prev">
<a href="zakladni-znalosti.htm" rel="prev" title="2. Základní znalosti" accesskey="p">Předchozí&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm" accesskey="i">Přehled</a><span class="next"><!- -
- ->&nbsp;| <a href="diskove-oddily-btrfs.htm" rel="next" title="4. Diskové oddíly / Btrfs" accesskey="n">Následující&nbsp;kapitola</a>
</span>
</nav>
-->


<article>

<h1 class="kapitola">3. <img src="obrazky/ik/diskove-oddily.png" alt="" width="64" height="64"> Diskové oddíly</h1>
<p>Podkapitoly: <a href="diskove-oddily-btrfs.htm">4 Btrfs</a>;
<a href="diskove-oddily-lvm.htm">5 LVM</a>;
<a href="diskove-oddily-softwarovy-raid.htm">6 Softwarový RAID</a>;
</p>
<!-- [ ] ... -->
<div class="stitky"><a href="x-stitky.htm#slvm">LVM</a>
<a href="x-stitky.htm#sodkladaciprostor">odkládací prostor</a>
<a href="x-stitky.htm#sramdisk">ramdisk</a>
<a href="x-stitky.htm#ssystem">systém</a>
<a href="x-stitky.htm#stematickyokruh">tematický okruh</a>
</div>
<h2 id="cast1"><a href="#cast1"><span class="cislo">1.</span> Úvod</a></h2>
<p class="ponadpisu">
Tato kapitola se zabývá dělením pevného disku na oddíly, jejich formátováním
(zejména souborové systémy ext4, btrfs, FAT32 a NTFS), údržbou a připojováním
(ručním i automatickým). Zabývá se také prací s ramdisky a odkládacím prostorem.
</p><p>
Tato verze kapitoly pokrývá jen částečně: dělení pevného disku na oddíly.
</p><p>
Tato verze kapitoly nepokrývá: připojovaní souborových systémů obyčejnými uživateli;
šifrování a nastavování kvót; další typy systému souborů (např. ZFS);
síťové souborové systémy; vypalování DVD; práci s ISO obrazy CD a DVD;
práci se systémem souborů SquashFS.
</p>

<h2 id="cast2"><a href="#cast2"><span class="cislo">2.</span> Definice</a></h2>

<h3 id="cast2x1"><span><a href="#cast2x1" title="kapitola 4 (Diskové oddíly), sekce 2 (Definice), podsekce 1 (Obecné definice)"><sup>2/</sup>1 Obecné definice</a></span></h3>
<ul><li><b>Virtuální souborový systém</b> (VFS) je způsob, jakým Linux nahlíží na strukturu adresářů. Při startu počítače obsahuje jen prázdný kořenový adresář „/“, na který jádro „připojí“ (viz níže) kořenový adresář kořenového systému souborů.
</li><li><b>Systém souborů</b> je vymezená část adresářové struktury zpřístupněná jednotným způsobem (např. na jednom oddílu pevného disku). Každý systém souborů má svůj <b>kořenový adresář</b>, který může být „připojen“ (viz níže) na některý z existujících adresářů VFS. Systémy souborů mohou být fyzické (uložené fyzicky na nějakém paměťovém médiu), virtuální (generované za běhu jádrem operačního systému), vzdálené (připojované přes síť) nebo vnořené (uložené v souboru – to bývá např. SquashFS). Konkrétní způsob fyzické organizace systému souborů na úložném médiu nazývá <b>typ systému souborů</b>, to je např. ext4 nebo NTFS.
</li><li><b>Připojení</b> systému souborů znamená, že jádro vezme existující adresář ve VFS a „překryje“ ho kořenovým adresářem připojovaného systému souborů (včetně jeho vlastnictví, příznaků a přístupových práv). Podstrom původního adresáře tímto z VFS odpadne a místo něj se stane součástí VFS celá adresářová struktura nově připojeného systému souborů. Opačným úkonem je <b>odpojení</b>, při němž z VFS odpadne adresářová struktura připojeného systému souborů a dojde k opětovnému zapojení podstromu původního adresáře do VFS. Zvláštním (ale komplikovaným a méně častým) případem je připojení jiného než kořenového adresáře systému souborů.
</li><li><b>Přípojný bod</b> (anglicky „mount point“) je adresář VFS, kam je připojený systém souborů.
</li><li><b>Odkládací oddíl</b> je úložný prostor sloužící k odkládání paměťových stránek, popř. k hibernaci. V linuxu se s ním zachází podobně jako se souborovým systémem, proto je předmětem této kapitoly.
</li></ul>
<h3 id="cast2x2"><span><a href="#cast2x2" title="kapitola 4 (Diskové oddíly), sekce 2 (Definice), podsekce 2 (Identifikátory souborových systémů)"><sup>2/</sup>2 Identifikátory souborových systémů</a></span></h3>
<p class="ponadpisu">
K identifikaci konkrétního systému souborů se používá několik druhů identifikátorů:
</p>
<ul><li><b>UUID</b> je identifikátor přidělovaný souborovému systému při formátování (tzn. dalším formátováním se změní, ale naopak překopírování po bajtech ho neohrozí); ne všechny souborové systémy mají nějakou formu UUID, ale ext4, btrfs, FAT32 a NTFS ano.
</li><li><b>PARTUUID</b> je identifikátor oddílu na disku, je-li dělen metodou GPT (na discích dělených starší metodou MBR se emuluje, u logických oddílů LVM není dostupný vůbec).
</li><li><b>Jmenovka</b> je textový identifikátor souborového systému přidělovaný uživatelem, zpravidla při formátování.
</li><li>Poslední možností je cesta k zařízení v /dev, např. „/dev/sda1“. Tato možnost je preferována u logických oddílů LVM; u oddílů na discích se nedoporučuje, protože cesta k zařízení se může snadno změnit.
</li></ul>
<h3 id="cast2x3"><span><a href="#cast2x3" title="kapitola 4 (Diskové oddíly), sekce 2 (Definice), podsekce 3 (Co a kam připojit)"><sup>2/</sup>3 Co a kam připojit</a></span></h3>
<p class="ponadpisu">
V následujících zaklínadlech platí:
</p><p>
<i class="dopln">co-připojit</i> může být:
</p>
<ul><li>UUID souborového systému ve tvaru „UUID=61bbd562-0694-4561-a8e2-4ccfd004a660“.
</li><li>PARTUUID ve tvaru „PARTUUID=0337a362-e7b3-4c50-a81d-9a5d45755e75“.
</li><li>Jmenovka ve tvaru LABEL=&quot;Jmenovka&quot;.
</li><li>Cesta diskového oddílu či zařízení (např. „/dev/sda1“).
</li><li>U některých typů souborových systémů je to jiný řetězec (např. „tmpfs“, „none“ apod.)
</li><li>Existuje ještě tvar pro síťový souborový systém, viz manuálovou stránku „man 5 fstab“.
</li></ul><p>
<i class="dopln">kam-připojit</i> je zpravidla cesta nastávajícího přípojného bodu (v /etc/fstab musí být absolutní, v příkazu „mount“ stačí i relativní), výjimka platí pro odkládací prostor, kde se uvádí „none“.
</p><p>
<i class="dopln">typ-soub-sys</i> je identifikátor typu souborového systému (např. ext4, btrfs, vfat, ntfs, tmpfs apod.) Lze použít i „auto“; systém se pak typ pokusí detekovat automaticky.
</p><p>
<i class="dopln">volby-připojení</i> je seznam čárkami oddělených voleb nebo klíčové slovo „defaults“, které má význam „rw,suid,dev,exec,auto,nouser,async“.
</p>

<h2 id="cast3" class="zaklinadla"><a href="#cast3"><span class="cislo">3.</span> Zaklínadla</a></h2>

<h3 id="cast3x1"><span><a href="#cast3x1" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 1 (Položky v /etc/fstab)"><sup>3/</sup>1 Položky v /etc/fstab</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1465493174"><span><a href="#z1465493174">↥</a></span></span>připojit <b>kořenový</b> systém souborů (obecně/příklad)<span class="cislo">#1 </span><sup><a href="#kapdiskoveoddilyppc1" id="kapdiskoveoddilyppcr1" title="Poznámka: Připojení kořenového systému souborů by mělo být v /etc/fstab první řádkou kromě komentářů a prázdných řádek.">(1)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">co-připojit</i> / <i class="dopln">typ-soub-sys</i> <i class="dopln">volby-připojení</i> 0 1</div>
<div class="radekzaklinadla">UUID=&quot;61bbd562-0694-4561-a8e2-4ccfd004a660&quot;<span class="tab" style="width:7ch">&#9;</span>/<span class="tab" style="width:7ch">&#9;</span>ext4<span class="tab" style="width:7ch">&#9;</span>errors=remount-ro,discard,nouser_xattr<span class="tab" style="width:3ch">&#9;</span>0<span class="tab" style="width:7ch">&#9;</span>1</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2097136607"><span><a href="#z2097136607">⊂</a></span></span><b>připojit</b> jiný než kořenový systém souborů (obecně/příklad)<span class="cislo">#2 </span><sup><a href="#kapdiskoveoddilyppc2" id="kapdiskoveoddilyppcr2" title="2 v posledním poli zapne automatickou kontrolu systému souborů při startu; tato volba je vhodná pro místní souborové systémy. 0 v posledním poli automatickou kontrolu vypne, ta je vhodná především pro výměnná média a síťové systémy souborů. Rovněž je vhodná pro místní systémy souborů připojované v režimu jen pro čtení (ro).">(2)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">co-připojit</i> <i class="dopln">kam-připojit</i> <i class="dopln">typ-soub-sys</i> <i class="dopln">volby-připojení</i> 0 <i class="dopln">2-nebo-0</i></div>
<div class="radekzaklinadla">/dev/skupina/muj-oddil ext4 defaults 0 2</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1679693027"><span><a href="#z1679693027">❘</a></span></span>připojit <b>ramdisk</b><span class="cislo">#3 </span><sup><a href="#kapdiskoveoddilyppc3" id="kapdiskoveoddilyppcr3" title="Velikost se udává nejčastěji v mebibajtech (s příponou M – např. „256M“) nebo gibibajtech (s příponou G – např. „10G“). Lze ji udat také v procentech dostupné paměti RAM (např. „150%“ pro 1,5-násobek velikosti RAM).">(3)</a></sup></div><div class="radky">
<div class="radekzaklinadla">tmpfs <i class="dopln">kam-připojit</i> tmpfs size=<i class="dopln">velikost</i><span class="volznak">[</span>,nosuid<span class="volznak">]</span><span class="volznak">[</span>,nodev<span class="volznak">]</span><span class="volznak">[</span>,noexec<span class="volznak">]</span><span class="volznak">[</span>,mode=<i class="dopln">práva-číselně</i><span class="volznak">]</span><span class="volznak">[</span>,uid=<i class="dopln">UID-vlastníka</i><span class="volznak">]</span><span class="volznak">[</span>,gid=<i class="dopln">GID-skupiny</i><span class="volznak">]</span><span class="volznak">[</span>,<i class="dopln">další,volby</i><span class="volznak">]</span> 0 0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1242293117"><span><a href="#z1242293117">╌</a></span></span>připojit <b>odkládací</b> oddíl/odkládací soubor<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">co-připojit</i> none swap sw 0 0</div>
<div class="radekzaklinadla"><i class="dopln">/cesta/k/souboru</i> none swap sw 0 0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2132362182"><span><a href="#z2132362182">◜</a></span></span>připojit <b>adresář</b> z již připojeného systému souborů na nové místo<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">/původní/adresář /nový/adresář none bind 0 0</div>
</div></div>

<h3 id="cast3x2"><span><a href="#cast3x2" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 2 (Připojení a odpojení systému souborů)"><sup>3/</sup>2 Připojení a odpojení systému souborů</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1903233041"><span><a href="#z1903233041">ⵞ</a></span></span><b>připojit</b> systém souborů uvedený v /etc/fstab (alternativy)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> mount <i class="dopln">kam-připojit</i></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> mount <i class="dopln">co-připojit</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1798735265"><span><a href="#z1798735265">⊛</a></span></span>připojit systém souborů libovolně (obecně/příklad)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo mount -t <i class="dopln">typ-soub-sys</i> -o <i class="dopln">volby,připojení</i> <i class="dopln">/co/připojit</i> <i class="dopln">/kam/připojit</i></div>
<div class="radekzaklinadla">sudo mount -t ext4 -o defaults,nosuid,nodev,lazytime,discard UUID=61bbd562-0694-4561-a8e2-4ccfd004a660 /mnt/abc</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z135782631"><span><a href="#z135782631">⣴</a></span></span>odpojit systém souborů a <b>vysunout</b> zařízení (alternativy)<span class="cislo">#3 </span><sup><a href="#kapdiskoveoddilyppc4" id="kapdiskoveoddilyppcr4" title="Příkaz „eject“ pro jistotu používejte se sudo, popř. vyzkoušejte, zda bez něj ve vašem konkrétním případě funguje. Často se mi stává, že i uživateli, který je ve skupinách „cdrom“ a „plugdev“ selže s chybou „Nemohu otevřít zařízení“ a zatím se mi nepodařilo zjistit, jaké tam platí pravidlo.">(4)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> eject <span class="volznak">[</span>-v<span class="volznak">]</span> <i class="dopln">/dev/oddíl</i></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> eject <span class="volznak">[</span>-v<span class="volznak">]</span> <i class="dopln">/dev/zařízení</i></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> eject <span class="volznak">[</span>-v<span class="volznak">]</span> <i class="dopln">/cesta/přípojného/bodu</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z275425907"><span><a href="#z275425907">↘</a></span></span><b>odpojit</b> systém souborů<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> umount <i class="dopln">kam-připojit</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1653971226"><span><a href="#z1653971226">⋾</a></span></span>přepnout již připojený systém souborů do režimu <b>jen pro čtení</b>/do režimu čtení i zápis<span class="cislo">#5 </span><sup><a href="#kapdiskoveoddilyppc5" id="kapdiskoveoddilyppcr5" title="Tato operace selže, pokud je některý soubor z daného systému souborů otevřený pro zápis. Otevření pro čtení nevadí.">(5)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo mount -o remount,ro<span class="volznak">[</span>,<i class="dopln">další-volba</i><span class="volznak">]</span><span class="tritecky"></span> <i class="dopln">/přípojný/bod/nebo/zařízení</i></div>
<div class="radekzaklinadla">sudo mount -o remount,rw<span class="volznak">[</span>,<i class="dopln">další-volba</i><span class="volznak">]</span><span class="tritecky"></span> <i class="dopln">/přípojný/bod/nebo/zařízení</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1876897175"><span><a href="#z1876897175">⬘</a></span></span>změnit volby připojení pro již připojený systém souborů<span class="cislo">#6 </span><sup><a href="#kapdiskoveoddilyppc6" id="kapdiskoveoddilyppcr6" title="Tento příkaz je výhodný především pro nastavování voleb připojení u souborových systémů na výměnných zařízeních, které si necháte připojit automaticky. Ne všechny volby takto jdou nastavit, proto doporučuji po změně ověřit příkazem „findmnt -nu -o OPTIONS /přípojný/bod“, zda byla úspěšná.">(6)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo mount -o remount,<i class="dopln">nové,volby</i><span class="tritecky"></span> <i class="dopln">/přípojný/bod/nebo/zařízení</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1738641934"><span><a href="#z1738641934">┠</a></span></span>připojit <b>adresář</b> z již připojeného systému souborů na nový přípojný bod<span class="cislo">#7 </span><sup><a href="#kapdiskoveoddilyppc7" id="kapdiskoveoddilyppcr7" title="Poznámka: Tímto příkazem se vytvoří nové, nezávislé připojení téhož systému souborů do nového přípojného bodu. Tento příkaz umožňuje připojit i jiný než kořenový adresář připojovaného systému souborů.">(7)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo mount --bind <i class="dopln">/cesta/k/adresáři</i> <i class="dopln">/nový/přípojný/bod</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z220739479"><span><a href="#z220739479">⁀</a></span></span><b>přesunout</b> systém souborů na jiný přípojný bod (alternativa 1)<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla">sudo mount --bind <i class="dopln">/původní/přípojný/bod</i> <i class="dopln">/nový/přípojný/bod</i></div>
<div class="radekzaklinadla">sudo umount <i class="dopln">/původní/přípojný/bod</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2003712383"><span><a href="#z2003712383">┡</a></span></span>přesunout systém souborů na jiný přípojný bod (alternativa 2)<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla">sudo mount --make-private <i class="dopln">/nadřazený/přípojný/bod</i> &amp;&amp;</div>
<div class="radekzaklinadla">sudo mount --move <i class="dopln">/původní/přípojný/bod</i> <i class="dopln">/nový/přípojný/bod</i></div>
</div></div>

<h3 id="cast3x3"><span><a href="#cast3x3" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 3 (Již připojené systémy souborů (vypsat/zjistit údaje))"><sup>3/</sup>3 Již připojené systémy souborů (vypsat/zjistit údaje)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z303772227"><span><a href="#z303772227">⎛</a></span></span><b>vypsat</b> (pro člověka/pro skript)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">findmnt -D -t nofuse.gvfsd-fuse,nodevtmpfs,nosquashfs</div>
<div class="radekzaklinadla">findmnt -nu -o SOURCE | egrep '^/' | LC_ALL=C sort -u</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z559338566"><span><a href="#z559338566">╩</a></span></span>vypsat seznam přípojných bodů<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">findmnt -ln -o TARGET</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1129970280"><span><a href="#z1129970280">⨚</a></span></span>velikost dostupného (<b>volného</b>) místa (pro člověka/pro skript)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">df -h <i class="dopln">/přípojný/bod</i></div>
<div class="radekzaklinadla">findmnt -bnu -o AVAIL <i class="dopln">/přípojný/bod</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z603566318"><span><a href="#z603566318">⣒</a></span></span>zjistit <b>volby připojení</b><span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">findmnt -nu -o OPTIONS <i class="dopln">/přípojný/bod</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z822269857"><span><a href="#z822269857">ຮ</a></span></span><b>typ</b> souborového systému<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">findmnt -nu -o FSTYPE <i class="dopln">/přípojný/bod</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z31270373"><span><a href="#z31270373">⢡</a></span></span><b>UUID</b>/<b>PARTUUID</b>/<b>jmenovka</b><span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">findmnt -nu -o UUID <i class="dopln">/přípojný/bod</i></div>
<div class="radekzaklinadla">findmnt -nu -o PARTUUID <i class="dopln">/přípojný/bod</i></div>
<div class="radekzaklinadla">findmnt -nu -o LABEL <i class="dopln">/přípojný/bod</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1461922741"><span><a href="#z1461922741">✲</a></span></span>je připojený jen pro čtení?<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">findmnt -nu -o OPTIONS <i class="dopln">/přípojný/bod</i> | tr ,\\n \\n, | fgrep -x ro</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1543042477"><span><a href="#z1543042477">≸</a></span></span>zjistit <b>kapacitu</b> systému souborů (pro člověka/pro skript)<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla">df -h <i class="dopln">/přípojný/bod</i></div>
<div class="radekzaklinadla">findmnt -bnu -o SIZE <i class="dopln">/přípojný/bod</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z254491126"><span><a href="#z254491126">䷇</a></span></span>zjistit <b>zdrojové</b> zařízení z přípojného bodu/naopak<span class="cislo">#9 </span><sup><a href="#kapdiskoveoddilyppc8" id="kapdiskoveoddilyppcr8" title="Jedno zdrojové zařízení může být připojeno na víc přípojných bodů (např. při použití příkazu „mount --bind“); v tom případě příkaz „findmnt“ vypíše každý přípojný bod na samostatný řádek!">(8)</a></sup></div><div class="radky">
<div class="radekzaklinadla">findmnt -nu -o SOURCE <i class="dopln">/přípojný/bod</i></div>
<div class="radekzaklinadla">findmnt -nu -o TARGET <i class="dopln">/dev/disknebooddíl</i> <span class="volznak">[</span> | head -n 1<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1599399905"><span><a href="#z1599399905">⇑</a></span></span>zjistit velikost použité části souborového systému (pro člověka/pro skript)<span class="cislo">#10 </span></div><div class="radky">
<div class="radekzaklinadla">df -h <i class="dopln">/přípojný/bod</i></div>
<div class="radekzaklinadla">findmnt -bnu -o USED <i class="dopln">/přípojný/bod</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z476013649"><span><a href="#z476013649">⣞</a></span></span>zjistit cestu připojeného adresáře uvnitř připojeného systému souborů<span class="cislo">#11 </span></div><div class="radky">
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>

<h3 id="cast3x4"><span><a href="#cast3x4" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 4 (Oddíly a zařízení (vypsat/zjistit údaje))"><sup>3/</sup>4 Oddíly a zařízení (vypsat/zjistit údaje)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z988852288"><span><a href="#z988852288">❱</a></span></span><b>UUID</b>/<b>PARTUUID</b>/<b>jmenovka</b> oddílu<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> lsblk -ln -o UUID <i class="dopln">/dev/oddíl</i></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> lsblk -ln -o PARTUUID <i class="dopln">/dev/oddíl</i></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> lsblk -ln -o LABEL <i class="dopln">/dev/oddíl</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1649312314"><span><a href="#z1649312314">↙</a></span></span>aktuální počet <b>přečtených</b> bajtů od připojení zařízení (pro člověka/pro skript)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">lkk diskstat <i class="dopln">/dev/zařízení-nebo-oddíl</i><span class="tritecky"></span> | cut -f 2 | LC_ALL=en_US.UTF-8 numfmt --to=iec --format=%.3f</div>
<div class="radekzaklinadla">lkk diskstat <i class="dopln">/dev/zařízení-nebo-oddíl</i><span class="tritecky"></span> | cut -f 2</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z107504482"><span><a href="#z107504482">ⵈ</a></span></span>aktuální počet <b>zapsaných</b> bajtů od připojení zařízení (pro člověka/pro skript)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">lkk diskstat <i class="dopln">/dev/zařízení-nebo-oddíl</i><span class="tritecky"></span> | cut -f 3 | LC_ALL=en_US.UTF-8 numfmt --to=iec --format=%.3f</div>
<div class="radekzaklinadla">lkk diskstat <i class="dopln">/dev/zařízení-nebo-oddíl</i><span class="tritecky"></span> | cut -f 3</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1227888109"><span><a href="#z1227888109">⪷</a></span></span>přehled přečtených a zapsaných bajtů pro člověka<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">lkk diskstat | LC_ALL=en_US.UTF-8 numfmt --to=iec --field=2,3 --format=%12.3f</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z822269857x"><span><a href="#z822269857x">ຮ</a></span></span><b>typ</b> souborového systému<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> lsblk -ln -o FSTYPE <i class="dopln">/dev/oddíl</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1770574508"><span><a href="#z1770574508">ᕹ</a></span></span>vypsat místní zařízení a oddíly (pro člověka/pro skript)<span class="cislo">#6 </span><sup><a href="#kapdiskoveoddilyppc9" id="kapdiskoveoddilyppcr9" title="Poznámka: vypsaný seznam může obsahovat i zařízení nedostupná či k ukládání dat nevhodná. Buďte při jejich zkoumání opatrný/á.">(9)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span><i>sudo</i><span class="volznak">]</span> lsblk <span class="volznak">[</span>--all<span class="volznak">]</span></div>
<div class="radekzaklinadla"><span class="volznak">[</span><i>sudo</i><span class="volznak">]</span> lsblk -ln -o NAME | sed -E 's!--!\x00!g;s!-!/!g;s!\x00!-!g;s!^!/dev/!' | LC_ALL=C sort</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1004382607"><span><a href="#z1004382607">╴</a></span></span>přesná <b>velikost</b> oddílu/disku v bajtech<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">sudo blockdev --getsize64 <i class="dopln">/dev/oddíl</i></div>
<div class="radekzaklinadla">sudo blockdev --getsize64 <i class="dopln">/dev/disk</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1200466299"><span><a href="#z1200466299">᚛</a></span></span>je oddíl či zařízení jen pro čtení?<span class="cislo">#8 </span><sup><a href="#kapdiskoveoddilyppc10" id="kapdiskoveoddilyppcr10" title="Odpověď 0 znamená, že zařízení je i pro zápis; odpověď 1 znamená, že je jen pro čtení.">(10)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo blockdev --getro <i class="dopln">/dev/oddíl-nebo-zařízení</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z913147416"><span><a href="#z913147416">△</a></span></span>zjistit velikost fyzického bloku/logického sektoru (v bajtech)<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla">sudo blockdev --getbsz <i class="dopln">/dev/zařízení</i></div>
<div class="radekzaklinadla">sudo blockdev --getss <i class="dopln">/dev/zařízení</i></div>
</div></div>

<h3 id="cast3x5"><span><a href="#cast3x5" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 5 (Formátování)"><sup>3/</sup>5 Formátování</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z878563309"><span><a href="#z878563309">⢧</a></span></span>formátovat na <b>ext4</b> (obecně/příklad)<span class="cislo">#1 </span><sup><a href="#kapdiskoveoddilyppc11" id="kapdiskoveoddilyppcr11" title="Maximální velikost jmenovky je 16 bajtů.">(11)</a>,&nbsp;<a href="#kapdiskoveoddilyppc12" id="kapdiskoveoddilyppcr12" title="Parametr -U přijímá také speciální hodnoty „random“ (vygenerovat náhodné UUID), „time“ (vygenerovat UUID závislé na čase), „clear“ (zrušit UUID).">(12)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo mke2fs -t ext4 <span class="volznak">[</span>-c<span class="volznak">[</span>c<span class="volznak">]</span><span class="volznak">]</span> -v <span class="volznak">[</span>-E root_owner=<i class="dopln">UID</i>:<i class="dopln">GID</i><span class="volznak">]</span> <span class="volznak">[</span>-L <i class="dopln">jmenovka</i><span class="volznak">]</span> <span class="volznak">[</span>-U <i class="dopln">UUID</i><span class="volznak">]</span> <span class="volznak">[</span>-d <i class="dopln">cesta</i><span class="volznak">]</span> <span class="volznak">[</span>-F<span class="volznak">]</span> <i class="dopln">/dev/zařízení-nebo-oddíl</i></div>
<div class="radekzaklinadla">sudo mke2fs -t ext4 -c -v -U 977bda6f-ce11-4549-9325-c48c360069ef /dev/sda3</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z541585828"><span><a href="#z541585828">䷒</a></span></span>formátovat samostatný oddíl na <b>btrfs</b> (obecně/příklad)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo mkfs.btrfs <span class="volznak">[</span>-f<span class="volznak">]</span> <span class="volznak">[</span>-L &quot;<i class="dopln">Jmenovka</i>&quot;<span class="volznak">]</span> <span class="volznak">[</span>-U <i class="dopln">UUID</i><span class="volznak">]</span> <i class="dopln">/dev/zařízení-nebo-oddíl</i></div>
<div class="radekzaklinadla">sudo mkfs.btrfs -f -L &quot;Můj nový oddíl&quot; /dev/sda3</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1857613688"><span><a href="#z1857613688">┮</a></span></span>formátovat zrcadlené oddíly na <b>btrfs</b> (obecně/příklad)<span class="cislo">#3 </span><sup><a href="#kapdiskoveoddilyppc13" id="kapdiskoveoddilyppcr13" title="Poznámka: zrcadlené oddíly jsem zatím nezkoušel/a.">(13)</a>,&nbsp;<a href="#kapdiskoveoddilyppc14" id="kapdiskoveoddilyppcr14" title="Zrcadlené oddíly by měly být stejně velké a nacházet se na dvou různých fyzických úložištích. Také se doporučuje, aby obě úložiště nabízela přibližně stejnou rychlost čtení i zápisu, jinak mohou nastat problémy s výkonem. Při připojování pak stačí připojit jen jeden z oddílů a systém automaticky najde a připojí i to druhé.">(14)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo mkfs.btrfs -d raid1 -m raid1 <span class="volznak">[</span>-f<span class="volznak">]</span> <span class="volznak">[</span>-L &quot;<i class="dopln">Jmenovka</i>&quot;<span class="volznak">]</span> <span class="volznak">[</span>-U <i class="dopln">UUID</i><span class="volznak">]</span> <i class="dopln">/dev/zařízení-nebo-oddíl-1</i> <i class="dopln">/dev/zařízení-nebo-oddíl-2</i></div>
<div class="radekzaklinadla">sudo mkfs.btrfs -d raid1 -m raid1 -f -L &quot;Zrcadlo&quot; /dev/sda3 /dev/sdb1</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z116551276"><span><a href="#z116551276">⨑</a></span></span>formátovat na <b>FAT32</b> (obecně/příklad)<span class="cislo">#4 </span><sup><a href="#kapdiskoveoddilyppc15" id="kapdiskoveoddilyppcr15" title="Poznámka: jmenovka systémů FAT může být maximálně 11 znaků dlouhá!">(15)</a>,&nbsp;<a href="#kapdiskoveoddilyppc16" id="kapdiskoveoddilyppcr16" title="Pro formátování na FAT16 či FAT12 nahraďte hodnotu 32 u parametru -F. Tyto staré souborové systémy se dnes už ale v praxi nepoužívají.">(16)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo mkfs.fat -F 32 <span class="volznak">[</span>-c<span class="volznak">]</span> <span class="volznak">[</span>-h <i class="dopln">počet-skrytých-sektorů</i><span class="volznak">]</span> <span class="volznak">[</span>-n &quot;<i class="dopln">JMENOVKA</i>&quot;<span class="volznak">]</span> <span class="volznak">[</span>-v<span class="volznak">]</span> <i class="dopln">/dev/oddíl</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1883378611"><span><a href="#z1883378611">☩</a></span></span>formátovat na <b>NTFS</b> (obecně/příklad)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">sudo mkntfs <span class="volznak">[</span>-f<span class="volznak">]</span> <span class="volznak">[</span>-v<span class="volznak">]</span> <span class="volznak">[</span>-L <i class="dopln">jmenovka</i><span class="volznak">]</span> <span class="volznak">[</span>-C<span class="volznak">]</span> <span class="volznak">[</span>-U<span class="volznak">]</span> <i class="dopln">/dev/zařízení-nebo-oddíl</i></div>
<div class="radekzaklinadla">sudo mkntfs -f -v -L MůjDisk /dev/sda3</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2141229451"><span><a href="#z2141229451">⊿</a></span></span>změnit velikost souborového systému typu ext4 (na udanou velikost/na celý oddíl)<span class="cislo">#6 </span><sup><a href="#kapdiskoveoddilyppc17" id="kapdiskoveoddilyppcr17" title="Velikost se zadává s příponou (např. „2048M“ nebo „4G“). Tip: velikost ext4 lze obvykle změnit i tehdy, když je souborový systém připojený.">(17)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo e2fsck -f <i class="dopln">/dev/oddíl</i> &amp;&amp; sudo resize2fs <i class="dopln">/dev/oddíl</i> <i class="dopln">velikost</i></div>
<div class="radekzaklinadla">sudo e2fsck -f <i class="dopln">/dev/oddíl</i> &amp;&amp; sudo resize2fs <i class="dopln">/dev/oddíl</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1658250522"><span><a href="#z1658250522">⋛</a></span></span>„odformátovat“ oddíl (přepsat: jen značky/celou hlavičku/celý oddíl)<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">sudo wipefs -a <span class="volznak">[</span>--backup<span class="volznak">]</span> <i class="dopln">/dev/oddíl</i></div>
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
<div class="radekzaklinadla">sudo dd iflag=fullblock if=/dev/zero of=<i class="dopln">/dev/oddíl</i> <span class="volznak">[</span>status=progress<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1150280061"><span><a href="#z1150280061">♮</a></span></span>změnit velikost souborového systému typu btrfs (na udanou velikost/na celý oddíl)<span class="cislo">#8 </span><sup><a href="#kapdiskoveoddilyppc18" id="kapdiskoveoddilyppcr18" title="Souborový systém musí být připojený, aby bylo možno změnit jeho velikost!">(18)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo btrfs filesystem resize <i class="dopln">cílová-velikost-P</i> <i class="dopln">/přípojný/bod</i></div>
<div class="radekzaklinadla">sudo btrfs filesystem resize max <i class="dopln">/přípojný/bod</i></div>
</div></div>

<h3 id="cast3x6"><span><a href="#cast3x6" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 6 (Odkládací oddíly a soubory)"><sup>3/</sup>6 Odkládací oddíly a soubory</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1025588810"><span><a href="#z1025588810">⇓</a></span></span><b>připojit</b> odkládací oddíl či soubor (obecně/příklady)<span class="cislo">#1 </span><sup><a href="#kapdiskoveoddilyppc19" id="kapdiskoveoddilyppcr19" title="Pro odkládací oddíl či soubor platí totéž, co pro běžné diskové oddíly — aby se připojil automaticky při startu systému, musí být odpovídající záznam zapsaný v /etc/fstab!">(19)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo swapon <i class="dopln">co-připojit</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">sudo swapon /mujswap</div>
<div class="radekzaklinadla">sudo swapon UUID=&quot;977bda6f-ce11-4549-9325-c48c360069ef&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1192105587"><span><a href="#z1192105587">⊇</a></span></span><b>odpojit</b> odkládací oddíl či soubor/všechny odkládací prostory<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo swapoff <i class="dopln">co-připojit</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">sudo swapoff -a<span class="volznak">[</span>v<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z148845296"><span><a href="#z148845296">‖</a></span></span><b>vypsat</b> aktivní odkládací oddíly a soubory<span class="cislo">#3 </span><sup><a href="#kapdiskoveoddilyppc20" id="kapdiskoveoddilyppcr20" title="Bez sudo vynechá jmenovky a UUID.">(20)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> swapon --show<span class="volznak">[</span>=NAME,USED,SIZE,PRIO,LABEL,UUID<span class="volznak">]</span> <span class="volznak">[</span>--noheadings<span class="volznak">]</span> <span class="volznak">[</span>--bytes<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1476940009"><span><a href="#z1476940009">䷳</a></span></span><b>vytvořit</b> odkládací soubor<span class="cislo">#4 </span><sup><a href="#kapdiskoveoddilyppc21" id="kapdiskoveoddilyppcr21" title="Velikost můžete zadat také v megabajtech (s příponou „M“) či gigabajtech (s příponou „G“). Poznámka: odkládací soubor by měl být na souborovém systému ext4 (popř. ext3 nebo ext2). Umístění na btrfs nedoporučuji, ale prý je možné při dodržení zvláštních podmínek.">(21)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> fallocate -l <i class="dopln">velikost-v-bajtech</i> <i class="dopln">název-souboru</i></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod 600 <i class="dopln">název-souboru</i></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> mkswap <i class="dopln">název-souboru</i></div>
<div class="radekzaklinadla">sudo chown root:root <i class="dopln">název-souboru</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1724912524"><span><a href="#z1724912524">⊓</a></span></span><b>smazat</b> odpojený odkládací soubor<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">sudo rm <i class="dopln">název-souboru</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z803239525"><span><a href="#z803239525">⋌</a></span></span><b>naformátovat</b> odkládací oddíl<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">sudo mkswap <span class="volznak">[</span>-L <i class="dopln">jmenovka</i><span class="volznak">]</span> <span class="volznak">[</span>-U <i class="dopln">požadované-UUID</i><span class="volznak">]</span> <i class="dopln">/dev/oddíl</i></div>
</div></div>

<h3 id="cast3x7"><span><a href="#cast3x7" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 7 (Dělení disku)"><sup>3/</sup>7 Dělení disku</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1333992918"><span><a href="#z1333992918">—</a></span></span>GUI (grafické uživatelské rozhraní)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">sudo gparted</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z1557705266"><span><a href="#z1557705266">⏜</a></span></span>TUI (textové uživatelské rozhraní)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo cfdisk <i class="dopln">/dev/zařízení</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1911108519"><span><a href="#z1911108519">䷧</a></span></span>CLI (ovládání z terminálu)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">sudo fdisk <i class="dopln">/dev/zařízení</i></div>
</div></div>

<h3 id="cast3x8"><span><a href="#cast3x8" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 8 (Jmenovka (nastavit))"><sup>3/</sup>8 Jmenovka (nastavit)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1864154398"><span><a href="#z1864154398">⊸</a></span></span>nastavit/smazat jmenovku <b>odkládacího</b> oddílu<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">sudo swaplabel -L &quot;<i class="dopln">novájmenovka</i>&quot; <i class="dopln">/dev/oddíl</i></div>
<div class="radekzaklinadla">sudo swaplabel -L &quot;&quot; <i class="dopln">/dev/oddíl</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1012785440"><span><a href="#z1012785440">❤</a></span></span>nastavit/smazat jmenovku <b>ext4</b><span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo e2label <i class="dopln">/dev/oddíl</i> &quot;<i class="dopln">novájmenovka</i>&quot;</div>
<div class="radekzaklinadla">sudo e2label <i class="dopln">/dev/oddíl</i> &quot;&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z949557704"><span><a href="#z949557704">ᔼ</a></span></span>nastavit/smazat jmenovku <b>btrfs</b><span class="cislo">#3 </span><sup><a href="#kapdiskoveoddilyppc22" id="kapdiskoveoddilyppcr22" title="„Specifikace oddílu“ je v případě nepřipojeného oddílu „/dev/oddíl“, v případě připojeného oddílu je nutno uvést jeho přípojný bod. Příkaz selže s chybou, pokud uvedete připojený oddíl označením ve tvaru /dev/oddíl! Jmenovka může mít pravděpodobně maximálně 256 bajtů a nesmí obsahovat znak konce řádku nebo nulový bajt.">(22)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo btrfs filesystem label <i class="dopln">specifikace/oddílu</i> &quot;<i class="dopln">Nová jmenovka</i>&quot;</div>
<div class="radekzaklinadla">sudo btrfs filesystem label <i class="dopln">specifikace/oddílu</i> &quot;&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1618557033"><span><a href="#z1618557033">✯</a></span></span>nastavit/smazat jmenovku <b>FAT32</b><span class="cislo">#4 </span><sup><a href="#kapdiskoveoddilyppc23" id="kapdiskoveoddilyppcr23" title="Jmenovka souborového systému FAT32 může mít nejvýše 11 znaků. Z důvodu kompatibility by měla být tvořena pouze velkými písmeny anglické abecedy, číslicemi, pomlčkami a podtržítky. Ostatní typy systému souborů mají omezení na jmenovku podstatně volnější. Souborový systém typu FAT32 by při nastavování jmenovky měl být odpojený.">(23)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo fatlabel <i class="dopln">/dev/oddíl</i> &quot;<i class="dopln">novájmenovka</i>&quot;</div>
<div class="radekzaklinadla">sudo fatlabel <i class="dopln">/dev/oddíl</i> &quot;&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1558536042"><span><a href="#z1558536042">⨎</a></span></span>nastavit/smazat jmenovku <b>NTFS</b><span class="cislo">#5 </span><sup><a href="#kapdiskoveoddilyppc24" id="kapdiskoveoddilyppcr24" title="Souborový systém typu NTFS by při nastavování jmenovky měl být odpojený.">(24)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo ntfslabel <span class="volznak">[</span>--new-serial<span class="volznak">]</span> <i class="dopln">/dev/oddíl</i> &quot;<i class="dopln">novájmenovka</i>&quot;</div>
<div class="radekzaklinadla">sudo ntfslabel <span class="volznak">[</span>--new-serial<span class="volznak">]</span> <i class="dopln">/dev/oddíl</i> &quot;&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1250352102"><span><a href="#z1250352102">┅</a></span></span>zjistit jmenovku jakéhokoliv oddílu<span class="cislo">#6 </span><sup><a href="#kapdiskoveoddilyppc25" id="kapdiskoveoddilyppcr25" title="Poznámka: pokud byla jmenovka od startu systému (resp. od připojení příslušného zařízení) změněna, tento příkaz může u některých souborových systémů ukazovat původní jmenovku (podle mých zkušeností to tak dělá obyčejným uživatelům u oddílů btrfs; superuživateli však ukáže již aktuální jmenovku).">(25)</a></sup></div><div class="radky">
<div class="radekzaklinadla">lsblk -ln -o LABEL <i class="dopln">/dev/oddíl</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z754367965"><span><a href="#z754367965">⣨</a></span></span>zjistit jmenovku oddílu btrfs (připojeného/nepřipojeného)<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">sudo btrfs filesystem label <i class="dopln">/přípojný/bod</i></div>
<div class="radekzaklinadla">sudo btrfs filesystem label <i class="dopln">/dev/oddíl</i></div>
</div></div>

<h3 id="cast3x9"><span><a href="#cast3x9" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 9 (Degrafmentace, kontrola, TRIM apod.)"><sup>3/</sup>9 Degrafmentace, kontrola, TRIM apod.</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1454212348"><span><a href="#z1454212348">⨀</a></span></span><b>zkontrolovat</b> a opravit souborový systém (kromě btrfs/btrfs)<span class="cislo">#1 </span><sup><a href="#kapdiskoveoddilyppc26" id="kapdiskoveoddilyppcr26" title="Příkaz „fsck“ pravděpodobně lze použít i se souborovým systémem v souboru, ale nezkoušel/a jsem to.">(26)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo fsck <span class="volznak">[</span>-V<span class="volznak">]</span> <i class="dopln">/dev/oddíl</i></div>
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1611667851"><span><a href="#z1611667851">▼</a></span></span>zkontrolovat souborový systém typu btrfs<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo btrfs check --readonly <span class="volznak">[</span>--progress<span class="volznak">]</span> <i class="dopln">/dev/oddíl</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1565553102"><span><a href="#z1565553102">↬</a></span></span>vynulovat volné bloky (ext4/btrfs/FAT32/NTFS)<span class="cislo">#3 </span><sup><a href="#kapdiskoveoddilyppc27" id="kapdiskoveoddilyppcr27" title="Příkaz „zerofree“ lze použít jen s odpojeným souborovým systémem!">(27)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo zerofree <span class="volznak">[</span>-v<span class="volznak">]</span> <i class="dopln">/dev/oddíl</i></div>
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1479816234"><span><a href="#z1479816234">➶</a></span></span>najít chybné bloky (obecně/příklad)<span class="cislo">#4 </span><sup><a href="#kapdiskoveoddilyppc28" id="kapdiskoveoddilyppcr28" title="Poznámka: Tento příkaz chybné bloky najde, ale neudělá nic proto, aby se je systém souborů nesnažil používat.">(28)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo badblocks <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span> <span class="volznak">[</span>-w<span class="volznak">]</span> <i class="dopln">/dev/zařízení-nebo-oddíl</i></div>
<div class="radekzaklinadla">sudo badblocks -vv /dev/sda1</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z974279839"><span><a href="#z974279839">⢡</a></span></span>oznámit zařízení nevyužité bloky souborového systému (operace TRIM)(konkrétní soub.systém/všechny dostupné)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">sudo fstrim <span class="volznak">[</span>-v<span class="volznak">]</span> <i class="dopln">/přípojný/bod</i></div>
<div class="radekzaklinadla">sudo fstrim -a <span class="volznak">[</span>-v<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1707564970"><span><a href="#z1707564970">⢱</a></span></span>defragmentovat oddíl typu btrfs (pozor!)<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2051448597"><span><a href="#z2051448597">╥</a></span></span>zkontrolovat <b>fragmentaci</b> oddílu typu ext4<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">sudo e4defrag -c <i class="dopln">/dev/oddíl</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z112863918"><span><a href="#z112863918">∼</a></span></span>defragmentovat oddíl typu ext4 (pozor!)<span class="cislo">#8 </span><sup><a href="#kapdiskoveoddilyppc29" id="kapdiskoveoddilyppcr29" title="Pokud jste začátečník, nedefragmentujte oddíly typu ext4! Obvykle to není potřeba.">(29)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo e4defrag <i class="dopln">/dev/oddíl</i></div>
</div></div>

<h3 id="cast3x10"><span><a href="#cast3x10" title="kapitola 4 (Diskové oddíly), sekce 3 (Zaklínadla), podsekce 10 (Ostatní)"><sup>3/</sup>10 Ostatní</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z445772701"><span><a href="#z445772701">⠒</a></span></span>je adresář <b>přípojným bodem</b>?<span class="cislo">#1 </span><sup><a href="#kapdiskoveoddilyppc30" id="kapdiskoveoddilyppcr30" title="Tento příkaz následuje symbolické odkazy. To, že adresář reprezentuje pododdíl btrfs, ho pro účely tohoto příkazu přípojným bodem nečiní.">(30)</a></sup></div><div class="radky">
<div class="radekzaklinadla">mountpoint <span class="volznak">[</span>-q<span class="volznak">]</span> <i class="dopln">cesta</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1061808262"><span><a href="#z1061808262">⣴</a></span></span><b>zálohovat</b> diskový oddíl do souboru (přímo/komprimovaný)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo dd if=<i class="dopln">/dev/oddíl</i> of=<i class="dopln">cesta</i> <span class="volznak">[</span>status=progress<span class="volznak">]</span></div>
<div class="radekzaklinadla">sudo dd if=<i class="dopln">/dev/oddíl</i> <span class="volznak">[</span>status=progress<span class="volznak">]</span> | gzip -n<span class="volznak">[</span>9<span class="volznak">]</span> &gt;<i class="dopln">cesta.gz</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z172336570"><span><a href="#z172336570">①</a></span></span><b>obnovit</b> diskový oddíl (přímo/komprimovaný)<span class="cislo">#3 </span><sup><a href="#kapdiskoveoddilyppc31" id="kapdiskoveoddilyppcr31" title="Pozor! Tato operace je nebezpečná! Pokud zadáte chybný cílový oddíl, daný oddíl se nevratně přepíše daty určenými pro ten správný. Pokud velikost zálohy neodpovídá přesně velikosti cílového oddílu, nemusí být oddíl po obnově dobře použitelný. Tento příkaz používejte s velkou opatrností!">(31)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo dd if=<i class="dopln">cesta</i> of=/dev/<i class="dopln">oddíl</i> <span class="volznak">[</span>status=progress<span class="volznak">]</span></div>
<div class="radekzaklinadla">zcat <i class="dopln">cesta.gz</i> | sudo dd of=<i class="dopln">/dev/oddíl</i> <span class="volznak">[</span>status=progress<span class="volznak">]</span></div>
</div></div>

<h2 id="cast4"><a href="#cast4"><span class="cislo">4.</span> Nejdůležitější volby připojení</a></h2>

<h3 id="cast4x1"><span><a href="#cast4x1" title="kapitola 4 (Diskové oddíly), sekce 4 (Nejdůležitější volby připojení), podsekce 1 (Pro všechny typy systému souborů)"><sup>4/</sup>1 Pro všechny typy systému souborů</a></span></h3>
<table class="parametryprikazu"><tbody><tr><td>◉ rw ○ ro</td><td>Připojit pro čtení i zápis/jen pro čtení.</td></tr>

<tr><td>◉ dev ○ nodev</td><td>Povolit/zakázat speciální zařízení na připojeném systému souborů. (Doporučuji vždy „nodev“.)</td></tr>

<tr><td>◉ exec ○ noexec</td><td>Povolit/zakázat spouštění souborů z připojeného systému souborů.</td></tr>

<tr><td>◉ suid ○ nosuid</td><td>Povolit/zakázat respektování příznaků „u+s“ a „g+s“. V případě „nosuid“ tyto příznaky půjde měnit a číst, ale nebudou mít žádný vliv.</td></tr>

<tr><td>☐ sync</td><td>Zakáže používání systémové mezipaměti. Všechny operace budou prováděny přímo se zařízením.</td></tr>

<tr><td>○ lazytime ◉ nolazytime</td><td>lazytime: Časové známky u souborů se nebudou zapisovat na disk, dokud to nebude nutné; budou se aktualizovat pouze v paměti, což umožní výrazně snížit počet zápisů na disk. Příkaz „sync“ a některé další situace způsobí zapsání všech provedených změn časových známek na disk.</td></tr>

<tr><td>◉ relatime ○ strictatime ○ noatime</td><td>Časovou známku přístupu při čtení (access time) aktualizovat: jen pokud soubor či adresář od poslední změny nebyl čten/pokaždé/nikdy.</td></tr>

<tr><td>☐ nodiratime</td><td>U adresářů časovou známku přístupu pro čtení (access time) neaktualizovat nikdy.</td></tr>

<tr><td>☐ nofail</td><td>Jen se pokusit o připojení; případné selhání tiše ignorovat.</td></tr>

<tr><td>☐ noauto</td><td>Nepřipojovat automaticky při startu systému (resp. příkazem „mount -a“).</td></tr>

<tr><td>☐ X-mount.mkdir</td><td>Pokud přípojný bod neexistuje, vytvoří ho s přístupovými právy „u=rwx,go=rx“. (Poznámka: připojený adresář tato práva zpravidla přepíše.) Podle manuálové stránky je tato volba dovolena pouze superuživateli.</td></tr>

</tbody></table>

<h3 id="cast4x2"><span><a href="#cast4x2" title="kapitola 4 (Diskové oddíly), sekce 4 (Nejdůležitější volby připojení), podsekce 2 (Zobrazení ve správcích souborů (pro všechny typy))"><sup>4/</sup>2 Zobrazení ve správcích souborů (pro všechny typy)</a></span></h3>
<p class="ponadpisu">
Poznámka: funkčnost těchto voleb ve správcích souborů může být různá; mám vyzkoušeno, že Thunar je respektuje; v ostatních správcích raději nejprve vyzkoušejte, zda tam budou fungovat, než se na ně spolehnete.
</p>
<table class="parametryprikazu"><tbody><tr><td>○ x-gvfs-show ○ x-gvfs-hide</td><td>Systém souborů se má/nemá zobrazovat ve správcích souborů jako jednotka. Pozor: volby „nofail“ a „noauto“ uvedené před touto volbou nemusejí správně fungovat, proto je uvádějte až za ní.</td></tr>

<tr><td>☐ x-gvfs-name=<i class="dopln">zakódované%20jméno</i></td><td>Nastaví název, pod kterým se bude zobrazovat ve správcích souborů. Může obsahovat i ne-ASCII znaky; naopak ASCII znaky kromě obyčejných písmen a číslic musejí být zakódovany do hexadecimální formy sestávající z procenta a dvou hexadecimálních číslic; nejužitečnější jsou „%20“ (mezera) a „%2C“ (čárka).</td></tr>

<tr><td>☐ x-gvfs-icon=<i class="dopln">id-ikony</i></td><td>Nastaví ikonu, s jakou se bude zobrazovat ve správcích souborů; zkuste např. „folder-download“.</td></tr>

</tbody></table>

<h3 id="cast4x3"><span><a href="#cast4x3" title="kapitola 4 (Diskové oddíly), sekce 4 (Nejdůležitější volby připojení), podsekce 3 (Pro ext4, ext3 a ext2)"><sup>4/</sup>3 Pro ext4, ext3 a ext2</a></span></h3>
<table class="parametryprikazu"><tbody><tr><td>○ errors=remount-ro ○ errors=panic ○ errors=continue</td><td>V případě kritické chyby: připojí systém jen pro čtení/zhroutí se/pokračuje. (Nezkoušel/a jsem.)</td></tr>

<tr><td>◉ user_xattr ○ nouser_xattr</td><td>Povolí/zakáže uživatelské rozšířené atributy. (ext3/ext4) V případě nouser_xattr budou uživatelské rozšířené atributy stávajících souborů a adresářů zachovány, ale nepůjdou číst ani zapisovat.</td></tr>

<tr><td>◉ acl ○ noacl</td><td>Povolí/zakáže rozšířená přístupová práva. (Zatím jsem nezkoušel/a.)</td></tr>

<tr><td>○ discard ○ nodiscard</td><td>Zapne/vypne automatické označování prázdného prostoru na SSD discích (operace TRIM).</td></tr>

</tbody></table>

<h3 id="cast4x4"><span><a href="#cast4x4" title="kapitola 4 (Diskové oddíly), sekce 4 (Nejdůležitější volby připojení), podsekce 4 (Pro „vfat“ (FAT32, FAT16, FAT12))"><sup>4/</sup>4 Pro „vfat“ (FAT32, FAT16, FAT12)</a></span></h3>
<table class="parametryprikazu"><tbody><tr><td>☐ uid=<i class="dopln">UID</i></td><td>Nastaví vlastníka všech položek.</td></tr>

<tr><td>☐ gid=<i class="dopln">GID</i></td><td>Nastaví skupinu všech položek.</td></tr>

<tr><td>○ umask=<i class="dopln">mód</i> ○ dmask=<i class="dopln">mód</i>,fmask=<i class="dopln">mód</i></td><td>Nastaví přístupová práva všech adresářových položek/všech adresářů a souborů.</td></tr>

<tr><td>☐ quiet</td><td>Pokusy o změnu vlastníka, skupiny či přístupových práv nevyvolají chybu.</td></tr>

<tr><td>○ fat=12 ○ fat=16 ○ fat=32</td><td>Vynutí konkrétní verzi FAT (obvykle není potřeba, autodetekce pozná typ správně).</td></tr>

</tbody></table>

<h3 id="cast4x5"><span><a href="#cast4x5" title="kapitola 4 (Diskové oddíly), sekce 4 (Nejdůležitější volby připojení), podsekce 5 (Pro „ntfs“ (NTFS))"><sup>4/</sup>5 Pro „ntfs“ (NTFS)</a></span></h3>
<table class="parametryprikazu"><tbody><tr><td>☐ uid=<i class="dopln">UID</i></td><td>Nastaví vlastníka všech položek.</td></tr>

<tr><td>☐ gid=<i class="dopln">GID</i></td><td>Nastaví skupinu všech položek.</td></tr>

<tr><td>○ umask=<i class="dopln">mód</i></td><td>Nastaví přístupová práva všech adresářových položek.</td></tr>

</tbody></table>

<h3 id="cast4x6"><span><a href="#cast4x6" title="kapitola 4 (Diskové oddíly), sekce 4 (Nejdůležitější volby připojení), podsekce 6 (Pro „tmpfs“ (ramdisk))"><sup>4/</sup>6 Pro „tmpfs“ (ramdisk)</a></span></h3>
<table class="parametryprikazu"><tbody><tr><td>☐ size=<i class="dopln">velikost</i></td><td>Nastaví kapacitu „ramdisku“; typicky se používá s příponami „M“ pro mebibajty a „G“ pro gibibajty (např. „size=4G“).</td></tr>

<tr><td>☐ uid=<i class="dopln">UID</i></td><td>Nastaví počátečního vlastníka kořenového adresáře.</td></tr>

<tr><td>☐ gid=<i class="dopln">GID</i></td><td>Nastaví počáteční skupinu kořenového adresáře.</td></tr>

<tr><td>○ umask=<i class="dopln">mód</i></td><td>Nastaví počítační přístupová práva a příznaky kořenového adresáře.</td></tr>

</tbody></table>

<h2 id="cast5"><a href="#cast5"><span class="cislo">5.</span> Instalace na Ubuntu</a></h2>
<p class="ponadpisu">
Všechny použité nástroje jsou základními součástmi Ubuntu, kromě příkazu zerofree a nástroje GParted,
které v případě potřeby musíte doinstalovat:
</p>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">sudo apt-get install gparted zerofree</div>
</div></div>

<h2 id="cast6"><a href="#cast6"><span class="cislo">6.</span> Tipy a zkušenosti</a></h2>
<ul><li>Pomocí příkazu „mount --bind“ můžete jeden ramdisk připojit na několik různých míst VFS!
</li><li>Zadáte-li výměnnou jednotku (např. USB flash disk) v /etc/fstab a tato jednotka nebude dostupná při startu systému, zavádění selže a nabídne vám přechod do záchranného režimu. Proti tomu pomohou volby „nofail“ (v případě jakékoliv chyby se připojení systému souborů tiše přeskočí) a „noauto“ (systém se vůbec nepokusí o připojení, ale oddíl či jednotku půjde připojit zkrácenou syntaxí příkazu „mount“).
</li><li>Určitý konkrétní adresář může být použit jako přípojný bod vícenásobně, ale nedoporučuji to (nedává to příliš smysl). Také je možné připojením jiného souborového systému na adresář nadřazený přípojnému bodu překrýt přípojný bod i s jeho obsahem, ale rovněž to nedoporučuji.
</li></ul>
<h2 id="cast7"><a href="#cast7"><span class="cislo">7.</span> Další zdroje informací</a></h2>
<p class="ponadpisu">
Pokud hledáte nástroj pro dělení disku ze skriptu, zkuste <a href="http://manpages.ubuntu.com/manpages/focal/en/man8/sfdisk.8.html">sfdisk</a> (anglicky).
</p>
<ul class="kompaktni"><li><a href="https://en.wikipedia.org/wiki/Mount_(computing)">Wikipedie: Mount (computing)</a> (anglicky)
</li></ul>
<h2 id="cast8"><a href="#cast8"><span class="cislo">8.</span> Pomocné funkce a skripty</a></h2>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z254684806"><span><a href="#z254684806">ⴾ</a></span></span>lkk diskstat – vypíše počty čtených a zapsaných bajtů<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">#!/bin/sh</div>
<div class="radekzaklinadla">exec perl -CSDAL -Mv5.26.0 -Mstrict -Mutf8 -MEnglish -e '</div>
<div class="radekzaklinadla">my %data; my %rps; my $počet_chyb = 0;</div>
<div class="radekzaklinadla">sub array {return @ARG}</div>
<div class="radekzaklinadla">$OFS = &quot;\t&quot;; $ORS = &quot;\n&quot;;</div>
<div class="radekzaklinadla">{ open(my $f, &quot;&lt;:utf8&quot;, &quot;/proc/diskstats&quot;) or die(&quot;Nemohu otevřít /proc/diskstats&quot;);</div>
<div class="radekzaklinadla" style="padding-left:2ch;">my $l;</div>
<div class="radekzaklinadla" style="padding-left:2ch;">while (defined($l = scalar(readline($f)))) {</div>
<div class="radekzaklinadla" style="padding-left:4ch;">my @f = split(/\s+/, $l =~ s/\A\s+//r);</div>
<div class="radekzaklinadla" style="padding-left:4ch;">$data{$f[2]} = [512 * $f[5], 512 * $f[9], $f[2]]; # čtení, zápis, označení</div>
<div class="radekzaklinadla">}}</div>
<div class="radekzaklinadla">if (scalar(@ARGV) == 0) {</div>
<div class="radekzaklinadla" style="padding-left:2ch;">foreach my $x (do { no locale; array(sort {fc($a) cmp fc($b)} keys(%data)); }) {</div>
<div class="radekzaklinadla" style="padding-left:4ch;">my @x = @{$data{$x}};</div>
<div class="radekzaklinadla" style="padding-left:4ch;">print(&quot;/dev/&quot; . $x[2], @x[0, 1]) if ($x[0] + $x[1] &gt; 0);</div>
<div class="radekzaklinadla">}} else {</div>
<div class="radekzaklinadla" style="padding-left:2ch;">foreach my $x (@ARGV) {</div>
<div class="radekzaklinadla" style="padding-left:4ch;">my $z = $rps{$x} // do {</div>
<div class="radekzaklinadla" style="padding-left:6ch;">my $s = ($x =~ s/\x{27}/$&amp;\x{5c}$&amp;$&amp;/rg);</div>
<div class="radekzaklinadla" style="padding-left:6ch;">use open(&quot;IN&quot;, &quot;:utf8&quot;); local $RS = undef;</div>
<div class="radekzaklinadla" style="padding-left:6ch;">$rps{$x} = (scalar(readpipe(&quot;realpath -- \x{27}${s}\x{27}&quot;)) =~ s/\n\z//r);</div>
<div class="radekzaklinadla" style="padding-left:4ch;">};</div>
<div class="radekzaklinadla" style="padding-left:4ch;">if (defined($z) &amp;&amp; $z =~ /\A\/dev\// &amp;&amp; defined($data{$z = substr($z, 5)})) {</div>
<div class="radekzaklinadla" style="padding-left:6ch;">$z = $data{$z};</div>
<div class="radekzaklinadla" style="padding-left:6ch;">print($x, $z-&gt;[0], $z-&gt;[1]);</div>
<div class="radekzaklinadla" style="padding-left:4ch;">} else {++$počet_chyb}}</div>
<div class="radekzaklinadla" style="padding-left:2ch;">exit($počet_chyb &lt; 254 ? $počet_chyb : 254);</div>
<div class="radekzaklinadla">}' -- &quot;$@&quot;</div>
</div></div>
<div class="ppc"><div id="kapdiskoveoddilyppc1"><a href="#kapdiskoveoddilyppcr1" class="cislopozn">1</a>&nbsp;Poznámka: Připojení kořenového systému souborů by mělo být v /etc/fstab první řádkou kromě komentářů a prázdných řádek.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc2"><a href="#kapdiskoveoddilyppcr2" class="cislopozn">2</a>&nbsp;2 v posledním poli zapne automatickou kontrolu systému souborů při startu; tato volba je vhodná pro místní souborové systémy. 0 v posledním poli automatickou kontrolu vypne, ta je vhodná především pro výměnná média a síťové systémy souborů. Rovněž je vhodná pro místní systémy souborů připojované v režimu jen pro čtení (ro).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc3"><a href="#kapdiskoveoddilyppcr3" class="cislopozn">3</a>&nbsp;Velikost se udává nejčastěji v mebibajtech (s příponou M – např. „256M“) nebo gibibajtech (s příponou G – např. „10G“). Lze ji udat také v procentech dostupné paměti RAM (např. „150%“ pro 1,5-násobek velikosti RAM).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc4"><a href="#kapdiskoveoddilyppcr4" class="cislopozn">4</a>&nbsp;Příkaz „eject“ pro jistotu používejte se sudo, popř. vyzkoušejte, zda bez něj ve vašem konkrétním případě funguje. Často se mi stává, že i uživateli, který je ve skupinách „cdrom“ a „plugdev“ selže s chybou „Nemohu otevřít zařízení“ a zatím se mi nepodařilo zjistit, jaké tam platí pravidlo.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc5"><a href="#kapdiskoveoddilyppcr5" class="cislopozn">5</a>&nbsp;Tato operace selže, pokud je některý soubor z daného systému souborů otevřený pro zápis. Otevření pro čtení nevadí.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc6"><a href="#kapdiskoveoddilyppcr6" class="cislopozn">6</a>&nbsp;Tento příkaz je výhodný především pro nastavování voleb připojení u souborových systémů na výměnných zařízeních, které si necháte připojit automaticky. Ne všechny volby takto jdou nastavit, proto doporučuji po změně ověřit příkazem „findmnt -nu -o OPTIONS /přípojný/bod“, zda byla úspěšná.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc7"><a href="#kapdiskoveoddilyppcr7" class="cislopozn">7</a>&nbsp;Poznámka: Tímto příkazem se vytvoří nové, nezávislé připojení téhož systému souborů do nového přípojného bodu. Tento příkaz umožňuje připojit i jiný než kořenový adresář připojovaného systému souborů.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc8"><a href="#kapdiskoveoddilyppcr8" class="cislopozn">8</a>&nbsp;Jedno zdrojové zařízení může být připojeno na víc přípojných bodů (např. při použití příkazu „mount --bind“); v tom případě příkaz „findmnt“ vypíše každý přípojný bod na samostatný řádek!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc9"><a href="#kapdiskoveoddilyppcr9" class="cislopozn">9</a>&nbsp;Poznámka: vypsaný seznam může obsahovat i zařízení nedostupná či k ukládání dat nevhodná. Buďte při jejich zkoumání opatrný/á.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc10"><a href="#kapdiskoveoddilyppcr10" class="cislopozn">10</a>&nbsp;Odpověď 0 znamená, že zařízení je i pro zápis; odpověď 1 znamená, že je jen pro čtení.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc11"><a href="#kapdiskoveoddilyppcr11" class="cislopozn">11</a>&nbsp;Maximální velikost jmenovky je 16 bajtů.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc12"><a href="#kapdiskoveoddilyppcr12" class="cislopozn">12</a>&nbsp;Parametr -U přijímá také speciální hodnoty „random“ (vygenerovat náhodné UUID), „time“ (vygenerovat UUID závislé na čase), „clear“ (zrušit UUID).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc13"><a href="#kapdiskoveoddilyppcr13" class="cislopozn">13</a>&nbsp;Poznámka: zrcadlené oddíly jsem zatím nezkoušel/a.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc14"><a href="#kapdiskoveoddilyppcr14" class="cislopozn">14</a>&nbsp;Zrcadlené oddíly by měly být stejně velké a nacházet se na dvou různých fyzických úložištích. Také se doporučuje, aby obě úložiště nabízela přibližně stejnou rychlost čtení i zápisu, jinak mohou nastat problémy s výkonem. Při připojování pak stačí připojit jen jeden z oddílů a systém automaticky najde a připojí i to druhé.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc15"><a href="#kapdiskoveoddilyppcr15" class="cislopozn">15</a>&nbsp;Poznámka: jmenovka systémů FAT může být maximálně 11 znaků dlouhá!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc16"><a href="#kapdiskoveoddilyppcr16" class="cislopozn">16</a>&nbsp;Pro formátování na FAT16 či FAT12 nahraďte hodnotu 32 u parametru -F. Tyto staré souborové systémy se dnes už ale v praxi nepoužívají.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc17"><a href="#kapdiskoveoddilyppcr17" class="cislopozn">17</a>&nbsp;Velikost se zadává s příponou (např. „2048M“ nebo „4G“). Tip: velikost ext4 lze obvykle změnit i tehdy, když je souborový systém připojený.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc18"><a href="#kapdiskoveoddilyppcr18" class="cislopozn">18</a>&nbsp;Souborový systém musí být připojený, aby bylo možno změnit jeho velikost!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc19"><a href="#kapdiskoveoddilyppcr19" class="cislopozn">19</a>&nbsp;Pro odkládací oddíl či soubor platí totéž, co pro běžné diskové oddíly — aby se připojil automaticky při startu systému, musí být odpovídající záznam zapsaný v /etc/fstab!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc20"><a href="#kapdiskoveoddilyppcr20" class="cislopozn">20</a>&nbsp;Bez sudo vynechá jmenovky a UUID.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc21"><a href="#kapdiskoveoddilyppcr21" class="cislopozn">21</a>&nbsp;Velikost můžete zadat také v megabajtech (s příponou „M“) či gigabajtech (s příponou „G“). Poznámka: odkládací soubor by měl být na souborovém systému ext4 (popř. ext3 nebo ext2). Umístění na btrfs nedoporučuji, ale prý je možné při dodržení zvláštních podmínek.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc22"><a href="#kapdiskoveoddilyppcr22" class="cislopozn">22</a>&nbsp;„Specifikace oddílu“ je v případě nepřipojeného oddílu „/dev/oddíl“, v případě připojeného oddílu je nutno uvést jeho přípojný bod. Příkaz selže s chybou, pokud uvedete připojený oddíl označením ve tvaru /dev/oddíl! Jmenovka může mít pravděpodobně maximálně 256 bajtů a nesmí obsahovat znak konce řádku nebo nulový bajt.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc23"><a href="#kapdiskoveoddilyppcr23" class="cislopozn">23</a>&nbsp;Jmenovka souborového systému FAT32 může mít nejvýše 11 znaků. Z důvodu kompatibility by měla být tvořena pouze velkými písmeny anglické abecedy, číslicemi, pomlčkami a podtržítky. Ostatní typy systému souborů mají omezení na jmenovku podstatně volnější. Souborový systém typu FAT32 by při nastavování jmenovky měl být odpojený.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc24"><a href="#kapdiskoveoddilyppcr24" class="cislopozn">24</a>&nbsp;Souborový systém typu NTFS by při nastavování jmenovky měl být odpojený.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc25"><a href="#kapdiskoveoddilyppcr25" class="cislopozn">25</a>&nbsp;Poznámka: pokud byla jmenovka od startu systému (resp. od připojení příslušného zařízení) změněna, tento příkaz může u některých souborových systémů ukazovat původní jmenovku (podle mých zkušeností to tak dělá obyčejným uživatelům u oddílů btrfs; superuživateli však ukáže již aktuální jmenovku).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc26"><a href="#kapdiskoveoddilyppcr26" class="cislopozn">26</a>&nbsp;Příkaz „fsck“ pravděpodobně lze použít i se souborovým systémem v souboru, ale nezkoušel/a jsem to.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc27"><a href="#kapdiskoveoddilyppcr27" class="cislopozn">27</a>&nbsp;Příkaz „zerofree“ lze použít jen s odpojeným souborovým systémem!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc28"><a href="#kapdiskoveoddilyppcr28" class="cislopozn">28</a>&nbsp;Poznámka: Tento příkaz chybné bloky najde, ale neudělá nic proto, aby se je systém souborů nesnažil používat.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc29"><a href="#kapdiskoveoddilyppcr29" class="cislopozn">29</a>&nbsp;Pokud jste začátečník, nedefragmentujte oddíly typu ext4! Obvykle to není potřeba.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc30"><a href="#kapdiskoveoddilyppcr30" class="cislopozn">30</a>&nbsp;Tento příkaz následuje symbolické odkazy. To, že adresář reprezentuje pododdíl btrfs, ho pro účely tohoto příkazu přípojným bodem nečiní.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapdiskoveoddilyppc31"><a href="#kapdiskoveoddilyppcr31" class="cislopozn">31</a>&nbsp;Pozor! Tato operace je nebezpečná! Pokud zadáte chybný cílový oddíl, daný oddíl se nevratně přepíše daty určenými pro ten správný. Pokud velikost zálohy neodpovídá přesně velikosti cílového oddílu, nemusí být oddíl po obnově dobře použitelný. Tento příkaz používejte s velkou opatrností!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
</div>


<nav class="spodni">
<a href="index.htm" class="naindex">🗐&nbsp;Přehled&nbsp;kapitol</a>
<div class="naslkap">
<a href="diskove-oddily-btrfs.htm" rel="next" title="4. Diskové oddíly / Btrfs">Následující&nbsp;kapitola/dodatek:<br><span class="cislo">4</span>
<span class="nazev">Diskové oddíly / Btrfs</span></a>
</div>
<!--<div><a href="index.htm">🗐&nbsp;Přehled&nbsp;kapitol</a></div>-->
</nav>


<div class="odkazydole"><div><a href="hledani-souboru.htm"><img src="obrazky/ik/hledani-souboru.png" alt="" width="32" height="32">Hledání souborů</a><a href="sprava-uzivatelskych-uctu.htm"><img src="obrazky/ik/sprava-uzivatelskych-uctu.png" alt="" width="32" height="32">Správa uživatelských účtů</a><a href="regularni-vyrazy.htm"><img src="obrazky/ik/regularni-vyrazy.png" alt="" width="32" height="32">Regulární výrazy</a></div></div>
<div class="reklamnipata">Líbí se vám tento projekt a chcete, aby byl ještě lepší? Můžete mi s tím pomoci. Zmiňte se o něm technicky zdatným přátelům, opravte překlepy a nahlašte nefunkční zaklínadla, aby mohla být opravena; poskytněte mi zpětnou vazbu nebo se zapojte do vývoje nových kapitol. Další informace na GitHubu v dokumentu <a href="https://github.com/singularis-mzf/linux-spellbook/blob/v%C3%BDvojov%C3%A1/JAK-SE-ZAPOJIT.md">Jak se zapojit</a>.</div>

</article>
<!-- *** -->
<footer id="dole">
<img src="obrazky/by-sa.png" width="88" height="31" alt="[BY-SA]">
<p>Veškerý obsah této stránky (text, obrázky, zdrojový kód) je možno upravovat a šířit pod podmínkami licence
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>.
Upozorňuji, že uvedená licence vyžaduje uvedení seznamu autorů, licence a zdroje a poskytnutí stejné
či kompatibilní licence k provedeným změnám, jsou-li nějaké. Příslušné údaje jsou dostupné
na stránce „<a href="x-autori.htm">Přehled autorů</a>“.
Šíření obsahu bez těchto údajů nebo šíření upravené verze bez poskytnutí adekvátní
licence k provedeným úpravám je pravděpodobně porušení licenčních podmínek a může být postihováno.
Poskytování zdrojového kódu při šíření není touto licencí vyžadováno.</p><p>Pro nové verze, další informace, aktuální zdrojový kód
a možnost se zapojit do projektu „Linux: Kniha kouzel“ navštivte jeho
<a href="https://github.com/singularis-mzf/linux-spellbook">repozitář na GitHubu</a>.
</footer>
</div>

<nav class="menu">
<!-- MENU OSNOVA -->
<a href="#menuosnova" id="menuosnova"><span class="prvnipismeno">O</span>snova</a>
<aside class="menuosnova">
<div><div class="nadpis">Osnova</div><div class="polozky">
<a href="#cast1" class="sekce">1 Úvod</a>
<a href="#cast2" class="sekce">2 Definice</a>
<a href="#cast2x1" class="podsekce">/1 Obecné definice</a>
<a href="#cast2x2" class="podsekce">/2 Identifikátory souborových systémů</a>
<a href="#cast2x3" class="podsekce">/3 Co a kam připojit</a>
<a href="#cast3" class="sekce">3 Zaklínadla</a>
<a href="#cast3x1" class="podsekce">/1 Položky v /etc/fstab</a>
<a href="#cast3x2" class="podsekce">/2 Připojení a odpojení systému souborů</a>
<a href="#cast3x3" class="podsekce">/3 Již připojené systémy souborů (vypsat/zjistit údaje)</a>
<a href="#cast3x4" class="podsekce">/4 Oddíly a zařízení (vypsat/zjistit údaje)</a>
<a href="#cast3x5" class="podsekce">/5 Formátování</a>
<a href="#cast3x6" class="podsekce">/6 Odkládací oddíly a soubory</a>
<a href="#cast3x7" class="podsekce">/7 Dělení disku</a>
<a href="#cast3x8" class="podsekce">/8 Jmenovka (nastavit)</a>
<a href="#cast3x9" class="podsekce">/9 Degrafmentace, kontrola, TRIM apod.</a>
<a href="#cast3x10" class="podsekce">/10 Ostatní</a>
<a href="#cast4" class="sekce">4 Nejdůležitější volby připojení</a>
<a href="#cast4x1" class="podsekce">/1 Pro všechny typy systému souborů</a>
<a href="#cast4x2" class="podsekce">/2 Zobrazení ve správcích souborů (pro všechny typy)</a>
<a href="#cast4x3" class="podsekce">/3 Pro ext4, ext3 a ext2</a>
<a href="#cast4x4" class="podsekce">/4 Pro „vfat“ (FAT32, FAT16, FAT12)</a>
<a href="#cast4x5" class="podsekce">/5 Pro „ntfs“ (NTFS)</a>
<a href="#cast4x6" class="podsekce">/6 Pro „tmpfs“ (ramdisk)</a>
<a href="#cast5" class="sekce">5 Instalace na Ubuntu</a>
<a href="#cast6" class="sekce">6 Tipy a zkušenosti</a>
<a href="#cast7" class="sekce">7 Další zdroje informací</a>
<a href="#cast8" class="sekce">8 Pomocné funkce a skripty</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU KAPITOLY -->
<a href="#menukapitoly" id="menukapitoly"><span class="prvnipismeno">K</span>apitoly</a>
<aside class="menukapitoly">
<div><div class="nadpis">Kapitoly</div><div class="polozky">
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/predmluva.png" alt="[]"></span><span class="fragodkazy"><a href="predmluva.htm" class="odkaz"><span><span class="cislo">1</span>Předmluva</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/zakladni-znalosti.png" alt="[]"></span><span class="fragodkazy"><a href="zakladni-znalosti.htm" class="odkaz"><span><span class="cislo">2</span>Základní znalosti</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/diskove-oddily.png" alt="[]"></span><span class="fragodkazy"><a href="diskove-oddily.htm" class="odkaz"><span><span class="cislo">3</span>Diskové oddíly</span></a><span class="podkpodkazy"><a href="diskove-oddily-btrfs.htm" class="odkaz"><span><span class="cislo">4</span>Btrfs</span></a><a href="diskove-oddily-lvm.htm" class="odkaz"><span><span class="cislo">5</span>LVM</span></a><a href="diskove-oddily-softwarovy-raid.htm" class="odkaz"><span><span class="cislo">6</span>Softwarový RAID</span></a></span></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/git.png" alt="[]"></span><span class="fragodkazy"><a href="git.htm" class="odkaz"><span><span class="cislo">7</span>Git</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/hledani-souboru.png" alt="[]"></span><span class="fragodkazy"><a href="hledani-souboru.htm" class="odkaz"><span><span class="cislo">8</span>Hledání souborů</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/nabidka-aplikaci.png" alt="[]"></span><span class="fragodkazy"><a href="nabidka-aplikaci.htm" class="odkaz"><span><span class="cislo">9</span>Nabídka aplikací</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/odkazy.png" alt="[]"></span><span class="fragodkazy"><a href="odkazy.htm" class="odkaz"><span><span class="cislo">10</span>Pevné a symbolické odkazy</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/perl-zaklady.png" alt="[]"></span><span class="fragodkazy"><a href="perl-zaklady.htm" class="odkaz"><span><span class="cislo">11</span>Perl: základy</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/prace-s-archivy.png" alt="[]"></span><span class="fragodkazy"><a href="prace-s-archivy.htm" class="odkaz"><span><span class="cislo">12</span>Práce s archivy</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/regularni-vyrazy.png" alt="[]"></span><span class="fragodkazy"><a href="regularni-vyrazy.htm" class="odkaz"><span><span class="cislo">13</span>Regulární výrazy</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/sprava-balicku.png" alt="[]"></span><span class="fragodkazy"><a href="sprava-balicku.htm" class="odkaz"><span><span class="cislo">14</span>Správa balíčků</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/sprava-uzivatelskych-uctu.png" alt="[]"></span><span class="fragodkazy"><a href="sprava-uzivatelskych-uctu.htm" class="odkaz"><span><span class="cislo">15</span>Správa uživatelských účtů</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/system.png" alt="[]"></span><span class="fragodkazy"><a href="system.htm" class="odkaz"><span><span class="cislo">16</span>Systém</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/zpracovani-textovych-souboru.png" alt="[]"></span><span class="fragodkazy"><a href="zpracovani-textovych-souboru.htm" class="odkaz"><span><span class="cislo">17</span>Zpracování textových souborů</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/zpracovani-videa-a-zvuku.png" alt="[]"></span><span class="fragodkazy"><a href="zpracovani-videa-a-zvuku.htm" class="odkaz"><span><span class="cislo">18</span>Zpracování videa a zvuku</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/koncepce-projektu.png" alt="[]"></span><span class="fragodkazy"><a href="koncepce-projektu.htm" class="odkaz"><span><span class="cislo">19</span>Koncepce projektu Linux: Kniha kouzel</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/plan-vyvoje.png" alt="[]"></span><span class="fragodkazy"><a href="plan-vyvoje.htm" class="odkaz"><span><span class="cislo">20</span>Plán budoucího vývoje</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/licence.png" alt="[]"></span><span class="fragodkazy"><a href="licence.htm" class="odkaz"><span><span class="cislo">21</span>Licence</span></a></span></div>
<div class="premiove"><strong>Prémiové kapitoly:</strong>
<div>AWK</div>
<div>Datum, čas a kalendář</div>
<div>Make</div>
<div>Manuálové stránky</div>
<div>Markdown</div>
<div>Perl: moduly a objekty</div>
<div>Proměnné prostředí a interpretu</div>
<div>Sed</div>
<div>Soubory a adresáře</div>
<div>Správa procesů</div>
<div>Stahování videí</div>
<div>Terminál</div>
<div>Vim</div>
<div>Zpracování binárních souborů</div>
</div><p>Tyto kapitoly můžete získat jako odměnu za překlad ze zdrojového kódu. Podrobnější informace <a href="https://github.com/singularis-mzf/linux-spellbook/blob/stabiln%C3%AD/dokumentace/odm%C4%9Bna-za-sestaven%C3%AD.md">na GitHubu</a>.</p>
</div></div>
<a href="#zavritmenu" id="zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU ŠTÍTKY -->
<a href="#menustitky" id="menustitky"><span class="prvnipismeno">Š</span>títky</a>
<aside class="menustitky">
<div><div class="nadpis">Štítky</div><div class="polozky">
<a href="x-stitky.htm#sadresare">adresáře&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#saplikace">aplikace&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sapt">apt&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sbash">bash&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sdemoni">démoni&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sflatpak">Flatpak&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sgui">GUI&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#shledani">hledání&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sklavesnice">klávesnice&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#skomprese">komprese&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#slvm">LVM&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#sodkladaciprostor">odkládací prostor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sperl">Perl&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sprogram">program&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#sprogramovani">programování&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#spristupovaprava">přístupová práva&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sraid">RAID&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sramdisk">ramdisk&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssnap">Snap&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssoubory">soubory&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sspravaverzi">správa verzí&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssyntaxe">syntaxe&nbsp;&nbsp;(3)</a>
<a href="x-stitky.htm#ssystem">systém&nbsp;&nbsp;(7)</a>
<a href="x-stitky.htm#ssystemsouboru">systém souborů&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#stematickyokruh">tematický okruh&nbsp;&nbsp;(13)</a>
<a href="x-stitky.htm#svideo">video&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szip">zip&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szpracovanitextu">zpracování textu&nbsp;&nbsp;(3)</a>
<a href="x-stitky.htm#szvuk">zvuk&nbsp;&nbsp;(1)</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU NÁPOVĚDA -->
<a href="#menunapoveda" id="menunapoveda"><span class="prvnipismeno">N</span>ápověda</a>
<aside class="menunapoveda">
<div><div class="nadpis">Nápověda</div><div class="polozky">
<a href="predmluva.htm">Předmluva</a>
<a href="koncepce-projektu.htm">Koncepce projektu Linux: Kniha kouzel</a>
<a href="https://singularis-mzf.github.io/">Ostatní verze knihy</a>
<a href="https://github.com/singularis-mzf/linux-spellbook">Repozitář na GitHubu</a>
<a href="https://github.com/singularis-mzf/linux-spellbook/blob/stabiln%C3%AD/dokumentace/odm%C4%9Bna-za-sestaven%C3%AD.md">Odměna za sestavení (prémiové kapitoly)</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
</nav>

<a href="#nahore" id="odkaznahoru" title="NAHORU − na začátek stránky">▴<!--⤒--></a>
<a href="#dole" id="odkazdolu" title="DOLŮ − na konec stránky">▾<!--⤓--></a>

</div>
</body>
</html>
