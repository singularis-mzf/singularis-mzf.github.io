<!doctype html>
<html lang="cs">
<head profile="http://www.w3.org/2005/10/profile">
<meta charset="UTF-8">

<title>Soubory a adresáře − Linux: Kniha kouzel</title>

<link rel="stylesheet" type="text/css" href="lkk-20201001.css">
<link rel="alternate stylesheet" type="text/css" href="lkk-20201001-vk-svetly.css" title="Vysoký kontrast: světlá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20201001-vk-tmavy.css" title="Vysoký kontrast: tmavá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20201001-tmavy.css" title="Tmavý motiv">
<link rel="icon" type="image/png" href="obrazky/favicon.png">
</head>
<body>
<div id="nahore"></div>
<header>
<span class="left"><a href="index.htm"><img src="obrazky/favicon.png" width="16" height="16" alt=""></a> Linux: Kniha kouzel, vanilková příchuť 1.13 (1. října 2020)</span>
<span class="right"><span class="ico1"></span><span class="ico2"></span><span class="ico3"></span></span>
</header>
<nav class="menuokna">
<a href="#menukapitoly" class="menu"><span class="prvnipismeno">K</span>apitoly</a>
<a href="#menuosnova" class="menu"><span class="prvnipismeno">O</span>snova</a>
<a href="#menustitky" class="menu"><span class="prvnipismeno">Š</span>títky</a>
<a href="#menunapoveda" class="menu"><span class="prvnipismeno">N</span>ápověda</a>
<a href="sed.htm" rel="prev" title="15. Sed" accesskey="p" class="predchozi">Předchozí&nbsp;kapitola</a>
<a href="index.htm" class="prehled"><span class="prvnipismeno">P</span>řehled kapitol</a>
<a href="sprava-balicku.htm" rel="next" title="17. Správa balíčků" accesskey="n" class="nasledujici">Následující&nbsp;kapitola</a>
</nav>

<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>

<!--
<nav class="horni">
<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>
<span class="prev">
<a href="sed.htm" rel="prev" title="15. Sed" accesskey="p">Předchozí&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm" accesskey="i">Přehled</a><span class="next"><!- -
- ->&nbsp;| <a href="sprava-balicku.htm" rel="next" title="17. Správa balíčků" accesskey="n">Následující&nbsp;kapitola</a>
</span>
</nav>
-->


<article>

<h1 class="kapitola">16. <img src="obrazky/ik/soubory-a-adresare.png" alt="" width="64" height="64"> Soubory a adresáře</h1>
<div class="varovani">
Řada 1.x vanilkové příchuti Linuxu: Knihy kouzel je od 1. října 2020
do 1. března 2023 ve stavu dlouhodobé pasivní údržby;
nahlášené chyby budou opravovány, ale aktivní vývoj se již věnuje novější
vývojové řadě určené pro novější verze operačního systému a programů.
Pokud nejste vázáni na starší verze programů, doporučuji vyhledat novou
verzi z aktivně vyvíjené vývojové řady.
</div>
<div class="stitky"><a href="x-stitky.htm#sdrese">adresáře</a>
<a href="x-stitky.htm#spstupovprv">přístupová práva</a>
<a href="x-stitky.htm#ssoubory">soubory</a>
<a href="x-stitky.htm#stemtickokruh">tematický okruh</a>
</div>
<h2 id="cast1"><a href="#cast1"><span class="cislo">1.</span> Úvod</a></h2>
<p class="ponadpisu">
Tato kapitola se zabývá prací s adresáři a jejich položkami (soubory, podadresáři apod.),
včetně jejich velikosti, vlastnictví, přístupových práv, příznaků a rozšířených atributů.
Nepokrývá však zacházení s konkrétním obsahem souborů (analýzu, kopírování, zálohování apod.).
</p><p>
Pevnými a symbolickými odkazy se tato kapitola zabývá velmi okrajově, bude jim věnována
samostatná kapitola.
</p><p>
Tato kapitola se nezabývá připojováním souborových systémů.
</p><p>
Tato verze kapitoly dostatečně nepokrývá „mód“ (číselné vyjádření základních přístupových práv a zvláštních příznaků).
</p>

<h2 id="cast2"><a href="#cast2"><span class="cislo">2.</span> Definice</a></h2>
<ul><li><b>Adresářová položka</b> je jednoznačně pojmenovaná položka v adresáři; obvykle je to soubor (přesněji – pevný odkaz na soubor), další adresář či symbolický odkaz, méně často zařízení (např. „/dev/null“), pojmenovaná roura apod. Adresářové položky se v daném adresáři identifikují svým <b>názvem</b>, který může obsahovat jakékoliv znaky UTF-8 kromě nulového bajtu a znaku „/“. V každém adresáři se nacházejí dva zvláštní adresářové odkazy „.“ (na sebe) a „..“ (na nadřazený adresář), které se ale nepočítají a většina nástojů je ignoruje (bohužel ne všechny).
</li><li>Adresářová položka je <b>skrytá</b>, pokud její název začíná znakem „.“.
</li><li><b>Přístupová práva</b> jsou nastavení souboru či adresáře, která určují, kteří uživatelé budou moci s daným souborem či adresářem zacházet. Nastavení přístupových práv se dělí na <b>základní</b>, které je přítomno vždy, a <b>rozšířená</b> (ACL, access control list), jejichž nastavení lze přidávat či odebírat. (Vedle toho existují ještě „výchozí“ přístupová práva, ale těmi se pro jejich neintuitivnost a zřídkavé využití budu zabývat jen okrajově.)
</li><li><b>Zvláštní příznaky</b> jsou tři příznaky (u+s, g+s, +t), které mohou být nastaveny souborům a adresářům a mají na ně zvláštní účinky. Jim příbuzné jsou <b>zvláštní restrikce ext4</b>, které jsou ale dostupné pouze na souborovém systému ext4 (a částečně ext2 a ext3).
</li><li><b>Mód</b> (mode) je číselné vyjádření v osmičkové soustavě, které shrnuje základní nastavení přístupových práv a nastavení zvláštních příznaků.
</li><li><b>Uživatelské rozšířené atributy</b> (URA, user xattrs) umožňují ukládat k souborům a adresářům další obecná data v podobě dvojic klíč–hodnota; jsou však k dispozici pouze na souborovém systému ext4, jsou poměrně skryté, při jakémkoliv kopírování se obvykle ztratí a nejsou příliš využívány. Proto doporučuji se jim raději vyhýbat.
</li></ul>
<h3 id="cast2x1"><span><a href="#cast2x1" title="kapitola 17 (Soubory a adresáře), sekce 2 (Definice), podsekce 1 (Přístupová práva souborů a adresářů)"><sup>2/</sup>1 Přístupová práva souborů a adresářů</a></span></h3>
<p class="ponadpisu">
V linuxovém souborovém systému existují tři přístupová práva, která lze u adresářové položky dovolit či zakázat:
</p><p>
Právo <b>čtení</b> (r, read) znamená:
</p>
<ul><li>U souboru právo otevřít soubor pro čtení a přečíst jeho obsah, a to jak sekvenčně, tak na přeskáčku.
</li><li>U adresáře právo přečíst seznam názvů položek v adresáři včetně jejich typu (soubor či adresář), ale už bez dalších údajů.
</li></ul><p>
Právo <b>zápisu</b> (w, write) znamená:
</p>
<ul><li>U souboru právo otevřít daný soubor pro zápis, zkrátit ho (i na nulovou velikost), přepisovat existující bajty souboru a zapisovat nové na jeho konec.
</li><li>U adresáře právo vytvářet nové adresářové položky, měnit názvy stávajících a stávající mazat.
</li></ul><p>
Právo <b>spouštění</b> (x, execute) znamená:
</p>
<ul><li>U souboru právo daný soubor spustit jako proces. Toto právo stačí, pokud se jedná o program v přímo spustitelném binárním formátu; jde-li ve skutečnosti o interpretovaný skript, je potřeba také právo „r“.
</li><li>U adresáře právo do daného adresáře vstoupit, zjistit podrobnější informace o jeho položkách (např. přístupová práva) a dál k nim přistupovat. Nezahrnuje však možnost přečíst seznam názvů položek, takže pokud máte k adresáři samotné právo „x“, musíte znát názvy jeho položek, abyste s nimi mohli zacházet. (Samotné právo „r“ bez práva „x“ zase umožní programu vypsat seznam položek v adresáři, ale už o nich nebude moci nic zjistit.
</li></ul><p>
Každá adresářová položka má vlastníka (což je některý uživatel, např. „root“) a příslušnou skupinu.
Přístupová práva může měnit pouze vlastník položky nebo superuživatel.
</p><p>
Z historických důvodů existují dvě nastavení přístupových práv – základní (mode)
a rozšířené (ACL). Základní nastavení je vždy přítomno a dělí se na nastavení
pro vlastníka („u“), skupinu („g“) a ostatní („o“). Rozšířené nastavení je pak tvořeno
seznamem dalších položek, které mohou stanovovat dodatečná práva konkrétním
uživatelům a skupinám. Tento seznam však může být (a také obvykle bývá) prázdný.
</p><p>
Nastavení přístupových práv se uplatňují následovně:
</p>
<ul><li>Když k položce přistupuje její vlastník, uplatní se jen a pouze základní nastavení přístupových práv pro vlastníka („u“); žádné jiné nastavení se neuplatní, dokonce ani rozšířené nastavení přístupových práv, které vlastníka výslovně jmenuje.
</li><li>Jinak se vezme základní nastavení pro skupinu („g“) a všechny položky rozšířeného nastavení. Pokud bude mezi nimi nalezena alespoň jedna „odpovídající“ položka, tedy např. skupina, jejíž je uživatel členem, uživatel dostane všechna práva garantovaná alespoň některou odpovídající položkou. (To znamená, že když např. bude adresář „adr“ mít nastavena pro skupinu „askup“ práva „r--“ a pro skupinu „bskup“ práva „--x“, uživatel, který je členem obou skupin, ale není vlastníkem daného adresáře, má k adresáři „adr“ práva „r-x“.)
</li><li>Jedině pokud nebyla v druhém kroku nalezena žádná odpovídající položka, uplatní se nastavení pro ostatní („o“).
</li></ul>
<h3 id="cast2x2"><span><a href="#cast2x2" title="kapitola 17 (Soubory a adresáře), sekce 2 (Definice), podsekce 2 (Zvláštní příznaky)"><sup>2/</sup>2 Zvláštní příznaky</a></span></h3>
<p class="ponadpisu">
Vedle přístupových práv může mít každý soubor či adresář nastaveny ještě tři zvláštní příznaky:
</p><p>
<b>Příznak zmocnění vlastníka</b> (u+s, set-uid bit) má význam pouze u souborů
a pouze v kombinaci s právem „x“. Je-li takový soubor spuštěn, vzniklý proces
získá EUID (a tedy i práva) vlastníka souboru, a to i v případě, že ho spustil jiný uživatel.
Nejčastějším použitím je spuštění určitého programu s právy superuživatele.
</p><p>
<b>Příznak zmocnění skupiny</b> (g+s, set-gid bit) funguje u souborů analogicky
– spustí-li daný soubor kterýkoliv uživatel, vzniklý proces získá EGID (tedy skupinová práva)
skupiny souboru. Navíc ovšem funguje i u adresářů – všechny nově vytvořené adresářové položky
v adresáři s příznakem zmocnění pro skupinu budou při vytvoření přiřazeny stejné skupině
jako adresář, ve kterém byly vytvořeny. (Normálně by získaly skupinu podle procesu,
který je vytvořil.) Takto vytvořené podadresáře navíc získají také příznak zmocnění pro skupinu,
což znamená, že tento příznak se automaticky rozšíří i do všech nově vytvořených podadresářů,
pokud u nich nebude výslovně zrušen.
</p><p>
Třetí zvláštní příznak je <b>příznak omezení smazání</b> (+t, sticky-bit).
Ten má význam pouze u adresářů, kde omezuje výkon práva „w“ – brání ve smazání či přejmenování
„cizích položek“, tedy přesněji – zabrání ve smazání či přejmenování adresářové položky
každému uživateli, který není vlastníkem dané položky či vlastníkem samotného adresáře.
Hlavním smyslem této kombinace je, že uživatelé mohou v daném adresáři vytvářet nové
položky a ty jsou pak chráněny před zásahy jiných uživatelů, kteří mají k témuž adresáři
také právo zápisu. Tento příznak je typicky nastaven na adresáři „/tmp“.
Poznámka: vzniklé podadresáře tento příznak nedědí.
</p>

<h3 id="cast2x3"><span><a href="#cast2x3" title="kapitola 17 (Soubory a adresáře), sekce 2 (Definice), podsekce 3 (Superuživatel)"><sup>2/</sup>3 Superuživatel</a></span></h3>
<p class="ponadpisu">
Na <b>superuživatele</b> se z přístupových práv a příznaků vztahuje pouze právo spouštění
u souborů a příznak zmocnění pro skupinu. Ostatní nastavení přístupových práv ani příznaků
ho nijak neomezují a nemají na něj vliv.
</p>

<h2 id="cast3"><a href="#cast3"><span class="cislo">3.</span> Zaklínadla</a></h2>

<h3 id="cast3x1"><span><a href="#cast3x1" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 1 (Vypsat seznam adresářových položek (pro člověka))"><sup>3/</sup>1 Vypsat seznam adresářových položek (pro člověka)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1816045157"><span><a href="#z1816045157">☤</a></span></span>všech kromě skrytých<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">ls <span class="volznak">[</span>-lh<span class="volznak">]</span> <span class="volznak">[</span><i class="dopln">adresář</i><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1053395271"><span><a href="#z1053395271">⇛</a></span></span>všech kromě „.“ a „..“<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">ls -A<span class="volznak">[</span>lh<span class="volznak">]</span> <span class="volznak">[</span><i class="dopln">adresář</i><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1330812887"><span><a href="#z1330812887">⋘</a></span></span>jen adresářů (a symbolických odkazů na ně)(kromě/včetně skrytých)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">tree -dL 1</div>
<div class="radekzaklinadla">tree -daL 1</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z996496740"><span><a href="#z996496740">ຂ</a></span></span>jen souborů (a symbolických odkazů na ně)(kromě/včetně skrytých)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">find -L <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type f -name '[!.]*' -printf %f\\n <span class="volznak">[</span>| sort -f<span class="volznak">]</span></div>
<div class="radekzaklinadla">find -L <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type f -printf %f\\n <span class="volznak">[</span>| sort -f<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1871747591"><span><a href="#z1871747591">⇗</a></span></span>adresářů a podadresářů včetně symbolických odkazů na adresáře (kromě/včetně skrytých)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">tree -d<span class="volznak">[</span>a<span class="volznak">]</span><span class="volznak">[</span>L <i class="dopln">úrovní</i><span class="volznak">]</span></div>
<div class="radekzaklinadla">tree -da<span class="volznak">[</span>L <i class="dopln">úrovní</i><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1729493368"><span><a href="#z1729493368">×</a></span></span>všech včetně „.“ a „..“<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">ls -a<span class="volznak">[</span>lh<span class="volznak">]</span> <span class="volznak">[</span><i class="dopln">adresář</i><span class="volznak">]</span></div>
</div></div>

<h3 id="cast3x2"><span><a href="#cast3x2" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 2 (Vypsat seznam adresářových položek (pro skript))"><sup>3/</sup>2 Vypsat seznam adresářových položek (pro skript)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1416729832"><span><a href="#z1416729832">⟷</a></span></span><b>všech</b> (txt/txtz)<span class="cislo">#1 </span><sup><a href="#kapsouborydresreppc1" id="kapsouborydresreppcr1" title="Poznámka: příkaz „find“ odzvláštňuje speciální znaky na svém výstupu, pokud je veden na terminál. Je-li toto chování nežádoucí, nechte jeho výstup ještě projít dalším filtrem, např. „cat“.">(1)</a></sup></div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -printf %P\n</div>
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -printf %P\0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1168441844"><span><a href="#z1168441844">⣞</a></span></span>jen <b>souborů</b> (txt/txtz)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type f -printf %P\n</div>
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type f -printf %P\0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1945572777"><span><a href="#z1945572777">ⵛ</a></span></span>jen <b>adresářů</b> (txt/txtz)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type d -printf %P\n</div>
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type d -printf %P\0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1363975197"><span><a href="#z1363975197">⎦</a></span></span>všech kromě skrytých (txt/txtz)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -name '[!.]*' -printf %P\n</div>
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -name '[!.]*' -printf %P\0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z315504906"><span><a href="#z315504906">⪇</a></span></span>všech včetně „.“ a „..“ (txt/txtz)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">{ printf %s\n . ..; find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -printf %P\n; }</div>
<div class="radekzaklinadla">{ printf %s\0 . ..; find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -printf %P\0; }</div>
</div></div>

<h3 id="cast3x3"><span><a href="#cast3x3" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 3 (Testy)"><sup>3/</sup>3 Testy</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z735893577"><span><a href="#z735893577">⋣</a></span></span><b>existuje</b> adresářová položka?<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">test -e <i class="dopln">cesta</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1495899104"><span><a href="#z1495899104">ˑ</a></span></span>je adresářová položka <b>soubor</b>/adresář/symbolický odkaz/pojmenovaná roura?<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">test -f <i class="dopln">cesta</i> -a ! -L <i class="dopln">cesta</i></div>
<div class="radekzaklinadla">test -d <i class="dopln">cesta</i> -a ! -L <i class="dopln">cesta</i></div>
<div class="radekzaklinadla">test -L <i class="dopln">cesta</i> -a ! -L <i class="dopln">cesta</i></div>
<div class="radekzaklinadla">test -p <i class="dopln">cesta</i> -a ! -L <i class="dopln">cesta</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z409193565"><span><a href="#z409193565">⊪</a></span></span>je soubor neprázdný/<b>prázdný</b>?<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">test -f <i class="dopln">cesta</i> -a -s <i class="dopln">cesta</i></div>
<div class="radekzaklinadla">test -f <i class="dopln">cesta</i> -a \! -s <i class="dopln">cesta</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z226924271"><span><a href="#z226924271">ᔻ</a></span></span>má položka nastavený zvláštní příznak u+s/u+g/+t?<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">[[ $(stat -c %04a <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i>) =~ ^[4567] ]]</div>
<div class="radekzaklinadla">[[ $(stat -c %04a <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i>) =~ ^[2367] ]]</div>
<div class="radekzaklinadla">[[ $(stat -c %04a <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i>) =~ ^[1357] ]]</div>
</div></div>

<h3 id="cast3x4"><span><a href="#cast3x4" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 4 (Srovnání)"><sup>3/</sup>4 Srovnání</a></span></h3>
<p class="ponadpisu">
Poznámka: srovnávané položky nemusejí být v tomtéž adresáři; můžete je zadat i s relativní či absolutní cestou.
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z674576409"><span><a href="#z674576409">⊚</a></span></span>je položka1 <b>novější</b> než položka2? (z hlediska času poslední úpravy)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">test <i class="dopln">položka1</i> -nt <i class="dopln">položka2</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2142261391"><span><a href="#z2142261391">➧</a></span></span>je soubor1 <b>větší</b>/větší nebo stejně velký než soubor2?<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">test $(stat -c %s &quot;<i class="dopln">soubor1</i>&quot;) -gt $(stat -c %s &quot;<i class="dopln">soubor2</i>&quot;)</div>
<div class="radekzaklinadla">test $(stat -c %s &quot;<i class="dopln">soubor1</i>&quot;) -ge $(stat -c %s &quot;<i class="dopln">soubor2</i>&quot;)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z386903544"><span><a href="#z386903544">⇦</a></span></span>odkazují dvě položky na tutéž entitu (soubor, adresář apod.)?<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">test <i class="dopln">položka1</i> -ef <i class="dopln">položka2</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z603686066"><span><a href="#z603686066">∱</a></span></span>jsou obě položky stejně staré?<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">test \! <i class="dopln">položka1</i> -nt <i class="dopln">položka2</i> -a \! <i class="dopln">položka1</i> -ot <i class="dopln">položka2</i></div>
</div></div>

<h3 id="cast3x5"><span><a href="#cast3x5" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 5 (Zjistit údaje)"><sup>3/</sup>5 Zjistit údaje</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z641382322"><span><a href="#z641382322">ᕹ</a></span></span>prostor zabraný na disku adresářem a celým jeho podstromem (v bajtech/čitelně pro člověka)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">du -s0<span class="volznak">[</span>x<span class="volznak">]</span> -B 1 <i class="dopln">adresář</i><span class="tritecky"></span> | sed -zE 's/\s.*/\n/' | tr -d \\0<span class="prikladhodnoty">⊨ 16404</span></div>
<div class="radekzaklinadla">du -sh<span class="volznak">[</span>x<span class="volznak">]</span> <i class="dopln">adresář</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ 28K .</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1883002817"><span><a href="#z1883002817">◞</a></span></span>přístupová <b>práva</b> (kompletní/základní číselně/základní textově pro člověka)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">getfacl -ac <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ user::rw- (výstup má víc řádek)</span></div>
<div class="radekzaklinadla">stat -c %<span class="volznak">[</span>04<span class="volznak">]</span>a <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ 1775</span></div>
<div class="radekzaklinadla">stat -c %A <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ -rwxrwxr-t</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1988115341"><span><a href="#z1988115341">⪑</a></span></span>celková <b>velikost</b> (v bajtech/čitelně pro člověka)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">stat -c %s <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ 15132</span></div>
<div class="radekzaklinadla">stat -c %s <i class="dopln">cesta</i><span class="tritecky"></span> | numfmt --to iec<span class="prikladhodnoty">⊨ 15K</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2114167208"><span><a href="#z2114167208">⇥</a></span></span><b>vlastník</b> (jméno/UID)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">stat -c %U <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ filip</span></div>
<div class="radekzaklinadla">stat -c %u <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ 1000</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1010073141"><span><a href="#z1010073141">➯</a></span></span><b>skupina</b> (název/GID)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">stat -c %G <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ www-data</span></div>
<div class="radekzaklinadla">stat -c %g <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ 33</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1075909295"><span><a href="#z1075909295">➷</a></span></span>datum a čas poslední změny (pro člověka či skript/časová známka Unixu)<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">stat -c %y <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ 2020-03-01 05:30:59.280255271 +0100</span></div>
<div class="radekzaklinadla">stat -c %Y <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ 1583037059</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z692800727"><span><a href="#z692800727">↛</a></span></span>počet pevných odkazů<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">stat -c %h <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ 1</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z105973822"><span><a href="#z105973822">…</a></span></span>číslo <b>inode</b><span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla">stat -c %i <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ 403723</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z799582815"><span><a href="#z799582815">⋹</a></span></span>typ adresářové položky (písmeno/čitelně pro člověka)<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla">stat -c %A | cut -c 1 | tr - f<span class="prikladhodnoty">⊨ f</span></div>
<div class="radekzaklinadla">stat -c %F <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ běžný soubor</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1019126054"><span><a href="#z1019126054">⣦</a></span></span>příslušný přípojný bod (kořenový adresář systému souborů, na kterém se položka nachází)<span class="cislo">#10 </span></div><div class="radky">
<div class="radekzaklinadla">stat -c %m <i class="dopln">cesta</i><span class="tritecky"></span><span class="prikladhodnoty">⊨ /</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z592878773"><span><a href="#z592878773">⨙</a></span></span>prostor skutečně zabraný na disku souborem (v bajtech/čitelně pro člověka)<span class="cislo">#11 </span></div><div class="radky">
<div class="radekzaklinadla">stat -c '%b*%B' <i class="dopln">cesta</i><span class="tritecky"></span> | bc<span class="prikladhodnoty">⊨ 16384</span></div>
<div class="radekzaklinadla">stat -c '%b*%B' <i class="dopln">cesta</i><span class="tritecky"></span> | bc | numfmt --to iec<span class="prikladhodnoty">⊨ 16K</span></div>
</div></div>

<h3 id="cast3x6"><span><a href="#cast3x6" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 6 (Aktuální adresář)"><sup>3/</sup>6 Aktuální adresář</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1272454625"><span><a href="#z1272454625">❢</a></span></span>přejít do daného adresáře/na předchozí aktuální adresář<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">cd <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i></div>
<div class="radekzaklinadla">cd -</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1187700120"><span><a href="#z1187700120">⢁</a></span></span>zjistit aktuální adresář<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">pwd<span class="prikladhodnoty">⊨ /home/aneta</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z1013122424"><span><a href="#z1013122424">⬱</a></span></span>přejít do domovského adresáře<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">cd</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z894174896"><span><a href="#z894174896">⪶</a></span></span>přejít o úroveň výš<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">cd ..</div>
</div></div>

<h3 id="cast3x7"><span><a href="#cast3x7" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 7 (Vytvořit adresářovou položku)"><sup>3/</sup>7 Vytvořit adresářovou položku</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z564231266"><span><a href="#z564231266">╒</a></span></span>vytvořit prázdný <b>adresář</b><span class="cislo">#1 </span><sup><a href="#kapsouborydresreppc2" id="kapsouborydresreppcr2" title="Parametr „-p“: vytvořit adresář, jen pokud ještě neexistuje; a v případě potřeby nejdřív vytvořit adresáře jemu nadřazené.">(2)</a></sup></div><div class="radky">
<div class="radekzaklinadla">mkdir <span class="volznak">[</span>-v<span class="volznak">]</span> <span class="volznak">[</span>-m <i class="dopln">práva</i><span class="volznak">]</span> <span class="volznak">[</span>-p<span class="volznak">]</span> <i class="dopln">název</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1232823153"><span><a href="#z1232823153">╃</a></span></span>vytvořit prázdný <b>soubor</b><span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">touch <i class="dopln">název</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z226864092"><span><a href="#z226864092">⠯</a></span></span>vytvořit symbolický odkaz<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">ln -s &quot;<i class="dopln">obsah/odkazu</i>&quot; <i class="dopln">název</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z571140409"><span><a href="#z571140409">♠</a></span></span>vytvořit pojmenovanou rouru<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">mkfifo <span class="volznak">[</span>-m <i class="dopln">práva</i><span class="volznak">]</span> <i class="dopln">název</i><span class="tritecky"></span></div>
</div></div>

<h3 id="cast3x8"><span><a href="#cast3x8" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 8 (Přejmenovat či smazat adresářovou položku)"><sup>3/</sup>8 Přejmenovat či smazat adresářovou položku</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1432556296"><span><a href="#z1432556296">⬆</a></span></span><b>přejmenovat</b> adresářovou položku<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">mv <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">původní-název</i> <i class="dopln">nový-název</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1001594687"><span><a href="#z1001594687">╝</a></span></span>smazat <b>neadresář</b><span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">rm <span class="volznak">[</span>-f<span class="volznak">]</span> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z876214802"><span><a href="#z876214802">┑</a></span></span>smazat prázdný adresář<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">rmdir <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1445793979"><span><a href="#z1445793979">▆</a></span></span>smazat rekurzívně veškerý obsah adresáře a nakonec i samotný adresář<span class="cislo">#4 </span><sup><a href="#kapsouborydresreppc3" id="kapsouborydresreppcr3" title="Tuto variantu můžete použít i na jednotlivé soubory.">(3)</a></sup></div><div class="radky">
<div class="radekzaklinadla">rm -r<span class="volznak">[</span>f<span class="volznak">]</span><span class="volznak">[</span>v<span class="volznak">]</span> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>

<h3 id="cast3x9"><span><a href="#cast3x9" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 9 (Nastavit přístupová práva)"><sup>3/</sup>9 Nastavit přístupová práva</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z624173838"><span><a href="#z624173838">⋣</a></span></span>nastavit práva „rwx“ pro vlastníka, „rx“ pro skupinu a nic pro ostatní (alternativy)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> u=rwx,g=rx,o=- <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> setfacl <span class="volznak">[</span>-R<span class="volznak">]</span> u::rwx,g::rx,o::- <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1960430185"><span><a href="#z1960430185">ᐷ</a></span></span>odebrat všem všechna práva<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> setfacl <span class="volznak">[</span>-R<span class="volznak">]</span> -bm u::-,g::-,o::- <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2012300269"><span><a href="#z2012300269">⬉</a></span></span>přidat/odebrat vlastníkovi právo „x“<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> u+x <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> u-x <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z969468188"><span><a href="#z969468188">☮</a></span></span>přidat/odebrat vlastníkovi a skupině právo „x“<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> ug+x <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> ug-x <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1159993677"><span><a href="#z1159993677">䷅</a></span></span>přidat/odebrat všem práva „r“ a „x“<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> a+rx <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> a-rx <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z221059408"><span><a href="#z221059408">❏</a></span></span>nastavit práva „rwx“ pro vlastníka a „rx“ pro ostatní, práva pro skupinu neměnit (alternativy)<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> u=rwx,o=rx <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> setfacl <span class="volznak">[</span>-R<span class="volznak">]</span> u::rwx,g::rx,o::- <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1855242566"><span><a href="#z1855242566">⢕</a></span></span>nastavit rozšířená práva „rx“ uživateli „filip“<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> setfacl <span class="volznak">[</span>-R<span class="volznak">]</span> -m u:filip:rx <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1734873715"><span><a href="#z1734873715">⚕</a></span></span>zrušit rozšířená práva uživatele „filip“<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> setfacl <span class="volznak">[</span>-R<span class="volznak">]</span> -x u:filip <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1731694822"><span><a href="#z1731694822">◵</a></span></span>zrušit rozšířená práva všech uživatelů a skupin<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> setfacl <span class="volznak">[</span>-R<span class="volznak">]</span> -b <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>

<h3 id="cast3x10"><span><a href="#cast3x10" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 10 (Změnit čas, vlastnictví a skupinu)"><sup>3/</sup>10 Změnit čas, vlastnictví a skupinu</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1900501125"><span><a href="#z1900501125">∩</a></span></span>nastavit čas poslední změny na aktuální čas<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> touch -c <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z795209531"><span><a href="#z795209531">↷</a></span></span>změnit <b>vlastníka</b> souboru či adresáře (volitelně i skupinu)(obecně/příklad)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo chown <span class="volznak">[</span>-R <span class="volznak">[</span>-L<span class="volznak">]</span><span class="volznak">]</span> <span class="volznak">[</span>-c<span class="volznak">]</span> <span class="volznak">[</span>--from=<span class="volznak">[</span><i class="dopln">původní-vlastník</i><span class="volznak">]</span>:<span class="volznak">[</span><i class="dopln">původní-skupina</i><span class="volznak">]</span><span class="volznak">]</span> <i class="dopln">nový-vlastník</i><span class="volznak">[</span>:<i class="dopln">nová-skupina</i><span class="volznak">]</span> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">sudo chown root:root soubor.txt</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1402640818"><span><a href="#z1402640818">Ʌ</a></span></span>změnit skupinu souboru či adresáře<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chgrp <span class="volznak">[</span>-R<span class="volznak">]</span> <span class="volznak">[</span>-c<span class="volznak">]</span> <i class="dopln">nová-skupina</i> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z668820854"><span><a href="#z668820854">╻</a></span></span>nastavit čas poslední změny (obecně/příklady...)<span class="cislo">#4 </span><sup><a href="#kapsouborydresreppc4" id="kapsouborydresreppcr4" title="Pozor! Příkaz „touch“ při tomto použití tiše ignoruje neexistující soubory!">(4)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> touch -cd &quot;<i class="dopln">datum-čas</i>&quot; <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">sudo touch -cd &quot;2019-04-21 23:59:58&quot; -- /root/mujsoubor.txt</div>
<div class="radekzaklinadla">touch -cd &quot;2019-04-21 23:59:58.123456789&quot; -- ~/mujsoubor.txt</div>
</div></div>

<h3 id="cast3x11"><span><a href="#cast3x11" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 11 (Přenést přístupová práva)"><sup>3/</sup>11 Přenést přístupová práva</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z663107610"><span><a href="#z663107610">ⴵ</a></span></span>nastavit skupině („g“) a ostatním („o“) přístupová práva, jaká má vlastník („u“) (alternativy)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> go=u <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> getfacl <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i> | sed -E 's/^user::/other::/;t;d' | <span class="volznak">[</span>sudo<span class="volznak">]</span> setfacl -M- <i class="dopln">cesta</i></div>
</div></div>

<h3 id="cast3x12"><span><a href="#cast3x12" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 12 (Zvláštní příznaky (nastavit))"><sup>3/</sup>12 Zvláštní příznaky (nastavit)</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1707857482"><span><a href="#z1707857482">䷅</a></span></span>zapnout/vypnout příznak omezení smazání (<b>+t</b>)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> +t <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> -t <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z833400196"><span><a href="#z833400196">✕</a></span></span>zapnout/vypnout příznak zmocnění skupiny (<b>g+s</b>)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> g+s <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> g-s <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2001133992"><span><a href="#z2001133992">⡻</a></span></span>zapnout/vypnout příznak zmocnění vlastníka (<b>u+s</b>)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> u+s <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> u-s <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z899807744"><span><a href="#z899807744">Ꙩ</a></span></span>zapnout/vypnout současně všechny tři zvláštní příznaky<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> ug+s,+t <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> chmod <span class="volznak">[</span>-R<span class="volznak">]</span> ug-s,-t <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>

<h3 id="cast3x13"><span><a href="#cast3x13" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 13 (Uživatelské rozšířené atributy ext4 (URA))"><sup>3/</sup>13 Uživatelské rozšířené atributy ext4 (URA)</a></span></h3>
<p class="ponadpisu">
Poznámka: Tyto příkazy jsou vhodné pro zpracování běžných textových hodnot rozšířených atributů;
pokud potřebujete zpracovávat atributy obsahující obecná binární data, budete muset prozkoumat
komplikovanější příkazy „getfattr“ a „setfattr“ z balíčku „attr“ (nutno doinstalovat).
</p><p>
Poznámka 2: Všechny klíče uživatelských rozšířených atributů <i>musejí</i> začínat „user.“.
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1765099721"><span><a href="#z1765099721">⬑</a></span></span>vypsat <b>seznam klíčů</b><span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> xattr <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2133208381"><span><a href="#z2133208381">☱</a></span></span>vypsat <b>hodnotu</b><span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> xattr -p<span class="volznak">[</span>z<span class="volznak">]</span> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">user.klíč</i> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1753613220"><span><a href="#z1753613220">ꓸ</a></span></span>smazat konkrétní URA-dvojici<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> xattr -d <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">user.klíč</i> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2139317426"><span><a href="#z2139317426">⟻</a></span></span>smazat všechny URA-dvojice na daném souboru či adresáři<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1898345716"><span><a href="#z1898345716">䷘</a></span></span><b>nastavit</b> atribut<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> xattr -w<span class="volznak">[</span>z<span class="volznak">]</span> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">user.klíč</i> &quot;<i class="dopln">hodnota</i>&quot; <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>

<h3 id="cast3x14"><span><a href="#cast3x14" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 14 (Zvláštní restrikce ext4)"><sup>3/</sup>14 Zvláštní restrikce ext4</a></span></h3>
<p class="ponadpisu">
Pozor! Následující zvláštní restrikce jsou dostupné výhradně na souborovém systému ext4
(a pravděpodobně také na ext3, popř. ext2); mohou být k dispozici i na jiných souborových
systémech, ale většinou nejsou (dokonce ani na „tmpfs“). Účinkují i na superuživatele,
ten je však může v případě potřeby zrušit.
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z987938633"><span><a href="#z987938633">┉</a></span></span>nastavit/zrušit zvláštní restrikci zakazující změny<span class="cislo">#1 </span><sup><a href="#kapsouborydresreppc5" id="kapsouborydresreppcr5" title="Tato zvláštní restrikce zakazuje změny jak v obsahu souboru či adresáře, tak i v jeho vlastní adresářové položce (není možné ji přejmenovat či smazat). Zakazuje i změnu vlastnictví či přístupových práv.">(5)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo chattr <span class="volznak">[</span>-R<span class="volznak">]</span> +i <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">sudo chattr <span class="volznak">[</span>-R<span class="volznak">]</span> -i <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1882055886"><span><a href="#z1882055886">⣼</a></span></span>nastavit/zrušit zvláštní restrikci změn dovolující jen připojování na konec souboru<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo chattr <span class="volznak">[</span>-R<span class="volznak">]</span> +a <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">sudo chattr <span class="volznak">[</span>-R<span class="volznak">]</span> -a <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1227890305"><span><a href="#z1227890305">❫</a></span></span>vypsat všechny nastavené zvláštní restrikce ext4<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla"><span class="volznak">[</span>sudo<span class="volznak">]</span> lsattr <i class="dopln">adresář-popř.-soubor</i><span class="tritecky"></span></div>
</div></div>

<h3 id="cast3x15"><span><a href="#cast3x15" title="kapitola 17 (Soubory a adresáře), sekce 3 (Zaklínadla), podsekce 15 (Ostatní)"><sup>3/</sup>15 Ostatní</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z454409042"><span><a href="#z454409042">⊻</a></span></span>kolik je v adresáři položek?<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -printf \0 | wc -c</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1680947378"><span><a href="#z1680947378">∇</a></span></span>kolik je v adresáři neskrytých souborů/adresářů (bez symbolických odkazů)?<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type f -name '[!.]*' -printf \0 | wc -c</div>
<div class="radekzaklinadla">find <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type d -name '[!.]*' -printf \0 | wc -c</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1044355945"><span><a href="#z1044355945">╅</a></span></span>kolik je v adresáři neskrytých souborů/adresářů (včetně symbolických odkazů)?<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">find -L <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type f -name '[!.]*' -printf \0 | wc -c</div>
<div class="radekzaklinadla">find -L <i class="dopln">adresář</i> -mindepth 1 -maxdepth 1 -type d -name '[!.]*' -printf \0 | wc -c</div>
</div></div>

<h2 id="cast4"><a href="#cast4"><span class="cislo">4.</span> Parametry příkazů</a></h2>

<h3 id="cast4x1"><span><a href="#cast4x1" title="kapitola 17 (Soubory a adresáře), sekce 4 (Parametry příkazů), podsekce 1 (chmod)"><sup>4/</sup>1 chmod</a></span></h3>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">chmod <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span> <i class="dopln">mód</i> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">chmod <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span> <i class="dopln">nastavení,práv,a,příznaků</i> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
</div></div>
<p>
Příklady, jak může vypadat nastavení práv a příznaků najdete v zaklínadlech.
Mód je číselné vyjádření základních práv a zvláštních příznaků v osmičkové soustavě.
</p>
<table class="parametryprikazu"><tbody><tr><td>☐ -R</td><td>Je-li argumentem adresář, provede stejné nastavení i na všech jeho položkách, položkách všech podadresářů a tak dále.</td></tr>

<tr><td>☐ -v</td><td>Vypisovat provedené operace.</td></tr>

</tbody></table>

<h3 id="cast4x2"><span><a href="#cast4x2" title="kapitola 17 (Soubory a adresáře), sekce 4 (Parametry příkazů), podsekce 2 (mkdir)"><sup>4/</sup>2 mkdir</a></span></h3>
<table class="parametryprikazu"><tbody><tr><td>☐ -p</td><td>Vytvoří adresář, pokud ještě neexistuje. Je-li to třeba, vytvoří i nadřazené adresáře.</td></tr>

<tr><td>☐ -v</td><td>Vypisovat provedené operace.</td></tr>

<tr><td>☐ -m <i class="dopln">práva</i></td><td>Vytvořenému adresáři nastaví uvedený mód. Ten může být zadán symbolicky (např. „u=rwx,g=rx,o=“) nebo číselně (např. „755“).</td></tr>

</tbody></table>

<h3 id="cast4x3"><span><a href="#cast4x3" title="kapitola 17 (Soubory a adresáře), sekce 4 (Parametry příkazů), podsekce 3 (setfacl)"><sup>4/</sup>3 setfacl</a></span></h3>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">setfacl <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span> -m &quot;<i class="dopln">nastavení práv</i>&quot; <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">setfacl <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span> -M <i class="dopln">soubor</i> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">setfacl <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span> -x &quot;<i class="dopln">práva ke zrušení</i>&quot; <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">setfacl <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span> -X <i class="dopln">soubor</i> <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">setfacl <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span> -M- <span class="volznak">[</span>--<span class="volznak">]</span> <i class="dopln">cesta</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">setfacl --restore=<i class="dopln">soubor</i></div>
</div></div>
<table class="parametryprikazu"><tbody><tr><td>☐ -b ☐ -k</td><td>Odstraní všechna rozšířená/výchozí přístupová práva.</td></tr>

<tr><td>☐ -d</td><td>Uvedená normální přístupová práva nastaví jako „výchozí“.</td></tr>

<tr><td>☐ -R</td><td>Je-li argumentem adresář, provede stejné nastavení i na všech jeho položkách, položkách všech podadresářů a tak dále.</td></tr>

</tbody></table>

<h2 id="cast5"><a href="#cast5"><span class="cislo">5.</span> Instalace na Ubuntu</a></h2>
<p class="ponadpisu">
Všechny použité nástroje jsou základními součástmi Ubuntu, s výjimkou příkazů „tree“ a „xattr“,
které můžete doinstalovat takto:
</p>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">sudo apt-get install tree xattr</div>
</div></div>

<h2 id="cast6"><a href="#cast6"><span class="cislo">6.</span> Tipy a zkušenosti</a></h2>
<ul><li>Uživatelé a skupiny jsou v souborovém systému uloženy ve formě čísel UID a GID. Proto když uložíte soubor na USB flash disk a přenesete ho na jiný počítač, kde pracujete jako uživatel s jiným UID, může se stát, že tam k souborům na flash disku nebudete mít dostatečná přístupová práva.
</li><li>V Linuxu existují také „výchozí přístupová práva“, což je nastavení přístupových práv na adresáři, které (je-li nastaveno) ovlivňuje přístupová práva nově vyvářených položek; bohužel nelze říci „stanovuje“, ale platí pouze „ovlivňuje“ – na výsledných právech se podílejí i další faktory, nelze rozlišit práva pro soubory a pro adresáře a celé je to dost komplikované a neintuitivní. Zatím jsem naštěstí nanarazil/a na případ, kdy by tuto vlastnost skutečně nějaký program použil.
</li><li>Symbolické odkazy mají vlastníka a skupinu, ale nemají vlastní přístupová práva. Přístup k odkazované položce se vždy řídí jejími přístupovými právy, čtení symbolického odkazu je bez omezení a zápis do něj není dovolen (je nutno místo toho odkaz smazat a vytvořit nový).
</li></ul>
<h2 id="cast7"><a href="#cast7"><span class="cislo">7.</span> Další zdroje informací</a></h2>
<ul class="kompaktni"><li><a href="https://cs.wikipedia.org/wiki/P%C5%99%C3%ADstupov%C3%A1_pr%C3%A1va_v_Unixu">Wikipedie: Přístupová práva v Unixu</a>
</li><li><a href="https://cs.wikipedia.org/wiki/Access_Control_List">Wikipedie: Access Control List</a>
</li><li><a href="https://cs.wikipedia.org/wiki/Setuid">Wikipedie: setuid</a>
</li><li><a href="https://www.tutorialspoint.com/unix_commands/setfacl.htm">Tutorialspoint: setfacl</a> (anglicky)
</li><li>man chmod (anglicky)
</li><li>man getfacl (anglicky)
</li><li>man setfacl (anglicky)
</li><li>man 5 acl (anglicky)
</li><li>man chattr (anglicky)
</li><li><a href="https://www.zyxware.com/articles/2955/how-to-use-getfacl-and-setfacl-to-get-and-set-access-control-lists-acls-on">Článek o getfacl a setfacl</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=WhCIuGjhH-0">YouTube: Basic Linux Access Control</a> (anglicky)
</li><li><a href="https://github.com/tldr-pages/tldr/blob/master/pages/linux/setfacl.md">TL;DR: setfacl</a> (anglicky)
</li><li><a href="https://github.com/tldr-pages/tldr/blob/master/pages/linux/chattr.md">TL;DR: chattr</a> (anglicky)
</li><li><a href="https://github.com/tldr-pages/tldr/blob/master/pages/linux/getfacl.md">TL;DR: getfacl</a> (anglicky)
</li></ul><div class="ppc"><div id="kapsouborydresreppc1"><a href="#kapsouborydresreppcr1" class="cislopozn">1</a>&nbsp;Poznámka: příkaz „find“ odzvláštňuje speciální znaky na svém výstupu, pokud je veden na terminál. Je-li toto chování nežádoucí, nechte jeho výstup ještě projít dalším filtrem, např. „cat“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapsouborydresreppc2"><a href="#kapsouborydresreppcr2" class="cislopozn">2</a>&nbsp;Parametr „-p“: vytvořit adresář, jen pokud ještě neexistuje; a v případě potřeby nejdřív vytvořit adresáře jemu nadřazené.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapsouborydresreppc3"><a href="#kapsouborydresreppcr3" class="cislopozn">3</a>&nbsp;Tuto variantu můžete použít i na jednotlivé soubory.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapsouborydresreppc4"><a href="#kapsouborydresreppcr4" class="cislopozn">4</a>&nbsp;Pozor! Příkaz „touch“ při tomto použití tiše ignoruje neexistující soubory!</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapsouborydresreppc5"><a href="#kapsouborydresreppcr5" class="cislopozn">5</a>&nbsp;Tato zvláštní restrikce zakazuje změny jak v obsahu souboru či adresáře, tak i v jeho vlastní adresářové položce (není možné ji přejmenovat či smazat). Zakazuje i změnu vlastnictví či přístupových práv.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
</div>


<nav class="spodni">
<a href="index.htm" class="naindex">🗐&nbsp;Přehled&nbsp;kapitol</a>
<div class="naslkap">
<a href="sprava-balicku.htm" rel="next" title="17. Správa balíčků">Následující&nbsp;kapitola/dodatek:<br><span class="cislo">17</span>
<span class="nazev">Správa balíčků</span></a>
</div>
<!--<div><a href="index.htm">🗐&nbsp;Přehled&nbsp;kapitol</a></div>-->
<a href="#nahore" id="odkaznahoru" title="NAHORU − na začátek stránky">▴<!--⤒--></a>
<a href="#dole" id="odkazdolu" title="DOLŮ − na konec stránky">▾<!--⤓--></a>
</nav>


<div class="odkazydole"><div><a href="sprava-uzivatelskych-uctu.htm"><img src="obrazky/ik/sprava-uzivatelskych-uctu.png" alt="" width="32" height="32">Správa uživatelských účtů</a><a href="system.htm"><img src="obrazky/ik/system.png" alt="" width="32" height="32">Systém</a><a href="hledani-souboru.htm"><img src="obrazky/ik/hledani-souboru.png" alt="" width="32" height="32">Hledání souborů</a></div></div>


</article>
<nav class="menu">
<!-- MENU KAPITOLY -->
<a href="#menukapitoly" id="menukapitoly"><span class="prvnipismeno">K</span>apitoly</a>
<aside class="menukapitoly">
<div><div class="nadpis">Kapitoly</div><div class="polozky">
<a href="predmluva.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/predmluva.png" alt="[]"></span><span class="cislo">1</span><span class="nazev">Předmluva</span></a>
<a href="awk.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/awk.png" alt="[]"></span><span class="cislo">2</span><span class="nazev">AWK</span></a>
<a href="barvy-a-titulek.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/barvy-a-titulek.png" alt="[]"></span><span class="cislo">3</span><span class="nazev">Barvy, titulek a výzva terminálu</span></a>
<a href="datum-cas-kalendar.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/datum-cas-kalendar.png" alt="[]"></span><span class="cislo">4</span><span class="nazev">Datum, čas a kalendář</span></a>
<a href="diskove-oddily.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/diskove-oddily.png" alt="[]"></span><span class="cislo">5</span><span class="nazev">Diskové oddíly</span></a>
<a href="docker.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/docker.png" alt="[]"></span><span class="cislo">6</span><span class="nazev">Docker</span></a>
<a href="git.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/git.png" alt="[]"></span><span class="cislo">7</span><span class="nazev">Git</span></a>
<a href="hledani-souboru.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/hledani-souboru.png" alt="[]"></span><span class="cislo">8</span><span class="nazev">Hledání souborů</span></a>
<a href="make.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/make.png" alt="[]"></span><span class="cislo">9</span><span class="nazev">Make</span></a>
<a href="markdown.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/markdown.png" alt="[]"></span><span class="cislo">10</span><span class="nazev">Markdown</span></a>
<a href="planovani-uloh.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/planovani-uloh.png" alt="[]"></span><span class="cislo">11</span><span class="nazev">Plánování úloh</span></a>
<a href="prace-s-archivy.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/prace-s-archivy.png" alt="[]"></span><span class="cislo">12</span><span class="nazev">Práce s archivy</span></a>
<a href="promenne.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/promenne.png" alt="[]"></span><span class="cislo">13</span><span class="nazev">Proměnné prostředí a interpretu</span></a>
<a href="regularni-vyrazy.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/regularni-vyrazy.png" alt="[]"></span><span class="cislo">14</span><span class="nazev">Regulární výrazy</span></a>
<a href="sed.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sed.png" alt="[]"></span><span class="cislo">15</span><span class="nazev">Sed</span></a>
<a href="soubory-a-adresare.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/soubory-a-adresare.png" alt="[]"></span><span class="cislo">16</span><span class="nazev">Soubory a adresáře</span></a>
<a href="sprava-balicku.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-balicku.png" alt="[]"></span><span class="cislo">17</span><span class="nazev">Správa balíčků</span></a>
<a href="sprava-procesu.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-procesu.png" alt="[]"></span><span class="cislo">18</span><span class="nazev">Správa procesů</span></a>
<a href="sprava-uzivatelskych-uctu.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-uzivatelskych-uctu.png" alt="[]"></span><span class="cislo">19</span><span class="nazev">Správa uživatelských účtů</span></a>
<a href="system.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/system.png" alt="[]"></span><span class="cislo">20</span><span class="nazev">Systém</span></a>
<a href="vim.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/vim.png" alt="[]"></span><span class="cislo">21</span><span class="nazev">Vim</span></a>
<a href="zpracovani-textovych-souboru.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/zpracovani-textovych-souboru.png" alt="[]"></span><span class="cislo">22</span><span class="nazev">Zpracování textových souborů</span></a>
<a href="zpracovani-videa-a-zvuku.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/zpracovani-videa-a-zvuku.png" alt="[]"></span><span class="cislo">23</span><span class="nazev">Zpracování videa a zvuku</span></a>
<a href="licence.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik-vychozi.png" alt="[]"></span><span class="cislo">24</span><span class="nazev">Licence</span></a>
</div></div>
<a href="#zavritmenu" id="zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU OSNOVA -->
<a href="#menuosnova" id="menuosnova"><span class="prvnipismeno">O</span>snova</a>
<aside class="menuosnova">
<div><div class="nadpis">Osnova</div><div class="polozky">
<a href="#cast1" class="sekce">1 Úvod</a>
<a href="#cast2" class="sekce">2 Definice</a>
<a href="#cast2x1" class="podsekce">/1 Přístupová práva souborů a adresářů</a>
<a href="#cast2x2" class="podsekce">/2 Zvláštní příznaky</a>
<a href="#cast2x3" class="podsekce">/3 Superuživatel</a>
<a href="#cast3" class="sekce">3 Zaklínadla</a>
<a href="#cast3x1" class="podsekce">/1 Vypsat seznam adresářových položek (pro člověka)</a>
<a href="#cast3x2" class="podsekce">/2 Vypsat seznam adresářových položek (pro skript)</a>
<a href="#cast3x3" class="podsekce">/3 Testy</a>
<a href="#cast3x4" class="podsekce">/4 Srovnání</a>
<a href="#cast3x5" class="podsekce">/5 Zjistit údaje</a>
<a href="#cast3x6" class="podsekce">/6 Aktuální adresář</a>
<a href="#cast3x7" class="podsekce">/7 Vytvořit adresářovou položku</a>
<a href="#cast3x8" class="podsekce">/8 Přejmenovat či smazat adresářovou položku</a>
<a href="#cast3x9" class="podsekce">/9 Nastavit přístupová práva</a>
<a href="#cast3x10" class="podsekce">/10 Změnit čas, vlastnictví a skupinu</a>
<a href="#cast3x11" class="podsekce">/11 Přenést přístupová práva</a>
<a href="#cast3x12" class="podsekce">/12 Zvláštní příznaky (nastavit)</a>
<a href="#cast3x13" class="podsekce">/13 Uživatelské rozšířené atributy ext4 (URA)</a>
<a href="#cast3x14" class="podsekce">/14 Zvláštní restrikce ext4</a>
<a href="#cast3x15" class="podsekce">/15 Ostatní</a>
<a href="#cast4" class="sekce">4 Parametry příkazů</a>
<a href="#cast4x1" class="podsekce">/1 chmod</a>
<a href="#cast4x2" class="podsekce">/2 mkdir</a>
<a href="#cast4x3" class="podsekce">/3 setfacl</a>
<a href="#cast5" class="sekce">5 Instalace na Ubuntu</a>
<a href="#cast6" class="sekce">6 Tipy a zkušenosti</a>
<a href="#cast7" class="sekce">7 Další zdroje informací</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU ŠTÍTKY -->
<a href="#menustitky" id="menustitky"><span class="prvnipismeno">Š</span>títky</a>
<aside class="menustitky">
<div><div class="nadpis">Štítky</div><div class="polozky">
<a href="x-stitky.htm#sdrese">adresáře&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#spt">apt&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sbrvy">barvy&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sbsh">bash&nbsp;&nbsp;(3)</a>
<a href="x-stitky.htm#scs">čas&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#sdmoni">démoni&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#seditor">editor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sfltpk">Flatpak&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#shledn">hledání&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sklvesnice">klávesnice&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#skomprese">komprese&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#skontejnery">kontejnery&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#slvm">LVM&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sodkldcprostor">odkládací prostor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sovldn">ovládání&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sprocesy">procesy&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sprogrm">program&nbsp;&nbsp;(6)</a>
<a href="x-stitky.htm#sprogrmovn">programování&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#spstupovprv">přístupová práva&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#srmdisk">ramdisk&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssnp">Snap&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssoubory">soubory&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssprvverz">správa verzí&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssyntxe">syntaxe&nbsp;&nbsp;(4)</a>
<a href="x-stitky.htm#ssystm">systém&nbsp;&nbsp;(6)</a>
<a href="x-stitky.htm#stemtickokruh">tematický okruh&nbsp;&nbsp;(14)</a>
<a href="x-stitky.htm#svideo">video&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#svirtulizce">virtualizace&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szip">zip&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szprcovntextu">zpracování textu&nbsp;&nbsp;(4)</a>
<a href="x-stitky.htm#szvuk">zvuk&nbsp;&nbsp;(1)</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU NÁPOVĚDA -->
<a href="#menunapoveda" id="menunapoveda"><span class="prvnipismeno">N</span>ápověda</a>
<aside class="menunapoveda">
<div><div class="nadpis">Nápověda</div><div class="polozky">
<a href="predmluva.htm">Předmluva</a>
<a href="https://singularis-mzf.github.io/">Ostatní verze knihy</a>
<a href="https://github.com/singularis-mzf/linux-spellbook">Repozitář na GitHubu</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>

</nav>
<!-- *** -->
<footer id="dole">
<img src="obrazky/by-sa.png" width="88" height="31" alt="[BY-SA]">
<p>Veškerý obsah této stránky (text, obrázky, zdrojový kód) je možno upravovat a šířit pod podmínkami licence
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>.
Upozorňuji, že uvedená licence vyžaduje uvedení seznamu autorů, licence a zdroje a poskytnutí stejné
či kompatibilní licence k provedeným změnám, jsou-li nějaké. Příslušné údaje jsou dostupné
na stránce „<a href="x-autori.htm">Přehled autorů</a>“.
Šíření obsahu bez těchto údajů nebo šíření upravené verze bez poskytnutí adekvátní
licence k provedeným úpravám je pravděpodobně porušení licenčních podmínek a může být postihováno.
Poskytování zdrojového kódu při šíření není touto licencí vyžadováno.</p><p>Pro nové verze, další informace, aktuální zdrojový kód
a možnost se zapojit do projektu „Linux: Kniha kouzel“ navštivte jeho
<a href="https://github.com/singularis-mzf/linux-spellbook">repozitář na GitHubu</a>.
</footer>
</body>
</html>
