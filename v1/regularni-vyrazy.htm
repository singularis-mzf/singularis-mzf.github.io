<!doctype html>
<html lang="cs">
<head profile="http://www.w3.org/2005/10/profile">
<meta charset="UTF-8">
<title>Regulární výrazy − Linux: Kniha kouzel</title>
<link rel="stylesheet" type="text/css" href="lkk.css">
<link rel="icon" type="image/png" href="obrazky/favicon.png">
</head>
<body>
<header>
<span class="left"><img src="obrazky/favicon.png" width="16" height="16" alt=""> Linux: Kniha kouzel, vanilková příchuť 1.1</span>
<span class="right"><span class="ico1"></span><span class="ico2"></span><span class="ico3"></span></span>
</header>
<nav class="horni">
<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>
<span class="prev">
<a href="prace-s-archivy.htm" rel="prev" title="11. Práce s archivy" accesskey="p">Předchozí&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm" accesskey="i">Přehled</a><span class="next"><!--
-->&nbsp;| <a href="sprava-balicku.htm" rel="next" title="13. Správa balíčků" accesskey="n">Následující&nbsp;kapitola</a>
</span>
</nav>
<article>
<h1>12. Regulární výrazy</h1>
<div class="stitky"><span>syntaxe</span>
<span>zpracování textu</span></div><div class="rozcestnikkapitol">
<a href="#cast1">Úvod</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast2">Definice</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast3">Zaklínadla</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast4">Parametry příkazů</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast5">Instalace na Ubuntu</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast6">Tipy a zkušenosti</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast7">Jak získat nápovědu</a><span class="oddelovac">&nbsp;|</span>
<a href="#cast8">Odkazy</a><span class="oddelovac">&nbsp;|</span>
</div>
<h2 id="cast1"><span class="cislo">1.</span> Úvod</h2>
<p class="ponadpisu">
Regulární výraz je řetězec speciálních a obyčejných znaků, který slouží
k formálnímu popsání množiny textových řetězců splňujících určité
syntaktické parametry. Např. celá čísla můžeme popsat výrazem
„0|-?[1-9][0-9]*“ a poštovní směrovací čísla výrazem „[0-9]{3} [0-9]{2}“.
</p><p>
Regulární výrazy se používají při vyhledávání, filtrování, zpracování textu
a kontrole syntaxe; objevují se ve většině programovacích jazyků,
ale neprogramátoři je využijí např. při nastavení filtrování e-mailů
či při vyhledávání komplikovanějších konstrukcí v textových editorech.
</p><p>
V Linuxu se bohužel vyskytují tři různé syntaxe regulárních výrazů − základní
regulární výrazy, rozšířené regulární výrazy a regulární výrazy jazyka Perl.
Z praktických důvodů považuji za nejdůležitější rozšířené regulární výrazy,
a proto kdykoliv napíšu „regulární výraz“ bez dalšího upřesnění, mám na mysli
rozšířený regulární výraz. Kde se od sebe syntaxe liší, bude to u zaklínadel
upřesněno; kde není uvedena samostatná varianta pro Perl, platí pro Perl
varianta pro rozšířený regulární výraz.
</p>

<h2 id="cast2"><span class="cislo">2.</span> Definice</h2>
<ul style="text-align:justify"><li>Jako <b>atom</b> z praktických důvodů označuji nejkratší část regulárního výrazu, která končí na dané pozici a tvořila by syntakticky správný regulární výraz sama o sobě. Atomem je např. „a“, „[abc]“, „(a|b)?“ či „\s+“, ale ne „a|b“, protože „b“ je kratší a samo o sobě tvoří syntakticky platný regulární výraz.
</li><li><b>Kvantifikátor</b> je speciální podřetězec, který se zapisuje za atom a určuje dovolený počet opakování.
</li><li><b>Kotva</b> a <b>hranice</b> jsou speciální atomy k testování pozice, např. „^“ nebo „\&lt;“. Odpovídají fiktivnímu prázdnému podřetězci na jednoznačné pozici (u kotvy) nebo na všech pozicích splňujících dané podmínky (u hranice). Zvláštním případem hranice je <b>vyhlížení</b>.
</li><li><b>Shoda</b> (match) je podřetězec testovaného řetězce, který celý vyhovuje požadavkům daného regulárního výrazu. Pokud na stejné pozici řetězce začíná víc takových podřetězců, shodou s regulárním výrazem je pouze ten nejdelší z nich. Proto např. regulární výraz „.*“ má v každém testovaném řetězci pouze jedinou shodu − celý řetězec, přestože by jeho požadavkům odpovídal i jakýkoliv podřetězec.
</li><li>Řetězec <b>odpovídá</b> regulárnímu výrazu, pokud s ním má alespoň jednu shodu, a to i tehdy, pokud jako celek požadavky regulárního výrazu nesplňuje. Tzn. řetězec „abc“ regulárnímu výrazu „b“ odpovídá. Prázdnému regulárnímu výrazu odpovídá každý řetězec.
</li></ul>
<h2 id="cast3"><span class="cislo">3.</span> Zaklínadla</h2>

<h3 id="cast3x1"><span class="cislo">1</span> Jednotlivé znaky</h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span>konkrétní znak<sup><a href="#kapregularnivyrazyppc1" id="kapregularnivyrazyppcr1">(1)</a></sup></div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">znak</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><b>libovolný znak</b></div><div class="radky">
<div class="radekzaklinadla">.</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span>kterýkoliv <b>z uvedených znaků</b><sup><a href="#kapregularnivyrazyppc2" id="kapregularnivyrazyppcr2">(2)</a></sup></div><div class="radky">
<div class="radekzaklinadla">[<i class="dopln">znaky</i>]</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span>libovolný znak <b>kromě uvedených</b></div><div class="radky">
<div class="radekzaklinadla">[^<i class="dopln">znaky</i>]</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#5 </span>všechny znaky po první výskyt některého z uvedených/případně až do konce řetězce</div><div class="radky">
<div class="radekzaklinadla">[^<i class="dopln">znaky</i>]*[<i class="dopln">znaky</i>]</div>
<div class="radekzaklinadla">[^<i class="dopln">znaky</i>]*</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#6 </span><b>bílý znak</b>/nebílý znak</div><div class="radky">
<div class="radekzaklinadla">\s</div>
<div class="radekzaklinadla">\S</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#7 </span>desítková <b>číslice</b> (rozšířený/základní/Perl)</div><div class="radky">
<div class="radekzaklinadla">[0-9]</div>
<div class="radekzaklinadla">[0-9]</div>
<div class="radekzaklinadla">\d</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#8 </span>jiný znak než desítková číslice (rozšířený/základní/Perl)</div><div class="radky">
<div class="radekzaklinadla">[^0-9]</div>
<div class="radekzaklinadla">[^0-9]</div>
<div class="radekzaklinadla">\D</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#9 </span>závorky „()[]{}“ (rozšířený/ základní)</div><div class="radky">
<div class="radekzaklinadla">[(][)]\[\]\{\}</div>
<div class="radekzaklinadla">[(][)]\[\]{}</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#10 </span>libovolný alfanumerický znak, i národní abecedy (rozšířený/základní/Perl)</div><div class="radky">
<div class="radekzaklinadla">[[:alnum:]]</div>
<div class="radekzaklinadla">[[:alnum:]]</div>
<div class="radekzaklinadla">\w</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#11 </span>libovolný znak kromě alfanumerických (rozšířený/základní/Perl)</div><div class="radky">
<div class="radekzaklinadla">[^[:alnum:]]</div>
<div class="radekzaklinadla">[^[:alnum:]]</div>
<div class="radekzaklinadla">\W</div>
</div></div>

<h3 id="cast3x2"><span class="cislo">2</span> Kvantifikátory (operátory opakování)</h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span><b>jednou nebo vůbec</b> (&lt;= 1)(rozšířený/základní)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">atom</i>?</div>
<div class="radekzaklinadla"><i class="dopln">atom</i>\?</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span><b>libovolněkrát</b> (&gt;= 0)(rozšířený/základní)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">atom</i>*</div>
<div class="radekzaklinadla"><i class="dopln">atom</i>*</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span><b>jednou nebo víckrát</b> (&gt;= 1)(rozšířený/základní)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">atom</i>+</div>
<div class="radekzaklinadla"><i class="dopln">atom</i>\+</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span>přesně N-krát (rozšířený/základní)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">atom</i>{<i class="dopln">N</i>}</div>
<div class="radekzaklinadla"><i class="dopln">atom</i>\{<i class="dopln">N</i>\}</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#5 </span>M- až N-krát včetně (rozšířený/základní)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">atom</i>{<i class="dopln">M</i>,<i class="dopln">N</i>}</div>
<div class="radekzaklinadla"><i class="dopln">atom</i>\{<i class="dopln">M</i>,<i class="dopln">N</i>\}</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#6 </span>M- nebo víckrát (rozšířený/základní)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">atom</i>{<i class="dopln">M</i>,}</div>
<div class="radekzaklinadla"><i class="dopln">atom</i>\{<i class="dopln">M</i>,\}</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#7 </span>maximálně N-krát (rozšířený/základní)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">atom</i>{,<i class="dopln">N</i>}</div>
<div class="radekzaklinadla"><i class="dopln">atom</i>\{,<i class="dopln">N</i>\}</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#8 </span>snažit se opakovat co nejméně (non-greedy)(jen Perl)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">atom</i><i class="dopln">kvantifikátor</i>?</div>
</div></div>

<h3 id="cast3x3"><span class="cislo">3</span> Operátor „nebo“</h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span>některý z podvýrazů (rozšířený/základní)</div><div class="radky">
<div class="radekzaklinadla"><i class="dopln">výraz 1</i><span class="volznak">[</span>|<i class="dopln">další výraz</i><span class="volznak">]</span><span class="tritecky"></span></div>
<div class="radekzaklinadla"><i class="dopln">výraz 1</i><span class="volznak">[</span>\|<i class="dopln">další výraz</i><span class="volznak">]</span><span class="tritecky"></span></div>
</div></div>

<h3 id="cast3x4"><span class="cislo">4</span> Kotvy a hranice (pozice)</h3>
<p class="ponadpisu">
Kotvy a řetězce odpovídají fiktivnímu prázdnému řetězci na určité pozici.
</p>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span>začátek/konec testovaného řetězce (rozšířený i základní, mimo víceřádkový režim)</div><div class="radky">
<div class="radekzaklinadla">^</div>
<div class="radekzaklinadla">$</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span>začátek/konec testovaného řetězce (ve víceřádkovém režimu)<sup><a href="#kapregularnivyrazyppc3" id="kapregularnivyrazyppcr3">(3)</a></sup></div><div class="radky">
<div class="radekzaklinadla">\`</div>
<div class="radekzaklinadla">\'</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span>začátek/konec řádku (rozšířený i základní, ve víceřádkovém režimu)</div><div class="radky">
<div class="radekzaklinadla">^</div>
<div class="radekzaklinadla">$</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span>začátek slova (rozšířený a základní/Perl)</div><div class="radky">
<div class="radekzaklinadla">\&lt;</div>
<div class="radekzaklinadla">\b(?=\w)</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#5 </span>konec slova (rozšířený a základní/Perl)</div><div class="radky">
<div class="radekzaklinadla">\&gt;</div>
<div class="radekzaklinadla">\b(?&lt;=\w)</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#6 </span>začátek nebo konec slova (rozšířený/základní/Perl)</div><div class="radky">
<div class="radekzaklinadla">(\&lt;|\&gt;)</div>
<div class="radekzaklinadla">\(\&lt;\|\&gt;\)</div>
<div class="radekzaklinadla">\b</div>
</div></div>

<h3 id="cast3x5"><span class="cislo">5</span> Seskupení</h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span>seskupení (rozšířený/základní)</div><div class="radky">
<div class="radekzaklinadla">(<i class="dopln">podvýraz</i>)</div>
<div class="radekzaklinadla">\(<i class="dopln">podvýraz</i>\)</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span>seskupení bez zapamatování (jen Perl)</div><div class="radky">
<div class="radekzaklinadla">(?:<i class="dopln">podvýraz</i>)</div>
</div></div>

<h3 id="cast3x6"><span class="cislo">6</span> Paměť (omezená podpora)</h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span>původní podřetězec odpovídající celému regulárnímu výrazu (rozšířený a základní/Perl)<sup><a href="#kapregularnivyrazyppc4" id="kapregularnivyrazyppcr4">(4)</a></sup></div><div class="radky">
<div class="radekzaklinadla">&amp;</div>
<div class="radekzaklinadla">$&amp;</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span>podřetězec původního řetězce odpovídající seskupení (rozšířený i základní/Perl)<sup><a href="#kapregularnivyrazyppc5" id="kapregularnivyrazyppcr5">(5)</a></sup></div><div class="radky">
<div class="radekzaklinadla">\<i class="dopln">pořadové-číslo-1-až-9</i></div>
<div class="radekzaklinadla">$<i class="dopln">pořadové-číslo-1-až-9</i></div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span>totéž, ale první písmeno malé/velké<sup><a href="#kapregularnivyrazyppc6" id="kapregularnivyrazyppcr6">(6)</a></sup></div><div class="radky">
<div class="radekzaklinadla">\l\<i class="dopln">pořadové-číslo-1-až-9</i>\E</div>
<div class="radekzaklinadla">\u\<i class="dopln">pořadové-číslo-1-až-9</i>\E</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span>totéž, ale celý text malými/velkými písmeny<sup><a href="#kapregularnivyrazyppc7" id="kapregularnivyrazyppcr7">(7)</a></sup></div><div class="radky">
<div class="radekzaklinadla">\L\<i class="dopln">pořadové-číslo-1-až-9</i>\E</div>
<div class="radekzaklinadla">\U\<i class="dopln">pořadové-číslo-1-až-9</i>\E</div>
</div></div>

<h3 id="cast3x7"><span class="cislo">7</span> Vyhlížení (jen Perl)</h3>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span>ověřit, že za aktuální pozicí <b>následuje</b> shoda s daným regulárním podvýrazem</div><div class="radky">
<div class="radekzaklinadla">(?=<i class="dopln">podvýraz</i>)</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span>ověřit, že za aktuální pozicí <b>nenásleduje</b> shoda s daným regulárním podvýrazem</div><div class="radky">
<div class="radekzaklinadla">(?!<i class="dopln">podvýraz</i>)</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span>ověřit, že aktuální pozici <b>předchází</b> shoda s daným regulárním podvýrazem</div><div class="radky">
<div class="radekzaklinadla">(?&lt;=<i class="dopln">podvýraz</i>)</div>
</div></div>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span>ověřit, že aktuální pozici <b>nepředchází</b> shoda s daným regulárním podvýrazem</div><div class="radky">
<div class="radekzaklinadla">(?&lt;!<i class="dopln">podvýraz</i>)</div>
</div></div>

<h2 id="cast4"><span class="cislo">4.</span> Parametry příkazů</h2>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#1 </span>egrep</div><div class="radky">
<div class="radekzaklinadla">egrep <i class="dopln">parametry</i> <span class="volznak">[</span>-e<span class="volznak">]</span> '<i class="dopln">regulární výraz</i>' <span class="volznak">[</span><i class="dopln">soubor</i><span class="volznak">]</span><span class="tritecky"></span></div>
</div></div>
<ul style="text-align:left"><li><b>-v</b> :: Logická negace; hledat řádky, které nevyhovují výrazu.
</li><li><b>-x</b> :: Regulárnímu výrazu musí odpovídat celá řádka (výchozí chování: jakýkoliv podřetězec řádku).
</li><li><b>-q</b> :: Žádný normální výstup, jen otestuje, zda by našel alespoň jeden vyhovující řádek. Parametr <b>-s</b> zase potlačí chybová hlášení.
</li><li><b>-i</b> :: Nerozlišovat velká a malá písmena.
</li><li><b>-C</b> <i class="dopln">počet</i> :: „kontext“ Kromě vyhovujícího řádku vypíše zadaný počet předchozích a následujících. (Samostatně lze tyto počty nastavit parametry <b>-A</b> a <b>-B</b>.)
</li><li><b>-o</b> :: Místo celých řádků vypisuje jednotlivé podřetězce vyhovující výrazu, každý podřetězec na samostatný řádek.
</li><li><b>-h</b> :: Vyhledává-li se ve více souborech, neuvede se jako prefix řádky název souboru.
</li><li><b>-H</b> :: Vždy uvede jako prefix řádku název souboru.
</li><li><b>-n</b> :: Jako prefix bude vypisovat číslo řádky.
</li><li><b>-m</b> <i class="dopln">N</i> :: Ukončí hledání po nalezení N vyhovujících řádků.
</li><li><b>-z</b> :: Řádky vstupních souborů jsou ukončeny nulovým bajtem; znak \n bude považovat za za normální znak.
</li></ul><p>
Poznámka: příkaz „grep“ má tytéž parametry jako „egrep“, ale pracuje se základními regulárními výrazy.
</p>
<div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#2 </span>gawk</div><div class="radky">
<div class="radekzaklinadla">gawk <span class="volznak">[</span><i class="dopln">parametry</i><span class="volznak">]</span> '/<i class="dopln">regulární výraz</i>/<span class="volznak">[</span>{<i class="dopln">příkazy</i>}<span class="volznak">]</span>' <i class="dopln">soubor</i><span class="tritecky"></span></div>
</div></div>
<ul style="text-align:left"><li><b>-F</b> <i class="dopln">hodnota</i> :: Nastaví systémovou proměnnou „FS“ (field separator) na uvedenou hodnotu.
</li><li><b>-v</b> <i class="dopln">proměnná</i><b>=</b><i class="dopln">hodnota</i> :: Nastaví proměnnou na uvedenou hodnotu.
</li><li><b>-S</b> :: Spustí skript v „bezpečném režimu“, kdy nemůže volat příkazy bashe, spouštět jiné programy ani otevírat další soubory.
</li></ul><div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#3 </span>perl</div><div class="radky">
<div class="radekzaklinadla">perl -nwe 'if ($_ =~ /<i class="dopln">regulární výraz Perlu</i>/) {print $_}' &lt;<i class="dopln">vstupní-soubor</i></div>
<div class="radekzaklinadla">perl -pwe 's/<i class="dopln">regulární výraz Perlu</i>/<i class="dopln">výraz náhrady</i>/<span class="volznak">[</span>g<span class="volznak">]</span>' &lt;<i class="dopln">vstupní-soubor</i></div>
</div></div>
<ul style="text-align:left"><li><b>-n</b> :: Vykoná program v cyklu pro každý řádek vstupu.
</li><li><b>-p</b> :: Vykoná program v cyklu pro každý řádek vstupu a na konci každého cyklu vypíše proměnnou „$_“.
</li><li><b>-w</b> :: Zapne užitečná varování. (<b>-W</b> zapne všechna varování.)
</li><li><b>-e</b> <i class="dopln">program</i> :: Vykoná tento program místo načtení programu ze souboru.
</li><li><b>-X</b> :: Vypne všechna varování.
</li></ul><div class="zaklinadlo"><hr><div class="zahlavi"><span class="cislo">#4 </span>sed</div><div class="radky">
<div class="radekzaklinadla">sed <i class="dopln">parametry</i> <span class="volznak">[</span><span class="volznak">[</span>-e <i class="dopln">příkazy</i><span class="volznak">]</span><span class="tritecky"></span> -e<span class="volznak">]</span> <i class="dopln">příkazy</i> <span class="volznak">[</span><i class="dopln">vstupní-soubor</i><span class="volznak">]</span><span class="tritecky"></span></div>
</div></div>
<ul style="text-align:left"><li><b>-E</b> :: Používá rozšířené regulární výrazy místo základních.
</li><li><b>-i</b> :: „in-place“ Výstupem přepíše původní soubor.
</li><li><b>-z</b> :: Řádek končí nulovým bajtem, ne znakem \n.
</li><li><b>-u</b> :: „unbuffered“ Čte a zapisuje data po jednotlivých řádcích. (Normálně je kvůli výkonu načítá po delších blocích.)
</li></ul>
<h2 id="cast5"><span class="cislo">5.</span> Instalace na Ubuntu</h2>
<p class="ponadpisu">
Příkazy „egrep“, „grep“, „perl“ a „sed“ jsou základními součástmi
Ubuntu. Příkaz „gawk“ je nutné doinstalovat, nebo místo něj použít méně
schopný příkaz „awk“, který je základní součástí Ubuntu.
</p>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">sudo apt-get install gawk</div>
</div></div>
<p>
Regulární výrazy jsou používány i v mnoha dalších programech.
</p>

<h2 id="cast6"><span class="cislo">6.</span> Tipy a zkušenosti</h2>
<ul style="text-align:justify"><li>V Perlu se k označení desítkové číslice běžně používá podvýraz „\d“; v jiných syntaxích regulárních výrazů ovšem není podporován, proto doporučuji zvyknout si na podvýraz „[0-9]“, který je čitelnější a je podporovaný opravdu všude.
</li><li>Parametr -o u příkazu „egrep“ lze efektivně využít při počítání ne-ASCII znaků. Počet znaků č, š a ž v textu zjistíte příkazem „egrep -o '[čšž]' | wc -l“.
</li><li>Regulární výrazy jsou přezdívány „write-only language“, protože bývá výrazně snazší je napsat než přečíst a pochopit. Než začnete rozumět cizím regulárním výrazům, musíte získat značné zkušenosti s psaním svých vlastních.
</li><li>Ve výrazech typu „&quot;[^&quot;]*&quot;“ často zapomínám kvantifikátor + či *.
</li></ul>
<h2 id="cast7"><span class="cislo">7.</span> Jak získat nápovědu</h2>
<p class="ponadpisu">
Pro samotné regulární výrazy je k dispozici velké množství webových stránek (viz Odkazy),
ale většinou jsou zbytečné, protože s referenční příručkou (resp. s touto kapitolou)
budete pravděpodobně schopen/a požadovaný regulární výraz vymyslet sám/a.
</p><p>
Pro zmíněné programy:
</p>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">egrep --help</div>
<div class="radekzaklinadla">man gawk</div>
<div class="radekzaklinadla">perl --help</div>
</div></div>

<h2 id="cast8"><span class="cislo">8.</span> Odkazy</h2>
<ul style="text-align:left"><li><a href="https://www.regularnivyrazy.info/">Web regularnivyrazy.info</a>
</li><li><a href="https://youtu.be/dOKydwMDYUU">Přednáška Lukáše Bařinky: Bash a regulární výrazy vs shellovské vzory</a>
</li><li><a href="https://www.regularnivyrazy.info/serial-php-pcre-perl-compatible.html">Seriál Regulární výrazy v PHP (Perl-compatible)</a>
</li><li><a href="https://www.root.cz/serialy/regularni-vyrazy/">Seriál článků na Root.cz</a>
</li><li><a href="https://cs.wikipedia.org/wiki/Regul%C3%A1rn%C3%AD_v%C3%BDraz">Článek Regulární výraz na Wikipedii</a>
</li><li>Kniha: GOYVAERTS, Jan a Steven LEVITHAN. <i>Regulární výrazy: kuchařka programátora.</i> Brno: Computer Press, 2010. ISBN 978-80-251-1935-8.
</li><li><a href="http://www.regexp.cz/index.php">Online tester regulárních výrazů</a>
</li><li><a href="https://youtu.be/HHh-U0dZcOc">Přednáška Milana Davídka: Regulární výrazy</a>
</li><li><a href="https://miroslavpecka.cz/blog/regularni-vyrazy-vse-co-jste-o-nich-chteli-vedet/">Článek na blogu Miroslava Pecky</a>
</li><li><a href="https://www.regular-expressions.info/">Web Regular-Expressions.info</a> (anglicky)
</li><li><a href="https://www.rexegg.com/">Web RexEgg</a> (anglicky)
</li><li><a href="https://www.gnu.org/software/gawk/manual/">Online příručka GNU awk</a> (anglicky)
</li><li><a href="https://www.gnu.org/software/sed/manual/">Online příručka GNU sed</a> (anglicky)
</li><li><a href="https://perldoc.perl.org/perlre.html">Online příručka modulu perlre</a> (anglicky)
</li><li><a href="http://manpages.ubuntu.com/manpages/bionic/en/man1/grep.1.html">Manuálová stránka: grep</a> (anglicky)
</li><li><a href="http://manpages.ubuntu.com/manpages/bionic/en/man3/pcrepattern.3.html">Manuálová stránka: pcrepattern</a> (anglicky)
</li><li><a href="https://packages.ubuntu.com/bionic/gawk">Balíček „gawk“</a> (anglicky)
</li><li><a href="https://packages.ubuntu.com/bionic/perl">Balíček „perl“</a> (anglicky)
</li><li><a href="https://packages.ubuntu.com/bionic/sed">Balíček „sed“</a> (anglicky)
</li></ul><div class="ppc"><div id="kapregularnivyrazyppc1"><a href="#kapregularnivyrazyppcr1" class="cislopozn">1</a>&nbsp;Některé znaky musejí být v regulárních výrazech pro zbavení svého speciálního významu escapovány zpětným lomítkem.</div>
<div id="kapregularnivyrazyppc2"><a href="#kapregularnivyrazyppcr2" class="cislopozn">2</a>&nbsp;Uvnitř těchto hranatých závorek se speciální znaky neescapují zpětným lomítkem, ale uvedením na určitou pozici.</div>
<div id="kapregularnivyrazyppc3"><a href="#kapregularnivyrazyppcr3" class="cislopozn">3</a>&nbsp;Podpora těchto kotev v programech je omezená, ale gawk, sed i perl je podporují.</div>
<div id="kapregularnivyrazyppc4"><a href="#kapregularnivyrazyppcr4" class="cislopozn">4</a>&nbsp;Tato konstrukce je v programech „gawk“ a „perl“ rozeznávána jako speciální pouze v řetězci pro náhradu, nikoliv přímo v regulárním výrazu.</div>
<div id="kapregularnivyrazyppc5"><a href="#kapregularnivyrazyppcr5" class="cislopozn">5</a>&nbsp;Poznámka: gawk tuto funkci nepodporuje vůbec. V Perlu se syntaxe liší mezi regulárním výrazem (\číslo) a řetězcem pro náhradu ($číslo), v sedu se v obou případech používá jen syntaxe „\číslo“.</div>
<div id="kapregularnivyrazyppc6"><a href="#kapregularnivyrazyppcr6" class="cislopozn">6</a>&nbsp;Tuto variantu podporuje pravděpodobně jen Perl a sed a smí se vyskytnout pouze v řetězci pro náhradu, nikoliv přímo ve vlastním regulárním výrazu.</div>
<div id="kapregularnivyrazyppc7"><a href="#kapregularnivyrazyppcr7" class="cislopozn">7</a>&nbsp;Viz poznámku k předchozímu zaklínadlu.</div>
<div class="zrusitzvyrazneni" id="zzv"><a href="#zzv">zrušit zvýraznění poznámky pod čarou</a></div></div>
<nav class="spodni"><span class="prev">
<a href="prace-s-archivy.htm" rel="prev" title="11. Práce s archivy">Předchozí&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm">Přehled</a><span class="next"><!--
-->&nbsp;| <a href="sprava-balicku.htm" rel="next" title="13. Správa balíčků">Následující&nbsp;kapitola</a>
</span>
</nav>
</article>
<footer>
<img src="obrazky/by-sa.png" width="88" height="31" alt="[BY-SA]">
<p>Veškerý obsah této stránky (text, obrázky, zdrojový kód) je možno upravovat a šířit pod podmínkami licence
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>.
Upozorňuji, že uvedená licence vyžaduje uvedení seznamu autorů, licence a zdroje a poskytnutí stejné
či kompatibilní licence k provedeným změnám, jsou-li nějaké. Příslušné údaje jsou dostupné
na stránce „<a href="_autori.htm">Přehled autorů</a>“.
Šíření obsahu bez těchto údajů nebo šíření upravené verze bez poskytnutí adekvátní
licence k provedeným úpravám je pravděpodobně porušení licenčních podmínek a může být postihováno.
Poskytování zdrojového kódu při šíření není touto licencí vyžadováno.</p><p>Pro nové verze, další informace, aktuální zdrojový kód
a možnost se zapojit do projektu „Linux: Kniha kouzel“ navštivte jeho
<a href="https://github.com/singularis-mzf/linux-spellbook">repozitář na GitHubu</a>.
</footer>
</body>
</html>
