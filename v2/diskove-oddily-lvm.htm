<!doctype html>
<html lang="cs">
<head profile="http://www.w3.org/2005/10/profile">
<meta charset="UTF-8">

<title>DiskovÃ© oddÃ­ly / LVM âˆ’ Linux: Kniha kouzel</title>
<meta name="viewport" content="width=1000, initial-scale=1">
<link rel="stylesheet" type="text/css" href="lkk-20220715.css">
<link rel="icon" type="image/png" href="obrazky/favicon.png">
</head>
<body class="jeukazka">
<div id="nahore"><div id="okno">
<header>
<span class="vlevo"><a href="index.htm"><img src="obrazky/favicon.png" width="16" height="16" alt=""></a> Linux: Kniha kouzel, vanilkovÃ¡ pÅ™Ã­chuÅ¥ 2.14 (15. ÄervenceÂ 2022)</span>
<span class="vpravo"><span class="ico1"></span><span class="ico2"></span><span class="ico3"></span></span>
</header>
<nav class="menuokna">
<a href="#menuosnova" class="menu"><span class="prvnipismeno">O</span>snova</a>
<a href="#menukapitoly" class="menu"><span class="prvnipismeno">K</span>apitoly</a>
<a href="#menustitky" class="menu"><span class="prvnipismeno">Å </span>tÃ­tky</a>
<a href="#menunapoveda" class="menu"><span class="prvnipismeno">N</span>Ã¡povÄ›da</a>
<a href="diskove-oddily-btrfs.htm" rel="prev" title="4.1. DiskovÃ© oddÃ­ly / Btrfs" accesskey="p" class="predchozi">PÅ™edchozÃ­&nbsp;kapitola</a>
<a href="index.htm" class="prehled"><span class="prvnipismeno">P</span>Å™ehled kapitol</a>
<a href="diskove-oddily-softwarovy-raid.htm" rel="next" title="4.3. DiskovÃ© oddÃ­ly / SoftwarovÃ½ RAID" accesskey="n" class="nasledujici">NÃ¡sledujÃ­cÃ­&nbsp;kapitola</a>
</nav>

<div class="slogan-veskera-moc">VeÅ¡kerÃ¡ moc pÅ™Ã­kazovÃ© Å™Ã¡dky/pÅ™Ã­kazovÃ©ho Å™Ã¡dku pÅ™ehlednÄ›, pro zaÄÃ¡teÄnÃ­ky i&nbsp;pokroÄilÃ©</div>

<!--
<nav class="horni">
<div class="slogan">VeÅ¡kerÃ¡ moc pÅ™Ã­kazovÃ© Å™Ã¡dky/pÅ™Ã­kazovÃ©ho Å™Ã¡dku pÅ™ehlednÄ›, pro zaÄÃ¡teÄnÃ­ky i&nbsp;pokroÄilÃ©</div>
<span class="prev">
<a href="diskove-oddily-btrfs.htm" rel="prev" title="4.1. DiskovÃ© oddÃ­ly / Btrfs" accesskey="p">PÅ™edchozÃ­&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm" accesskey="i">PÅ™ehled</a><span class="next"><!- -
- ->&nbsp;| <a href="diskove-oddily-softwarovy-raid.htm" rel="next" title="4.3. DiskovÃ© oddÃ­ly / SoftwarovÃ½ RAID" accesskey="n">NÃ¡sledujÃ­cÃ­&nbsp;kapitola</a>
</span>
</nav>
-->


<article>

<h1 class="kapitola">4.2. <img src="obrazky/ik/diskove-oddily.png" alt="" width="64" height="64"> <a href="diskove-oddily.htm">DiskovÃ© oddÃ­ly</a> / LVM</h1>
<div class="varovani">
Å˜ada 2.x vanilkovÃ© pÅ™Ã­chuti Linuxu: Knihy kouzel je odÂ 15.Â ÄervenceÂ 2022
do 1.Â bÅ™eznaÂ 2025 veÂ stavu dlouhodobÃ© pasivnÃ­ ÃºdrÅ¾by;
nahlÃ¡Å¡enÃ© chyby budou opravovÃ¡ny, aleÂ aktivnÃ­ vÃ½voj se jiÅ¾ vÄ›nuje jinÃ½m
projektÅ¯m. MÃ¡te-li zÃ¡jem pokraÄovat vÂ tvorbÄ› Linuxu: Knihy kouzel
pro novÄ›jÅ¡Ã­ verze linuxovÃ½ch operaÄnÃ­ch systÃ©mÅ¯,
kontaktujte autora nebo rovnou vytvoÅ™te odnoÅ¾.
</div>
<div class="stitky"><a href="x-stitky.htm#">LVM</a>
<a href="x-stitky.htm#">systÃ©m</a>
<a href="x-stitky.htm#">tematickÃ½ okruh</a>
</div>
<h2 id="cast1"><a href="#cast1"><span class="cislo">1.</span> Ãšvod</a></h2>
<p class="ponadpisu">
Tato podkapitola se zabÃ½vÃ¡ pracÃ­ sÂ LVM.
LVM (logical volume management) je metoda rozloÅ¾enÃ­ oddÃ­lÅ¯ na pevnÃ©m disku,
kterÃ¡ mÃ¡ odstÃ­nit uÅ¾ivatele od fyzickÃ©ho rozloÅ¾enÃ­ dat aÂ poskytnout
novÃ© moÅ¾nosti, napÅ™. flexibilnÃ­ rozloÅ¾enÃ­ jednoho oddÃ­lu pÅ™es
nÄ›kolik fyzickÃ½ch diskÅ¯ nebo snadnÃ© pÅ™emÃ­sÅ¥ovÃ¡nÃ­ oddÃ­lÅ¯ aÂ zmÄ›nu jejich velikosti,
Äasto iÂ bez nutnosti restartu poÄÃ­taÄe.
</p>

<h2 id="cast2"><a href="#cast2"><span class="cislo">2.</span> Definice</a></h2>

<h3 id="cast2x1"><span><a href="#cast2x1" title="kapitola 8 (DiskovÃ© oddÃ­ly/LVM), sekce 2 (Definice), podsekce 1 (ObecnÃ© definice)"><sup>2/</sup>1 ObecnÃ© definice</a></span></h3>
<ul><li><b>LogickÃ½ oddÃ­l</b> je vÂ LVM obdoba bÄ›Å¾nÃ©ho diskovÃ©ho oddÃ­lu (tzn. je moÅ¾no ho naformÃ¡tovat aÂ pouÅ¾Ã­vat kÂ uklÃ¡dÃ¡nÃ­ dat); na rozdÃ­l od nÄ›j ale nemÃ¡ pevnÃ© fyzickÃ© umÃ­stÄ›nÃ­ na disku, jeho fyzickÃ© umÃ­stÄ›nÃ­ je vymezenÃ© skupinou svazkÅ¯, ve kterÃ© je vytvoÅ™en. LogickÃ½ oddÃ­l LVM je dostupnÃ½ pod cestou â€/dev/<i class="dopln">skupina-svazkÅ¯</i>/<i class="dopln">nÃ¡zev-oddÃ­lu</i>â€œ.
</li><li><b>Skupina svazkÅ¯</b> je vÂ LVM neprÃ¡zdnÃ¡ pojmenovanÃ¡ skupina fyzickÃ½ch svazkÅ¯ kÂ vytvÃ¡Å™enÃ­ logickÃ½ch oddÃ­lÅ¯. Data kaÅ¾dÃ©ho logickÃ©ho oddÃ­lu se fyzicky nachÃ¡zejÃ­ pouze na fyzickÃ½ch svazcÃ­ch pÅ™Ã­sluÅ¡nÃ½ch do danÃ© skupiny.
</li><li><b>FyzickÃ½ svazek</b> je vÂ LVM blokovÃ© zaÅ™Ã­zenÃ­ (celÃ½ disk nebo jeho oddÃ­l), kterÃ© je nastavenÃ© aÂ naformÃ¡tovanÃ© kÂ uklÃ¡dÃ¡nÃ­ dat logickÃ½ch oddÃ­lÅ¯. NemÅ¯Å¾e to bÃ½t logickÃ½ oddÃ­l LVM.
</li><li>NormÃ¡lnÄ› je kaÅ¾dÃ¡ skupina svazkÅ¯ <b>aktivovanÃ¡</b>, coÅ¾ znamenÃ¡, Å¾e jejÃ­ logickÃ© oddÃ­ly jsou dostupnÃ© aÂ je moÅ¾nÃ© je pÅ™ipojit. Skupina svazkÅ¯, jejÃ­Å¾ fyzickÃ© svazky se nachÃ¡zejÃ­ na vÃ½mÄ›nnÃ½ch mÃ©diÃ­ch, se automaticky aktivuje pÅ™i pÅ™ipojenÃ­ poslednÃ­ho zÂ nich. Aby vÅ¡ak bylo moÅ¾no tato mÃ©dia odpojit bez vypnutÃ­ systÃ©mu, je nutno skupinu ruÄnÄ› <b>deaktivovat</b>, ÄÃ­mÅ¾ jejÃ­ logickÃ© oddÃ­ly pÅ™estanou bÃ½t dostupnÃ©.
</li><li><b>LogickÃ½ snÃ­mek</b> (â€LVM snapshotâ€œ) je (zpravidla doÄasnÃ½) â€klonâ€œ logickÃ©ho oddÃ­lu, kterÃ½ pÅ™i vytvoÅ™enÃ­ sdÃ­lÃ­ umÃ­stÄ›nÃ­ na disku sÂ pÅ¯vodnÃ­m oddÃ­lem, ale LVM vytvÃ¡Å™enÃ­m kopiÃ­ dat pÅ™i zÃ¡pisu (copy-on-write) zpÅ¯sobuje, Å¾e logickÃ½ snÃ­mek se uÅ¾ivateli jevÃ­ jako samostatnÃ½ oddÃ­l. NejÄastÄ›ji se pouÅ¾Ã­vÃ¡ kÂ vytvoÅ™enÃ­ krÃ¡tkodobÃ© nemÄ›nnÃ© kopie jinak intenzivnÄ› zapisovanÃ©ho diskovÃ©ho oddÃ­lu nebo kÂ opakovanÃ©mu vracenÃ­ diskovÃ©ho oddÃ­lu do urÄitÃ©ho vÃ½chozÃ­ho stavu.
</li></ul>
<h2 id="cast3" class="zaklinadla"><a href="#cast3"><span class="cislo">3.</span> ZaklÃ­nadla</a></h2>

<h3 id="cast3x1"><span><a href="#cast3x1" title="kapitola 8 (DiskovÃ© oddÃ­ly/LVM), sekce 3 (ZaklÃ­nadla), podsekce 1 (FyzickÃ© svazky)"><sup>3/</sup>1 FyzickÃ© svazky</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zxcd8132e"><span><a href="#zxcd8132e">@</a></span></span><b>vytvoÅ™it</b> zÂ celÃ©ho zaÅ™Ã­zenÃ­<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">sudo wipefs -a <i class="dopln">/dev/zaÅ™Ã­zenÃ­</i></div>
<div class="radekzaklinadla">sudo pvcreate <i class="dopln">/dev/zaÅ™Ã­zenÃ­</i> <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zxe73144d"><span><a href="#zxe73144d">@</a></span></span><b>vytvoÅ™it</b> zÂ oddÃ­lu<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo wipefs -a <i class="dopln">/dev/oddÃ­l</i></div>
<div class="radekzaklinadla">sudo pvcreate <i class="dopln">/dev/oddÃ­l</i> <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx6f36e82"><span><a href="#zx6f36e82">@</a></span></span><b>smazat</b><span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">sudo pvremove <i class="dopln">/dev/zaÅ™Ã­zenÃ­-nebo-oddÃ­l</i> <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zxe38773e"><span><a href="#zxe38773e">@</a></span></span><b>zkontrolovat</b><span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">sudo pvck <i class="dopln">/dev/zaÅ™Ã­zenÃ­-nebo-oddÃ­l</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx34770cf"><span><a href="#zx34770cf">@</a></span></span><b>vypsat</b> (pro ÄlovÄ›ka/pro skript)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">sudo pvs</div>
<div class="radekzaklinadla">sudo pvs --noheadings | sed -E 's/^\s*(\S+)\s.*$/\1/'</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx104bfd6"><span><a href="#zx104bfd6">@</a></span></span>uvolnit vÅ¡echno mÃ­sto na fyzickÃ©m svazku<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">sudo pvmove <i class="dopln">/dev/zaÅ™Ã­zenÃ­-nebo-oddÃ­l</i></div>
</div></div>

<h3 id="cast3x2"><span><a href="#cast3x2" title="kapitola 8 (DiskovÃ© oddÃ­ly/LVM), sekce 3 (ZaklÃ­nadla), podsekce 2 (Skupiny svazkÅ¯)"><sup>3/</sup>2 Skupiny svazkÅ¯</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx5b38199"><span><a href="#zx5b38199">@</a></span></span><b>vytvoÅ™it</b><span class="cislo">#1 </span><sup><a href="#kapxa99b165ppc1" id="kapxa99b165ppcr1" title="Skupiny tvoÅ™enÃ© fyzickÃ½mi svazky na vÃ­ce fyzickÃ½ch discÃ­ch zvyÅ¡ujÃ­ pravdÄ›podobnost ztrÃ¡ty dat, protoÅ¾e kdyÅ¾ havaruje kterÃ½koliv zÃºÄastnÄ›nÃ½ disk, pÅ™ijdete oÂ vÅ¡echna data vÂ celÃ© skupinÄ› svazkÅ¯. Proto pokud nepotÅ™ebujete sluÄovat ÃºloÅ¾nÃ½ prostor na vÃ­ce fyzickÃ½ch discÃ­ch, preferujte vytvÃ¡Å™enÃ­ samostatnÃ© skupiny svazkÅ¯ pro fyzickÃ© svazky na kaÅ¾dÃ©m fyzickÃ©m disku.">(1)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo vgcreate <i class="dopln">nazev-skupiny</i> <i class="dopln">/dev/fyzickÃ½-svazek</i><span class="tritecky"></span> <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx92574d2"><span><a href="#zx92574d2">@</a></span></span><b>deaktivovat</b> skupinu<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo vgchange --verbose --activate n <i class="dopln">nazev-skupiny</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx90d3970"><span><a href="#zx90d3970">@</a></span></span><b>pÅ™idat</b> fyzickÃ½ svazek do skupiny<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">sudo vgextend <i class="dopln">nazev-skupiny</i> <i class="dopln">/dev/fyzickÃ½-svazek</i><span class="tritecky"></span> <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx9227bfe"><span><a href="#zx9227bfe">@</a></span></span><b>odebrat</b> fyzickÃ½ svazek ze skupiny<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">sudo pvmove <i class="dopln">/dev/fyzickÃ½-svazek</i></div>
<div class="radekzaklinadla">sudo vgreduce <i class="dopln">nazev-skupiny</i> <i class="dopln">/dev/fyzickÃ½-svazek</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zxeaf61b3"><span><a href="#zxeaf61b3">@</a></span></span><b>pÅ™ejmenovat</b><span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">sudo vgrename <i class="dopln">nazev-skupiny</i> <i class="dopln">novy-nazev-skupiny</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zxe6f1654"><span><a href="#zxe6f1654">@</a></span></span><b>vypsat</b> (pro ÄlovÄ›ka/pro skript)<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">sudo vgs</div>
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Å˜eÅ¡enÃ­ tohoto pÅ™Ã­kladu nebylo pÅ™i vydÃ¡nÃ­ tÃ©to verze kapitoly znÃ¡mo.">?</a></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx11e10bf"><span><a href="#zx11e10bf">@</a></span></span><b>smazat</b><span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">sudo lvremove <i class="dopln">nazev-skupiny</i></div>
<div class="radekzaklinadla">sudo vgremove <i class="dopln">nazev-skupiny</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx1b0f950"><span><a href="#zx1b0f950">@</a></span></span>aktivovat deaktivovanou skupinu<span class="cislo">#8 </span><sup><a href="#kapxa99b165ppc2" id="kapxa99b165ppcr2" title="Tento pÅ™Ã­kaz obvykle nenÃ­ potÅ™eba, protoÅ¾e po pÅ™ipojenÃ­ zaÅ™Ã­zenÃ­ nebo startu systÃ©mu se nalezenÃ© skupiny obvykle aktivujÃ­ automaticky.">(2)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo vgchange --verbose --activate y <i class="dopln">nazev-skupiny</i></div>
</div></div>

<h3 id="cast3x3"><span><a href="#cast3x3" title="kapitola 8 (DiskovÃ© oddÃ­ly/LVM), sekce 3 (ZaklÃ­nadla), podsekce 3 (LogickÃ© oddÃ­ly)"><sup>3/</sup>3 LogickÃ© oddÃ­ly</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zxae4fdd3"><span><a href="#zxae4fdd3">@</a></span></span><b>vytvoÅ™it</b> (velikost zadat: absolutnÄ›/vÂ procentech velikosti skupiny/vÂ procentech velikosti volnÃ©ho mÃ­sta/vÅ¡echno volnÃ© mÃ­sto)<span class="cislo">#1 </span><sup><a href="#kapxa99b165ppc3" id="kapxa99b165ppcr3" title="Pro pÅ™esnÄ›jÅ¡Ã­ urÄenÃ­ rozmÄ›ru mÅ¯Å¾ete zadat velikost oddÃ­lu vÂ mebibajtech mÃ­sto gibibajtÅ¯ (mÃ­sto pÅ™Ã­pony â€Gâ€œ uveÄte pÅ™Ã­ponu â€Mâ€œ), ale vÂ takovÃ©m pÅ™Ã­padÄ› poÄÃ­tejte sÂ moÅ¾nostÃ­, Å¾e pÅ™Ã­kaz zadanout hodnotu mÅ¯Å¾e zaokrouhlit oÂ nÄ›kolik mebibajtÅ¯ nahoru.">(3)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo lvcreate <i class="dopln">nazev-skupiny</i> --name <i class="dopln">nazev-oddilu</i> --size <i class="dopln">gibibajtÅ¯</i>G <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span> <span class="volznak">[</span><i class="dopln">/dev/fyzickÃ½-svazek</i><span class="volznak">]</span><span class="tritecky"></span></div>
<div class="radekzaklinadla">sudo lvcreate <i class="dopln">nazev-skupiny</i> --name <i class="dopln">nazev-oddilu</i> --extents <i class="dopln">procenta</i>%VG <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
<div class="radekzaklinadla">sudo lvcreate <i class="dopln">nazev-skupiny</i> --name <i class="dopln">nazev-oddilu</i> --extents <i class="dopln">procenta</i>%FREE <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
<div class="radekzaklinadla">sudo lvcreate <i class="dopln">nazev-skupiny</i> --name <i class="dopln">nazev-oddilu</i> --extents 100%FREE <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zxdbcc0bb"><span><a href="#zxdbcc0bb">@</a></span></span>vytvoÅ™it proklÃ¡danÃ½ logickÃ½ oddÃ­l<span class="cislo">#2 </span><sup><a href="#kapxa99b165ppc4" id="kapxa99b165ppcr4" title="NechÅ¥ N je uvedenÃ½ â€poÄet-zaÅ™Ã­zenÃ­â€œ. Velikost proklÃ¡danÃ©ho oddÃ­lu se rozdÄ›lÃ­ na N stejnÃ½ch dÃ­lÅ¯ aÂ kaÅ¾dÃ½ se umÃ­stÃ­ na jeden fyzickÃ½ svazek ze zadanÃ© skupiny svazkÅ¯. Pokud se nÄ›kterÃ½ zÂ dÃ­lÅ¯ na svÅ¯j fyzickÃ½ svazek nevejde, vÅ¡echny dÃ­ly budou zmenÅ¡eny spoleÄnÄ›, aby se tam veÅ¡el. Kapacita vytvoÅ™enÃ©ho oddÃ­lu bude cca 90% souÄtu mÃ­sta zabranÃ©ho vÅ¡emi dÃ­ly proklÃ¡danÃ©ho oddÃ­lu (proklÃ¡dÃ¡nÃ­ mÃ¡ zÅ™ejmÄ› svoji reÅ¾ii). PÅ™Ã­klad: mÃ¡te ve skupinÄ› dva fyzickÃ© svazky 2G aÂ jeden 1G aÂ pokusÃ­te se vytvoÅ™it proklÃ¡danÃ½ svazek oÂ velikosti 5G; pÅ™Ã­kaz ho rozdÄ›lÃ­ na tÅ™i dÃ­ly oÂ velikosti 1,66G; jenÅ¾e na tÅ™etÃ­ fyzickÃ½ svazek se dÃ­l nevejde, tak se vÅ¡echny zmenÅ¡Ã­ na 1G. VÃ½slednÃ½ oddÃ­l tedy zabere 3G (na prvnÃ­m iÂ druhÃ©m svazku zÅ¯stane 1G volnÃ½) aÂ kapacita novÄ› vzniklÃ©ho oddÃ­lu bude cca 2765M.">(4)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo lvcreate <i class="dopln">nazev-skupiny</i> --name <i class="dopln">nazev-oddilu</i> <i class="dopln">parametr --size nebo --extents</i> --stripes <i class="dopln">poÄet-zaÅ™Ã­zenÃ­</i> --stripesize 64 <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx0e074b5"><span><a href="#zx0e074b5">@</a></span></span><b>vypsat</b> (pro ÄlovÄ›ka/pro skript)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">sudo lvs</div>
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Å˜eÅ¡enÃ­ tohoto pÅ™Ã­kladu nebylo pÅ™i vydÃ¡nÃ­ tÃ©to verze kapitoly znÃ¡mo.">?</a></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zxa8b13d8"><span><a href="#zxa8b13d8">@</a></span></span><b>zvÄ›tÅ¡it</b> (na velikost/relativnÄ›)<span class="cislo">#4 </span><sup><a href="#kapxa99b165ppc5" id="kapxa99b165ppcr5" title="Volba --resizefs je podporovÃ¡na pouze pro nÄ›kterÃ© typy systÃ©mu souborÅ¯, zejmÃ©na pro ext4.">(5)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo lvextend <i class="dopln">nazev-skupiny</i>/<i class="dopln">nazev-oddilu</i> --size <i class="dopln">gibibajtÅ¯</i>G <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
<div class="radekzaklinadla">sudo lvextend <i class="dopln">nazev-skupiny</i>/<i class="dopln">nazev-oddilu</i> --size +<i class="dopln">gibibajtÅ¯</i>G <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span> <span class="volznak">[</span>--resizefs<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx6afdfa4"><span><a href="#zx6afdfa4">@</a></span></span><b>zmenÅ¡it</b> (na velikost/relativnÄ›)<span class="cislo">#5 </span><sup><a href="#kapxa99b165ppc6" id="kapxa99b165ppcr6" title="Pozor! Pokud je na zmenÅ¡ovanÃ©m oddÃ­le souborovÃ½ systÃ©m, musÃ­te ho pÅ™ed zmenÅ¡enÃ­m oddÃ­lu zmenÅ¡it na odpovÃ­dajÃ­cÃ­ velikost, jinak dojde ke ztrÃ¡tÄ› dat! To neplatÃ­, pouÅ¾ijete-li zde parametr --resizefs.">(6)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo lvreduce <i class="dopln">nazev-skupiny</i>/<i class="dopln">nazev-oddilu</i> --size <i class="dopln">gibibajtÅ¯</i>G <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
<div class="radekzaklinadla">sudo lvreduce <i class="dopln">nazev-skupiny</i>/<i class="dopln">nazev-oddilu</i> --size +<i class="dopln">gibibajtÅ¯</i>G <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span> <span class="volznak">[</span>--resizefs<span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx7cfe66c"><span><a href="#zx7cfe66c">@</a></span></span><b>pÅ™ejmenovat</b> oddÃ­l<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">sudo lvrename <i class="dopln">nazev-skupiny</i>/<i class="dopln">nazev-oddilu</i> <i class="dopln">novÃ©-id-oddÃ­lu</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx7371c87"><span><a href="#zx7371c87">@</a></span></span><b>smazat</b> oddÃ­l/vÅ¡echny oddÃ­ly ve skupinÄ›<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">sudo lvremove <i class="dopln">nazev-skupiny</i>/<i class="dopln">nazev-oddilu</i> <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
<div class="radekzaklinadla">sudo lvremove <i class="dopln">nazev-skupiny</i> <span class="volznak">[</span>-v<span class="volznak">[</span>v<span class="volznak">]</span><span class="volznak">]</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx8297b6c"><span><a href="#zx8297b6c">@</a></span></span>pÅ™esunout do jinÃ© skupiny svazkÅ¯<span class="cislo">#8 </span><sup><a href="#kapxa99b165ppc7" id="kapxa99b165ppcr7" title="PÅ™esouvanÃ½ oddÃ­l nesmÃ­ bÃ½t pÅ™ipojenÃ½ aÂ vÂ aktuÃ¡lnÃ­m adresÃ¡Å™i si toto zaklÃ­nadlo potÅ™ebuje vytvoÅ™it doÄasnÃ½ soubor â€temp.datâ€œ. Pokud vÃ¡m tento nÃ¡zev nevyhovuje, mÅ¯Å¾ete pouÅ¾Ã­t jinÃ½.">(7)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo lvcreate <i class="dopln">cÃ­l-skupina</i> --name <i class="dopln">cÃ­l-nÃ¡zev</i> --size $(sudo lvs /dev/<i class="dopln">pÅ¯v-skupina</i>/<i class="dopln">pÅ¯v-nÃ¡zev</i> --noheadings --nosuffix --units b -o size | sed -E 's/^\s*(\S+)\s*$/\1b/') <span class="volznak">[</span>-v<span class="volznak">]</span> &amp;&amp;</div>
<div class="radekzaklinadla">sudo dd if=/dev/<i class="dopln">pÅ¯v-skupina</i>/<i class="dopln">pÅ¯v-nÃ¡zev</i> iflag=fullblock,skip_bytes of=/dev/<i class="dopln">cÃ­l-skupina</i>/<i class="dopln">cÃ­l-nÃ¡zev</i> oflag=seek_bytes conv=nocreat,notrunc seek=1M skip=1M <span class="volznak">[</span>status=progress<span class="volznak">]</span> &amp;&amp;</div>
<div class="radekzaklinadla">sudo dd if=/dev/<i class="dopln">pÅ¯v-skupina</i>/<i class="dopln">pÅ¯v-nÃ¡zev</i> iflag=fullblock,count_bytes count=1M of=temp.dat <span class="volznak">[</span>status=progress<span class="volznak">]</span> &amp;&amp;</div>
<div class="radekzaklinadla">sudo dd if=temp.dat iflag=fullblock,count_bytes count=1M of=/dev/<i class="dopln">cÃ­l-skupina</i>/<i class="dopln">cÃ­l-nÃ¡zev</i> conv=notrunc,nocreat <span class="volznak">[</span>status=progress<span class="volznak">]</span> &amp;&amp;</div>
<div class="radekzaklinadla">sudo lvremove <i class="dopln">pÅ¯v-skupina</i>/<i class="dopln">pÅ¯v-nÃ¡zev</i> <span class="volznak">[</span>-v<span class="volznak">]</span> <span class="volznak">[</span>-y<span class="volznak">]</span></div>
<div class="radekzaklinadla"><span class="volznak">[</span>sudo rm -v temp.dat &amp;&amp;<span class="volznak">]</span></div>
</div></div>

<h3 id="cast3x4"><span><a href="#cast3x4" title="kapitola 8 (DiskovÃ© oddÃ­ly/LVM), sekce 3 (ZaklÃ­nadla), podsekce 4 (LogickÃ© snÃ­mky)"><sup>3/</sup>4 LogickÃ© snÃ­mky</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx105c847"><span><a href="#zx105c847">@</a></span></span>vytvoÅ™it<span class="cislo">#1 </span><sup><a href="#kapxa99b165ppc8" id="kapxa99b165ppcr8" title="â€velikost-Pâ€œ je velikost novÄ› pÅ™idÄ›lenÃ©ho prostoru pro alokaci kopiÃ­ dat vzniklÃ½ch pÅ™i zÃ¡pisu do pÅ¯vodnÃ­ho oddÃ­lu nebo do logickÃ©ho snÃ­mku.">(8)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo lvcreate --snapshot --type snapshot --name <i class="dopln">id-snimku</i> --size <i class="dopln">velikost-P</i> <span class="volznak">[</span>-v<span class="volznak">]</span> /dev/<i class="dopln">skupina-svazkÅ¯</i>/<i class="dopln">puvodni-oddil</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx578f92a"><span><a href="#zx578f92a">@</a></span></span>zruÅ¡it (bez kopÃ­rovÃ¡nÃ­)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">sudo lvremove /dev/<i class="dopln">skupina-svazkÅ¯</i>/<i class="dopln">id-snimku</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx431ff4b"><span><a href="#zx431ff4b">@</a></span></span>pÅ™epsat pÅ¯vodnÃ­ oddÃ­l snÃ­mkem aÂ snÃ­mek odstranit (nutnÃ© kopÃ­rovÃ¡nÃ­)<span class="cislo">#3 </span><sup><a href="#kapxa99b165ppc9" id="kapxa99b165ppcr9" title="Pokud je pÅ¯vodnÃ­ oddÃ­l pÅ™ipojenÃ½ nebo jinak vyuÅ¾Ã­vanÃ½, nedojde kÂ nakopÃ­rovÃ¡nÃ­ aÂ slouÄenÃ­ ihned, ale aÅ¾ pÅ™i pÅ™Ã­Å¡tÃ­ aktivaci logickÃ©ho oddÃ­lu (tzn. zpravidla po restartu systÃ©mu).">(9)</a></sup></div><div class="radky">
<div class="radekzaklinadla">sudo lvconvert --merge /dev/<i class="dopln">skupina-svazkÅ¯</i>/<i class="dopln">id-snimku</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx69b46da"><span><a href="#zx69b46da">@</a></span></span>zvÄ›tÅ¡it prostor pro logickÃ½ snÃ­mek<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">sudo lvextend <span class="volznak">[</span>-v<span class="volznak">]</span> --size <i class="dopln">novÃ¡-velikost-P</i> /dev/<i class="dopln">skupina-svazkÅ¯</i>/<i class="dopln">id-snimku</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zx63d7e68"><span><a href="#zx63d7e68">@</a></span></span>kolik mÃ­sta zÂ logickÃ©ho snÃ­mku je jiÅ¾ obsazeno? (pro ÄlovÄ›ka)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">sudo lvs <span class="volznak">[</span>/dev/<i class="dopln">skupina-svazku</i>/<i class="dopln">nazev-snimku</i><span class="volznak">]</span></div>
<div class="radekzaklinadla akce">Ãšdaj ve sloupci â€Data%â€œ uvÃ¡dÃ­, kolik procent prostoru je jiÅ¾ obsazeno.</div>
</div></div>

<h3 id="cast3x5"><span><a href="#cast3x5" title="kapitola 8 (DiskovÃ© oddÃ­ly/LVM), sekce 3 (ZaklÃ­nadla), podsekce 5 (OstatnÃ­)"><sup>3/</sup>5 OstatnÃ­</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="zxb6a391d"><span><a href="#zxb6a391d">@</a></span></span>aktualizovat systÃ©movÃ½ pÅ™ehled LVM podle pÅ™ipojenÃ½ch zaÅ™Ã­zenÃ­<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">sudo lvscan --mknodes</div>
</div></div>

<h2 id="cast4"><a href="#cast4"><span class="cislo">4.</span> Instalace na Ubuntu</a></h2>
<p class="ponadpisu">
Pokud chcete pouÅ¾Ã­vat LVM, musÃ­te doinstalovat:
</p>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">sudo apt-get install lvm2</div>
</div></div>

<h2 id="cast5"><a href="#cast5"><span class="cislo">5.</span> Tipy aÂ zkuÅ¡enosti</a></h2>
<ul><li>VÂ pÅ™Ã­padÄ› zmÄ›ny velikosti oddÃ­lu vÂ LVM je tÅ™eba samostatnÄ› zmÄ›nit velikost souborovÃ©ho systÃ©mu aÂ samostatnÄ› velikost logickÃ©ho oddÃ­lu. VÃ½jimkou je souborovÃ½ systÃ©m â€ext4â€œ, uÂ kterÃ©ho je moÅ¾nÃ© tyto operace slouÄit pouÅ¾itÃ­m parametru â€--resizefsâ€œ.
</li><li>LVM lze pouÅ¾Ã­t iÂ na vyjÃ­matelnÃ½ch mÃ©diÃ­ch (napÅ™. flash discÃ­ch); vÂ takovÃ©m pÅ™Ã­padÄ› je ale pÅ™ed fyzickÃ½m odpojenÃ­m mÃ©dia potÅ™eba deaktivovat pÅ™Ã­sluÅ¡nou skupinu svazkÅ¯. Je-li skupina svazkÅ¯ rozloÅ¾ena pÅ™es vÃ­ce takovÃ½ch mÃ©diÃ­, automaticky se aktivuje pÅ™i pÅ™ipojenÃ­ poslednÃ­ho zÂ nich.
</li><li>PÅ™i vytvÃ¡Å™enÃ­ velkÃ©ho logickÃ©ho oddÃ­lu pÅ™es nÄ›kolik SSD diskÅ¯ doporuÄuji vytvoÅ™it radÄ›ji proklÃ¡danÃ½ oddÃ­l neÅ¾ normÃ¡lnÃ­; sice tÃ­m pÅ™ijde oÂ cca 10% kapacity, ale zato se rozsÃ¡hlÃ© zÃ¡pisy budou rovnomÄ›rnÄ› rozklÃ¡dat mezi vÅ¡echny disky, coÅ¾ by uÂ SSD diskÅ¯ mÄ›lo zvÃ½Å¡it jejich Å¾ivotnost.
</li><li>LVM poskytuje svÅ¯j vlastnÃ­ interpret pÅ™Ã­kazovÃ© Å™Ã¡dky, kterÃ½ nabÃ­zÃ­ pouze pÅ™Ã­kazy souvisejÃ­cÃ­ sÂ LVM (bez zadÃ¡vÃ¡nÃ­ â€sudoâ€œ). SpustÃ­te ho pÅ™Ã­kazem â€sudo lvmâ€œ.
</li><li>Pokud dojde kÂ zaplnÄ›nÃ­ prostoru pro logickÃ½ snÃ­mek, ten se tÃ­m zniÄÃ­, pÅ™ijdete oÂ zÃ¡pisy na nÄ›j aÂ budete ho muset smazat. Pokud nechcete, aby kÂ tomu doÅ¡lo, je tÅ™eba pro logickÃ½ snÃ­mek vyhradit cca 110% aÅ¾ 125% velikosti pÅ¯vodnÃ­ho oddÃ­lu (100% pÅ™i experimentech nestaÄilo). VÂ pÅ™Ã­padÄ› zaplnÄ›nÃ­ vÅ¡ak nepÅ™ijdete oÂ Å¾Ã¡dnÃ¡ data na pÅ¯vodnÃ­m oddÃ­lu.
</li><li>NÃ¡zev skupiny svazkÅ¯ nebo logickÃ©ho oddÃ­lu smÃ­ obsahovat pouze malÃ¡ aÂ velkÃ¡ pÃ­smena anglickÃ© abecedy, ÄÃ­slice aÂ znaky â€.â€œ, â€-â€œ, â€+â€œ aÂ â€_â€œ. NÃ¡zev nesmÃ­ zaÄÃ­nat pomlÄkou aÂ mnoho nÃ¡zvÅ¯ je vyhrazenÃ½ch (viz â€man 8 lvmâ€œ).
</li></ul>
<h2 id="cast6"><a href="#cast6"><span class="cislo">6.</span> DalÅ¡Ã­ zdroje informacÃ­</a></h2>
<ul class="kompaktni"><li><a href="https://www.abclinuxu.cz/serialy/lvm">SeriÃ¡l Logical Volume Manager</a>
</li><li><a href="https://cs.wikipedia.org/wiki/Logical_Volume_Management">Wikipedie: Logical Volume Management</a>
</li><li><a href="https://linuxhint.com/lvm-ubuntu-tutorial/">LVM Ubuntu Tutorial</a> (anglicky)
</li><li><a href="http://manpages.ubuntu.com/manpages/focal/en/man8/lvm.8.html">man lvm</a> (anglicky)
</li><li><a href="https://wiki.archlinux.org/index.php/LVM">Arch Wiki: LVM</a> (anglicky)
</li><li><a href="https://packages.ubuntu.com/bionic/lvm2">BalÃ­Äek Bionic: lvm2</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=m9SNN6IWyZo">YouTube: Lesson 20 Managing LVM</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=scMkYQxBtJ4">YouTube: Combining Drives Together</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=N8rUlYL2O_g">YouTube: LVM snapshots</a> (anglicky)
</li></ul>
<h2 id="cast7"><a href="#cast7"><span class="cislo">7.</span> ZÃ¡kulisÃ­ kapitoly</a></h2>
<p class="ponadpisu">
VÂ tÃ©to verzi kapitoly chybÃ­:
</p>
<ul class="kompaktni"><li>nic
</li></ul><p class="ponadpisu">
Tato kapitola zÃ¡mÄ›rnÄ› nepokrÃ½vÃ¡:
</p>
<ul class="kompaktni"><li>nic
</li></ul><div class="ppc"><div id="kapxa99b165ppc1"><a href="#kapxa99b165ppcr1" class="cislopozn">1</a>&nbsp;Skupiny tvoÅ™enÃ© fyzickÃ½mi svazky na vÃ­ce fyzickÃ½ch discÃ­ch zvyÅ¡ujÃ­ pravdÄ›podobnost ztrÃ¡ty dat, protoÅ¾e kdyÅ¾ havaruje kterÃ½koliv zÃºÄastnÄ›nÃ½ disk, pÅ™ijdete oÂ vÅ¡echna data vÂ celÃ© skupinÄ› svazkÅ¯. Proto pokud nepotÅ™ebujete sluÄovat ÃºloÅ¾nÃ½ prostor na vÃ­ce fyzickÃ½ch discÃ­ch, preferujte vytvÃ¡Å™enÃ­ samostatnÃ© skupiny svazkÅ¯ pro fyzickÃ© svazky na kaÅ¾dÃ©m fyzickÃ©m disku.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpÄ›t do textu</div>");</script>
<div id="kapxa99b165ppc2"><a href="#kapxa99b165ppcr2" class="cislopozn">2</a>&nbsp;Tento pÅ™Ã­kaz obvykle nenÃ­ potÅ™eba, protoÅ¾e po pÅ™ipojenÃ­ zaÅ™Ã­zenÃ­ nebo startu systÃ©mu se nalezenÃ© skupiny obvykle aktivujÃ­ automaticky.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpÄ›t do textu</div>");</script>
<div id="kapxa99b165ppc3"><a href="#kapxa99b165ppcr3" class="cislopozn">3</a>&nbsp;Pro pÅ™esnÄ›jÅ¡Ã­ urÄenÃ­ rozmÄ›ru mÅ¯Å¾ete zadat velikost oddÃ­lu vÂ mebibajtech mÃ­sto gibibajtÅ¯ (mÃ­sto pÅ™Ã­pony â€Gâ€œ uveÄte pÅ™Ã­ponu â€Mâ€œ), ale vÂ takovÃ©m pÅ™Ã­padÄ› poÄÃ­tejte sÂ moÅ¾nostÃ­, Å¾e pÅ™Ã­kaz zadanout hodnotu mÅ¯Å¾e zaokrouhlit oÂ nÄ›kolik mebibajtÅ¯ nahoru.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpÄ›t do textu</div>");</script>
<div id="kapxa99b165ppc4"><a href="#kapxa99b165ppcr4" class="cislopozn">4</a>&nbsp;NechÅ¥ N je uvedenÃ½ â€poÄet-zaÅ™Ã­zenÃ­â€œ. Velikost proklÃ¡danÃ©ho oddÃ­lu se rozdÄ›lÃ­ na N stejnÃ½ch dÃ­lÅ¯ aÂ kaÅ¾dÃ½ se umÃ­stÃ­ na jeden fyzickÃ½ svazek ze zadanÃ© skupiny svazkÅ¯. Pokud se nÄ›kterÃ½ zÂ dÃ­lÅ¯ na svÅ¯j fyzickÃ½ svazek nevejde, vÅ¡echny dÃ­ly budou zmenÅ¡eny spoleÄnÄ›, aby se tam veÅ¡el. Kapacita vytvoÅ™enÃ©ho oddÃ­lu bude cca 90% souÄtu mÃ­sta zabranÃ©ho vÅ¡emi dÃ­ly proklÃ¡danÃ©ho oddÃ­lu (proklÃ¡dÃ¡nÃ­ mÃ¡ zÅ™ejmÄ› svoji reÅ¾ii). PÅ™Ã­klad: mÃ¡te ve skupinÄ› dva fyzickÃ© svazky 2G aÂ jeden 1G aÂ pokusÃ­te se vytvoÅ™it proklÃ¡danÃ½ svazek oÂ velikosti 5G; pÅ™Ã­kaz ho rozdÄ›lÃ­ na tÅ™i dÃ­ly oÂ velikosti 1,66G; jenÅ¾e na tÅ™etÃ­ fyzickÃ½ svazek se dÃ­l nevejde, tak se vÅ¡echny zmenÅ¡Ã­ na 1G. VÃ½slednÃ½ oddÃ­l tedy zabere 3G (na prvnÃ­m iÂ druhÃ©m svazku zÅ¯stane 1G volnÃ½) aÂ kapacita novÄ› vzniklÃ©ho oddÃ­lu bude cca 2765M.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpÄ›t do textu</div>");</script>
<div id="kapxa99b165ppc5"><a href="#kapxa99b165ppcr5" class="cislopozn">5</a>&nbsp;Volba --resizefs je podporovÃ¡na pouze pro nÄ›kterÃ© typy systÃ©mu souborÅ¯, zejmÃ©na pro ext4.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpÄ›t do textu</div>");</script>
<div id="kapxa99b165ppc6"><a href="#kapxa99b165ppcr6" class="cislopozn">6</a>&nbsp;Pozor! Pokud je na zmenÅ¡ovanÃ©m oddÃ­le souborovÃ½ systÃ©m, musÃ­te ho pÅ™ed zmenÅ¡enÃ­m oddÃ­lu zmenÅ¡it na odpovÃ­dajÃ­cÃ­ velikost, jinak dojde ke ztrÃ¡tÄ› dat! To neplatÃ­, pouÅ¾ijete-li zde parametr --resizefs.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpÄ›t do textu</div>");</script>
<div id="kapxa99b165ppc7"><a href="#kapxa99b165ppcr7" class="cislopozn">7</a>&nbsp;PÅ™esouvanÃ½ oddÃ­l nesmÃ­ bÃ½t pÅ™ipojenÃ½ aÂ vÂ aktuÃ¡lnÃ­m adresÃ¡Å™i si toto zaklÃ­nadlo potÅ™ebuje vytvoÅ™it doÄasnÃ½ soubor â€temp.datâ€œ. Pokud vÃ¡m tento nÃ¡zev nevyhovuje, mÅ¯Å¾ete pouÅ¾Ã­t jinÃ½.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpÄ›t do textu</div>");</script>
<div id="kapxa99b165ppc8"><a href="#kapxa99b165ppcr8" class="cislopozn">8</a>&nbsp;â€velikost-Pâ€œ je velikost novÄ› pÅ™idÄ›lenÃ©ho prostoru pro alokaci kopiÃ­ dat vzniklÃ½ch pÅ™i zÃ¡pisu do pÅ¯vodnÃ­ho oddÃ­lu nebo do logickÃ©ho snÃ­mku.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpÄ›t do textu</div>");</script>
<div id="kapxa99b165ppc9"><a href="#kapxa99b165ppcr9" class="cislopozn">9</a>&nbsp;Pokud je pÅ¯vodnÃ­ oddÃ­l pÅ™ipojenÃ½ nebo jinak vyuÅ¾Ã­vanÃ½, nedojde kÂ nakopÃ­rovÃ¡nÃ­ aÂ slouÄenÃ­ ihned, ale aÅ¾ pÅ™i pÅ™Ã­Å¡tÃ­ aktivaci logickÃ©ho oddÃ­lu (tzn. zpravidla po restartu systÃ©mu).</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpÄ›t do textu</div>");</script>
</div>


<nav class="spodni">
<a href="index.htm" class="naindex">ğŸ—&nbsp;PÅ™ehled&nbsp;kapitol</a>
<div class="naslkap">
<a href="diskove-oddily-softwarovy-raid.htm" rel="next" title="4.3. DiskovÃ© oddÃ­ly / SoftwarovÃ½ RAID">NÃ¡sledujÃ­cÃ­&nbsp;kapitola/dodatek:<br><span class="cislo">4.3</span>
<span class="nazev">DiskovÃ© oddÃ­ly / SoftwarovÃ½ RAID</span></a>
</div>
<!--<div><a href="index.htm">ğŸ—&nbsp;PÅ™ehled&nbsp;kapitol</a></div>-->
</nav>


<div class="odkazydole"><div><a href="odkazy.htm"><img src="obrazky/ik/odkazy.png" alt="" width="32" height="32">PevnÃ© aÂ symbolickÃ© odkazy</a><a href="prohlizeni-textovych-souboru.htm"><img src="obrazky/ik/prohlizeni-textovych-souboru.png" alt="" width="32" height="32">ProhlÃ­Å¾enÃ­ textovÃ½ch souborÅ¯</a><a href="bash-funkce-a-skripty.htm"><img src="obrazky/ik/bash.png" alt="" width="32" height="32">Bash / Funkce aÂ skripty</a></div></div>
<div class="reklamnipata">LÃ­bÃ­ se vÃ¡m tento projekt aÂ chcete, aby byl jeÅ¡tÄ› lepÅ¡Ã­? MÅ¯Å¾ete mi sÂ tÃ­m pomoci. ZmiÅˆte se oÂ nÄ›m technicky zdatnÃ½m pÅ™Ã¡telÅ¯m, opravte pÅ™eklepy aÂ nahlaÅ¡te nefunkÄnÃ­ zaklÃ­nadla, aby mohla bÃ½t opravena; poskytnÄ›te mi zpÄ›tnou vazbu nebo se zapojte do vÃ½voje novÃ½ch kapitol. DalÅ¡Ã­ informace na GitHubu vÂ dokumentu <a href="https://github.com/singularis-mzf/linux-spellbook/blob/v%C3%BDvojov%C3%A1/JAK-SE-ZAPOJIT.md">Jak se zapojit</a>.</div>

</article>
<!-- *** -->
<footer id="dole">
<img src="obrazky/by-sa.png" width="88" height="31" alt="[BY-SA]">
<p>VeÅ¡kerÃ½ obsah tÃ©to strÃ¡nky (text, obrÃ¡zky, zdrojovÃ½ kÃ³d) je moÅ¾no upravovat aÂ Å¡Ã­Å™it pod podmÃ­nkami licence
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>.
UpozorÅˆuji, Å¾e uvedenÃ¡ licence vyÅ¾aduje uvedenÃ­ seznamu autorÅ¯, licence aÂ zdroje aÂ poskytnutÃ­ stejnÃ©
Äi kompatibilnÃ­ licence kÂ provedenÃ½m zmÄ›nÃ¡m, jsou-li nÄ›jakÃ©. PÅ™Ã­sluÅ¡nÃ© Ãºdaje jsou dostupnÃ©
na strÃ¡nce â€<a href="x-autori.htm">PÅ™ehled autorÅ¯</a>â€œ.
Å Ã­Å™enÃ­ obsahu bez tÄ›chto ÃºdajÅ¯ nebo Å¡Ã­Å™enÃ­ upravenÃ© verze bez poskytnutÃ­ adekvÃ¡tnÃ­
licence kÂ provedenÃ½m ÃºpravÃ¡m je pravdÄ›podobnÄ› poruÅ¡enÃ­ licenÄnÃ­ch podmÃ­nek aÂ mÅ¯Å¾e bÃ½t postihovÃ¡no.
PoskytovÃ¡nÃ­ zdrojovÃ©ho kÃ³du pÅ™i Å¡Ã­Å™enÃ­ nenÃ­ touto licencÃ­ vyÅ¾adovÃ¡no.</p><p>Pro novÃ© verze, dalÅ¡Ã­ informace, aktuÃ¡lnÃ­ zdrojovÃ½ kÃ³d
aÂ moÅ¾nost se zapojit do projektu â€Linux: Kniha kouzelâ€œ navÅ¡tivte jeho
<a href="https://github.com/singularis-mzf/linux-spellbook">repozitÃ¡Å™ na GitHubu</a>.
</footer>
</div>

<nav class="menu">
<!-- MENU OSNOVA -->
<a href="#menuosnova" id="menuosnova"><span class="prvnipismeno">O</span>snova</a>
<aside class="menuosnova">
<div><div class="nadpis">Osnova</div><div class="polozky">
<a href="#cast1" class="sekce">1 Ãšvod</a>
<a href="#cast2" class="sekce">2 Definice</a>
<a href="#cast2x1" class="podsekce">/1 ObecnÃ© definice</a>
<a href="#cast3" class="sekce">3 ZaklÃ­nadla</a>
<a href="#cast3x1" class="podsekce">/1 FyzickÃ© svazky</a>
<a href="#cast3x2" class="podsekce">/2 Skupiny svazkÅ¯</a>
<a href="#cast3x3" class="podsekce">/3 LogickÃ© oddÃ­ly</a>
<a href="#cast3x4" class="podsekce">/4 LogickÃ© snÃ­mky</a>
<a href="#cast3x5" class="podsekce">/5 OstatnÃ­</a>
<a href="#cast4" class="sekce">4 Instalace na Ubuntu</a>
<a href="#cast5" class="sekce">5 Tipy a zkuÅ¡enosti</a>
<a href="#cast6" class="sekce">6 DalÅ¡Ã­ zdroje informacÃ­</a>
<a href="#cast7" class="sekce">7 ZÃ¡kulisÃ­ kapitoly</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">ZavÅ™Ã­t&nbsp;menu</a>
</aside>
<!-- MENU KAPITOLY -->
<a href="#menukapitoly" id="menukapitoly"><span class="prvnipismeno">K</span>apitoly</a>
<aside class="menukapitoly">
<div><div class="nadpis">Kapitoly</div><div class="polozky">
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/predmluva.png" alt="[]"></span><span class="fragodkazy"><a href="predmluva.htm" class="odkaz"><span><span class="cislo">1</span>PÅ™edmluva</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/zakladni-znalosti.png" alt="[]"></span><span class="fragodkazy"><a href="zakladni-znalosti.htm" class="odkaz"><span><span class="cislo">2</span>ZÃ¡kladnÃ­ znalosti</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/bash.png" alt="[]"></span><span class="fragodkazy"><a href="bash.htm" class="odkaz"><span><span class="cislo">3</span>Bash</span></a><span class="podkpodkazy"><a href="bash-funkce-a-skripty.htm" class="odkaz"><span><span class="cislo">3.1</span>Funkce aÂ skripty</span></a><a href="bash-interaktivni-rezim.htm" class="odkaz"><span><span class="cislo">3.2</span>InteraktivnÃ­ reÅ¾im</span></a></span></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/diskove-oddily.png" alt="[]"></span><span class="fragodkazy"><a href="diskove-oddily.htm" class="odkaz"><span><span class="cislo">4</span>DiskovÃ© oddÃ­ly</span></a><span class="podkpodkazy"><a href="diskove-oddily-btrfs.htm" class="odkaz"><span><span class="cislo">4.1</span>Btrfs</span></a><a href="diskove-oddily-lvm.htm" class="odkaz"><span><span class="cislo">4.2</span>LVM</span></a><a href="diskove-oddily-softwarovy-raid.htm" class="odkaz"><span><span class="cislo">4.3</span>SoftwarovÃ½ RAID</span></a></span></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/git.png" alt="[]"></span><span class="fragodkazy"><a href="git.htm" class="odkaz"><span><span class="cislo">5</span>Git</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/hledani-souboru.png" alt="[]"></span><span class="fragodkazy"><a href="hledani-souboru.htm" class="odkaz"><span><span class="cislo">6</span>HledÃ¡nÃ­ souborÅ¯</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/metaprikazy.png" alt="[]"></span><span class="fragodkazy"><a href="metaprikazy.htm" class="odkaz"><span><span class="cislo">7</span>MetapÅ™Ã­kazy</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/nabidka-aplikaci.png" alt="[]"></span><span class="fragodkazy"><a href="nabidka-aplikaci.htm" class="odkaz"><span><span class="cislo">8</span>NabÃ­dka aplikacÃ­</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/odkazy.png" alt="[]"></span><span class="fragodkazy"><a href="odkazy.htm" class="odkaz"><span><span class="cislo">9</span>PevnÃ© aÂ symbolickÃ© odkazy</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/perl-zaklady.png" alt="[]"></span><span class="fragodkazy"><a href="perl-zaklady.htm" class="odkaz"><span><span class="cislo">10</span>Perl: zÃ¡klady</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/prace-s-archivy.png" alt="[]"></span><span class="fragodkazy"><a href="prace-s-archivy.htm" class="odkaz"><span><span class="cislo">11</span>PrÃ¡ce s archivy</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/prohlizeni-textovych-souboru.png" alt="[]"></span><span class="fragodkazy"><a href="prohlizeni-textovych-souboru.htm" class="odkaz"><span><span class="cislo">12</span>ProhlÃ­Å¾enÃ­ textovÃ½ch souborÅ¯</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/regularni-vyrazy.png" alt="[]"></span><span class="fragodkazy"><a href="regularni-vyrazy.htm" class="odkaz"><span><span class="cislo">13</span>RegulÃ¡rnÃ­ vÃ½razy</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/sprava-balicku.png" alt="[]"></span><span class="fragodkazy"><a href="sprava-balicku.htm" class="odkaz"><span><span class="cislo">14</span>SprÃ¡va balÃ­ÄkÅ¯</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/sprava-uzivatelskych-uctu.png" alt="[]"></span><span class="fragodkazy"><a href="sprava-uzivatelskych-uctu.htm" class="odkaz"><span><span class="cislo">15</span>SprÃ¡va uÅ¾ivatelskÃ½ch ÃºÄtÅ¯</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/system.png" alt="[]"></span><span class="fragodkazy"><a href="system.htm" class="odkaz"><span><span class="cislo">16</span>SystÃ©m</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/zpracovani-textovych-souboru.png" alt="[]"></span><span class="fragodkazy"><a href="zpracovani-textovych-souboru.htm" class="odkaz"><span><span class="cislo">17</span>ZpracovÃ¡nÃ­ textovÃ½ch souborÅ¯</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/licence.png" alt="[]"></span><span class="fragodkazy"><a href="licence.htm" class="odkaz"><span><span class="cislo">18</span>Licence</span></a></span></div>
<div class="fragodkaz"><span class="ikona"><img src="obrazky/ik/rejstrik.png" alt="[]"></span><span class="fragodkazy"><a href="rejstrik.htm" class="odkaz"><span><span class="cislo">19</span>RejstÅ™Ã­k podle klasickÃ½ch pÅ™Ã­kazÅ¯</span></a></span></div>
<div class="premiove"><strong>PrÃ©miovÃ© kapitoly:</strong>
<div>AWK</div>
<div>Bash / Vstup, vÃ½stup aÂ pÅ™esmÄ›rovÃ¡nÃ­</div>
<div>Datum, Äas aÂ kalendÃ¡Å™</div>
<div>Make</div>
<div>ManuÃ¡lovÃ© strÃ¡nky</div>
<div>Markdown</div>
<div>Perl: moduly aÂ objekty</div>
<div>PromÄ›nnÃ© prostÅ™edÃ­ aÂ interpretu</div>
<div>Sed</div>
<div>Soubory aÂ adresÃ¡Å™e</div>
<div>SprÃ¡va procesÅ¯</div>
<div>TerminÃ¡l</div>
<div>TerminÃ¡l / EmodÅ¾i</div>
<div>Vim</div>
<div>ZpracovÃ¡nÃ­ binÃ¡rnÃ­ch souborÅ¯</div>
<div>ZpracovÃ¡nÃ­ videa aÂ zvuku</div>
</div><p>Tyto kapitoly mÅ¯Å¾ete zÃ­skat jako odmÄ›nu za pÅ™eklad ze zdrojovÃ©ho kÃ³du. PodrobnÄ›jÅ¡Ã­ informace <a href="https://github.com/singularis-mzf/linux-spellbook/blob/stabiln%C3%AD/dokumentace/odm%C4%9Bna-za-sestaven%C3%AD.md">na GitHubu</a>.</p>
</div></div>
<a href="#zavritmenu" id="zavritmenu" class="zavritmenu">ZavÅ™Ã­t&nbsp;menu</a>
</aside>
<!-- MENU Å TÃTKY -->
<a href="#menustitky" id="menustitky"><span class="prvnipismeno">Å </span>tÃ­tky</a>
<aside class="menustitky">
<div><div class="nadpis">Å tÃ­tky</div><div class="polozky">
<a href="x-stitky.htm#x5208bbb">adresÃ¡Å™e&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#xb0a5782">aplikace&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x583f72a">apt&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#xa619ea3">automatizace&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#xd574d4b">bash&nbsp;&nbsp;(5)</a>
<a href="x-stitky.htm#xcd6caf8">dÃ©moni&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#xb05338c">Flatpak&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x1e3042b">GUI&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x4e36c04">hledÃ¡nÃ­&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x3c8789a">klÃ¡vesnice&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#xa473827">komprese&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x79108ba">LVM&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#x2d47ed4">odklÃ¡dacÃ­ prostor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x0114ad0">Perl&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#xa9c449d">program&nbsp;&nbsp;(5)</a>
<a href="x-stitky.htm#xc65388d">programovÃ¡nÃ­&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#x43a526a">pÅ™Ã­stupovÃ¡ prÃ¡va&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#xcf91513">RAID&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x5c5f44a">ramdisk&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x9ad09a9">Snap&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x23be896">soubory&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x12e55d8">sprÃ¡va verzÃ­&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x9dcbb0b">syntaxe&nbsp;&nbsp;(3)</a>
<a href="x-stitky.htm#xba98a3b">systÃ©m&nbsp;&nbsp;(7)</a>
<a href="x-stitky.htm#x3972255">systÃ©m souborÅ¯&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x3c01147">tematickÃ½ okruh&nbsp;&nbsp;(14)</a>
<a href="x-stitky.htm#xf54f028">textovÃ© soubory&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#xadcdbd7">zip&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#x908961b">zpracovÃ¡nÃ­ textu&nbsp;&nbsp;(3)</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">ZavÅ™Ã­t&nbsp;menu</a>
</aside>
<!-- MENU NÃPOVÄšDA -->
<a href="#menunapoveda" id="menunapoveda"><span class="prvnipismeno">N</span>Ã¡povÄ›da</a>
<aside class="menunapoveda">
<div><div class="nadpis">NÃ¡povÄ›da</div><div class="polozky">
<a href="predmluva.htm">PÅ™edmluva</a>
<a href="https://singularis-mzf.github.io/">OstatnÃ­ verze knihy</a>
<a href="https://github.com/singularis-mzf/linux-spellbook">RepozitÃ¡Å™ na GitHubu</a>
<a href="https://github.com/singularis-mzf/linux-spellbook/blob/stabiln%C3%AD/dokumentace/odm%C4%9Bna-za-sestaven%C3%AD.md">OdmÄ›na za sestavenÃ­ (prÃ©miovÃ© kapitoly)</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">ZavÅ™Ã­t&nbsp;menu</a>
</aside>
</nav>

<a href="#nahore" id="odkaznahoru" title="NAHORU âˆ’ na zaÄÃ¡tek strÃ¡nky">â–´<!--â¤’--></a>
<a href="#dole" id="odkazdolu" title="DOLÅ® âˆ’ na konec strÃ¡nky">â–¾<!--â¤“--></a>

</div>
</body>
</html>
