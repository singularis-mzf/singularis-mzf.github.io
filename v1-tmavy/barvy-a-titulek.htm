<!doctype html>
<html lang="cs">
<head profile="http://www.w3.org/2005/10/profile">
<meta charset="UTF-8">

<title>Barvy, titulek a výzva terminálu − Linux: Kniha kouzel</title>

<link rel="stylesheet" type="text/css" href="lkk-20200628.css">
<link rel="alternate stylesheet" type="text/css" href="lkk-20200628-vk-svetly.css" title="Vysoký kontrast: světlá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20200628-vk-tmavy.css" title="Vysoký kontrast: tmavá varianta">
<link rel="alternate stylesheet" type="text/css" href="lkk-20200628-tmavy.css" title="Tmavý motiv">
<link rel="icon" type="image/png" href="obrazky/favicon.png">
</head>
<body>
<div id="nahore"></div>
<header>
<span class="left"><a href="index.htm"><img src="obrazky/favicon.png" width="16" height="16" alt=""></a> Linux: Kniha kouzel, vanilková příchuť 1.9, E. E. (28. června 2020)</span>
<span class="right"><span class="ico1"></span><span class="ico2"></span><span class="ico3"></span></span>
</header>
<nav class="menuokna">
<a href="#menukapitoly" class="menu"><span class="prvnipismeno">K</span>apitoly</a>
<a href="#menuosnova" class="menu"><span class="prvnipismeno">O</span>snova</a>
<a href="#menustitky" class="menu"><span class="prvnipismeno">Š</span>títky</a>
<a href="#menunapoveda" class="menu"><span class="prvnipismeno">N</span>ápověda</a>
<a href="awk.htm" rel="prev" title="2. AWK" accesskey="p" class="predchozi">Předchozí&nbsp;kapitola</a>
<a href="index.htm" class="prehled"><span class="prvnipismeno">P</span>řehled kapitol</a>
<a href="datum-cas-kalendar.htm" rel="next" title="4. Datum, čas a kalendář" accesskey="n" class="nasledujici">Následující&nbsp;kapitola</a>
</nav>

<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>

<!--
<nav class="horni">
<div class="slogan">Veškerá moc příkazové řádky/příkazového řádku přehledně, pro začátečníky i&nbsp;pokročilé</div>
<span class="prev">
<a href="awk.htm" rel="prev" title="2. AWK" accesskey="p">Předchozí&nbsp;kapitola</a>&nbsp;|
</span><a href="index.htm" accesskey="i">Přehled</a><span class="next"><!- -
- ->&nbsp;| <a href="datum-cas-kalendar.htm" rel="next" title="4. Datum, čas a kalendář" accesskey="n">Následující&nbsp;kapitola</a>
</span>
</nav>
-->


<article>

<h1 class="kapitola">3. <img src="obrazky/ik/barvy-a-titulek.png" alt="" width="64" height="64"> Barvy, titulek a výzva terminálu</h1>
<div class="stitky"><a href="x-stitky.htm#sbrvy">barvy</a>
<a href="x-stitky.htm#sbsh">bash</a>
<a href="x-stitky.htm#stemtickokruh">tematický okruh</a>
</div>
<h2 id="cast1"><a href="#cast1"><span class="cislo">1.</span> Úvod</a></h2>
<p class="ponadpisu">
Tato kapitola pokrývá ovládání barvy písma, barvy pozadí, použitého fontu, titulku terminálového okna a pozice a vlastností kurzoru. Rovněž pokrývá nastavování výzev interpretu bash (PS1 a dalších). Logicky by patřila do kapitoly o příkazovém interpretu bash, ale ta bude velmi rozsáhlá a náročná na zpracování, proto jsem toto téma vydělil/a do samostatné kapitoly.
</p><p>
Barvy a font se v příkazové řádce Linuxu nastavují pomocí takzvaných escape sekvencí, což jsou zvláštní řídicí sekvence bajtů, kterým daný terminál rozumí a místo jejich vypsání na obrazovku změní písmo, přesune kurzor nebo udělá jinou akci, která je v dané sekvenci zakódována. Abychom se tyto sekvence nemuseli učit, používáme místo nich moderní příkaz „tput“, který načte příslušnou sekvenci ze své databáze a vypíše ji na svůj standardní výstup. Pokud tento výstup směřuje přímo na terminál, požadovaná akce se ihned provede; častěji se ale sekvence ukládá do proměnné k pozdějšímu použití; k její aktivaci pak stačí danou proměnnou vypsat na terminál příkazem jako „printf“ či „echo“.
</p><p>
Tato verze kapitoly nepokrývá zvláštní schopnosti konkrétních terminálových programů (např. rozdíly mezi Terminatorem a Konsolí) a podporu šestnácti milionů barev, která zatím v terminálových programech není dostatečně rozšířena (ačkoliv některé už příslušné escape sekvence podporují).
</p><p>
Jedna z prvních věcí, která mě po otevření linuxového terminálu naštvala, bylo to, že neustále barevně zdůrazňoval moje uživatelské jméno a uváděl ho do titulku snad každého terminálového okna. Když si v Xubuntu ve výchozím nastavení poprvé otevřete Terminator a rozdělíte ho na čtyři podokna, svoje uživatelské jméno uvidíte na <i>deseti</i> místech a zopakuje se pokaždé, když máte zadat další příkaz. Mám z toho pocit, že toto nastavení musel navrhovat někdo s narcistickou poruchou osobnosti... Pokud si to chcete předělat, tato kapitola vám poradí jak.
</p>

<h2 id="cast2"><a href="#cast2"><span class="cislo">2.</span> Definice</a></h2>
<ul><li><b>Výzva terminálu</b> (zkráceně „výzva“) je řetězec, který interpret příkazové řádky vypisuje před, během nebo po přijetí příkazu od uživatele (tzn. v interaktivním režimu). V interpretu „bash“ se rozeznávají tři druhy výzvy a jejich šablony jsou uloženy v proměnných PS0, PS1 a PS2: <b>hlavní výzva</b> (PS1) značí, že bash očekává příkaz, <b>vedlejší výzva</b> (PS2) značí, že bash očekává pokračování příkazu na dalším řádku, <b>potvrzující výzva</b> (PS0) se vypisuje po přijetí příkazu a před zahájením jeho vykonávání.
</li><li><b>Escape sekvence</b> je posloupnost bajtů, na kterou terminál zareaguje změnou nastavení (např. barvy písma) či nějakou akcí. Escape sekvence začínají netisknutelným znakem „escape“ (ASCII kód 0x1b). V minulosti se zapisovaly ručně a děsily nezkušené uživatele; dnes je však můžeme pohodlně generovat moderním příkazem „tput“, který současně redukuje problémy s kompatibilitou jednotlivých typů terminálů.
</li><li><b>Paleta</b> je v této kapitole pole barev, které daný terminál podporuje, <i>indexované od nuly</i>. Typicky se vyskytují pouze dvě palety: s 8 barvami a s 256 barvami, ačkoliv realizace konkrétních barev v těchto paletách se mohou v jednotlivých terminálech mírně lišit.
</li></ul>
<h2 id="cast3"><a href="#cast3"><span class="cislo">3.</span> Zaklínadla</a></h2>

<h3 id="cast3x1"><span><a href="#cast3x1" title="kapitola 3 (Barvy, titulek a výzva terminálu), sekce 3 (Zaklínadla), podsekce 1 (Titulek)"><sup>3/</sup>1 Titulek</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1944535824"><span><a href="#z1944535824">⇽</a></span></span>nastavit <b>titulek</b> okna terminálu<span class="cislo">#1 </span><sup><a href="#kapbarvyatitulekppc1" id="kapbarvyatitulekppcr1" title="Ve výchozím nastavení nastavuje titulek terminálu jeho hlavní výzva PS1. Proto ji musíte před experimentováním vypnout, např. příkazem „PS=&quot;&quot;“, jinak vám vaše nové nastavení hned přepíše a ani si toho nevšimnete.">(1)</a></sup></div><div class="radky">
<div class="radekzaklinadla">printf %s\\n &quot;$TERM&quot; | egrep -isq &quot;^(xterm|rxvt)&quot; &amp;&amp; printf &quot;\\e]2;%s\\a&quot; &quot;<i class="dopln">nový titulek</i>&quot;</div>
</div></div>

<h3 id="cast3x2"><span><a href="#cast3x2" title="kapitola 3 (Barvy, titulek a výzva terminálu), sekce 3 (Zaklínadla), podsekce 2 (Barvy)"><sup>3/</sup>2 Barvy</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1885360039"><span><a href="#z1885360039">┴</a></span></span>vypsat <b>vzorník palety</b> (barvy na pozadí)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">for I in $(seq 0 $(($(tput colors) - 1)))</div>
<div class="radekzaklinadla">do</div>
<div class="radekzaklinadla">printf &quot;%s<span class="viditelnamezera">&nbsp;</span>%3d<span class="viditelnamezera">&nbsp;</span>%s&quot; &quot;$(tput bold;tput setab $I)&quot; $I &quot;$(tput sgr0)&quot;</div>
<div class="radekzaklinadla">test $(($I % 16)) -eq 15 &amp;&amp; printf \\n</div>
<div class="radekzaklinadla">done</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z1071512952"><span><a href="#z1071512952">⨿</a></span></span>vypsat vzorník palety (barvy textu)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">for I in $(seq 0 $(($(tput colors) - 1)))</div>
<div class="radekzaklinadla">do</div>
<div class="radekzaklinadla">printf &quot;%s<span class="viditelnamezera">&nbsp;</span>%3d<span class="viditelnamezera">&nbsp;</span>%s&quot; &quot;$(tput bold;tput setaf $I)&quot; $I &quot;$(tput sgr0)&quot;</div>
<div class="radekzaklinadla">test $(($I % 16)) -eq 15 &amp;&amp; printf \\n</div>
<div class="radekzaklinadla">done</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z568068531"><span><a href="#z568068531">⨖</a></span></span><b>resetovat</b> všechny atributy písma a barev<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">tput sgr0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1468409664"><span><a href="#z1468409664">⚳</a></span></span>nastavit <b>barvu popředí/pozadí</b><span class="cislo">#4 </span><sup><a href="#kapbarvyatitulekppc2" id="kapbarvyatitulekppcr2" title="Funkce „lkk_bezp_set“ použije ze svých argumentů první podporované číslo barvy. Není-li žádné z uvedených čísel podporováno, žádná barva se nanastaví. Při volání doporučuji jako první uvést číslo pro paletu s 256 barvami a jako druhé číslo náhradní barvy z osmibarevné palety.">(2)</a></sup></div><div class="radky">
<div class="radekzaklinadla dopreambule"><span title="Takto označený řádek patří do preambule zdrojového kódu či do záhlaví skriptu.">^</span>source &lt;(lkk --funkce)</div>
<div class="radekzaklinadla">lkk_bezp_set setaf <i class="dopln">číslo-barvy</i><span class="tritecky"></span></div>
<div class="radekzaklinadla">lkk_bezp_set setab <i class="dopln">číslo-barvy</i><span class="tritecky"></span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1571971774"><span><a href="#z1571971774">✓</a></span></span><b>ztmavit</b> text (jen zapnout)<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">tput dim</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z55700734"><span><a href="#z55700734">⛢</a></span></span>inverzní režim (dočasně prohodí barvy popředí a pozadí; jen zapnout)<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">tput rev</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1138078525"><span><a href="#z1138078525">▜</a></span></span>neviditelný text (text barvou pozadí; jen zapnout)<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">tput invis</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1029257169"><span><a href="#z1029257169">▪</a></span></span>zvýrazněný mód (zapnout/vypnout)<span class="cislo">#8 </span><sup><a href="#kapbarvyatitulekppc3" id="kapbarvyatitulekppcr3" title="Na některých terminálech je realizován jako inverzní text, na jiných jako tučné písmo.">(3)</a></sup></div><div class="radky">
<div class="radekzaklinadla">tput smso</div>
<div class="radekzaklinadla">tput rmso</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z837674238"><span><a href="#z837674238">≀</a></span></span>blikající text (jen zapnout; málo podporovaný)<span class="cislo">#9 </span><sup><a href="#kapbarvyatitulekppc4" id="kapbarvyatitulekppcr4" title="Používání blikajícího textu se výrazně nedoporučuje, protože je v různých terminálech málo a nejednotně podporován, má mnoho odpůrců a může uživateli způsobovat zdravotní potíže.">(4)</a></sup></div><div class="radky">
<div class="radekzaklinadla">tput blink</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1278726417"><span><a href="#z1278726417">↣</a></span></span>vyplnit celý terminál barvou<span class="cislo">#10 </span></div><div class="radky">
<div class="radekzaklinadla dopreambule"><span title="Takto označený řádek patří do preambule zdrojového kódu či do záhlaví skriptu.">^</span>source &lt;(lkk --funkce)</div>
<div class="radekzaklinadla">lkk_bezp_set setab <i class="dopln">číslo-barvy</i> <span class="volznak">[</span><i class="dopln">náhradní-číslo-barvy</i><span class="volznak">]</span><span class="tritecky"></span>; tput clear; tput sgr0</div>
</div></div>

<h3 id="cast3x3"><span><a href="#cast3x3" title="kapitola 3 (Barvy, titulek a výzva terminálu), sekce 3 (Zaklínadla), podsekce 3 (Nastavení písma)"><sup>3/</sup>3 Nastavení písma</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z701173503"><span><a href="#z701173503">ະ</a></span></span><b>vypnout všechny atributy</b> písma a barev<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">tput sgr0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z477361525"><span><a href="#z477361525">▀</a></span></span><b>tučné</b> písmo (jen zapnout)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">tput bold</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1578768241"><span><a href="#z1578768241">⋄</a></span></span><b>kurzíva</b> (zapnout/vypnout)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">tput sitm</div>
<div class="radekzaklinadla">tput ritm</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z214351020"><span><a href="#z214351020">≷</a></span></span><b>podtržení</b> (zapnout/vypnout)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">tput smul</div>
<div class="radekzaklinadla">tput rmul</div>
</div></div>

<h3 id="cast3x4"><span><a href="#cast3x4" title="kapitola 3 (Barvy, titulek a výzva terminálu), sekce 3 (Zaklínadla), podsekce 4 (Zjistit údaje o terminálu)"><sup>3/</sup>4 Zjistit údaje o terminálu</a></span></h3>
<p class="ponadpisu">
Zde uvedené příkazy nevypisují escape sekvence, ale konkrétní hodnoty.
</p>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1806906703"><span><a href="#z1806906703">⇎</a></span></span>počet sloupců/řádků terminálu<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">tput cols<span class="prikladhodnoty">⊨ 98</span></div>
<div class="radekzaklinadla">tput lines<span class="prikladhodnoty">⊨ 30</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z588702598"><span><a href="#z588702598">⠜</a></span></span>počet podporovaných barev (velikost palety)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">tput colors<span class="prikladhodnoty">⊨ 256</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1199100502"><span><a href="#z1199100502">⇮</a></span></span>aktuální sloupec/řádka kurzoru/obojí do proměnných $Y (řádek) a $X (sloupec)<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">read -rsd R -p $'\e[6n' &lt;/dev/tty &amp;&amp; printf %s\\n $(($(printf %s\\n &quot;$REPLY&quot; | sed -E 's/.*\[([0-9]+);([0-9]+)/\1/') - 1))</div>
<div class="radekzaklinadla">read -rsd R -p $'\e[6n' &lt;/dev/tty &amp;&amp; printf %s\\n $(($(printf %s\\n &quot;$REPLY&quot; | sed -E 's/.*\[([0-9]+);([0-9]+)/\2/') - 1))</div>
<div class="radekzaklinadla">read -rsd R -p $'\e[6n' &lt;/dev/tty &amp;&amp; eval &quot;$(printf %s\\n &quot;$REPLY&quot; | sed -E 's/.*\[([0-9]+);([0-9]+)/Y=$((\1-1));X=$((\2-1));/')&quot;</div>
</div></div>

<h3 id="cast3x5"><span><a href="#cast3x5" title="kapitola 3 (Barvy, titulek a výzva terminálu), sekce 3 (Zaklínadla), podsekce 5 (Ovládání kurzoru)"><sup>3/</sup>5 Ovládání kurzoru</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1069372754"><span><a href="#z1069372754">≔</a></span></span><b>uložit/obnovit</b> pozici kurzoru<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">tput sc</div>
<div class="radekzaklinadla">tput rc</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1941775707"><span><a href="#z1941775707">▭</a></span></span>posun kurzoru <b>na pozici</b><span class="cislo">#2 </span><sup><a href="#kapbarvyatitulekppc5" id="kapbarvyatitulekppcr5" title="Řádky a sloupce jsou číslovány od nuly od levého horního rohu terminálu.">(5)</a></sup></div><div class="radky">
<div class="radekzaklinadla">tput cup <i class="dopln">číslo-řádku</i> <i class="dopln">číslo-sloupce</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z753493318"><span><a href="#z753493318">⡨</a></span></span>posun kurzoru nahoru/dolů/vlevo/vpravo<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">tput cuu <i class="dopln">posun</i></div>
<div class="radekzaklinadla">tput cud <i class="dopln">posun</i></div>
<div class="radekzaklinadla">tput cub <i class="dopln">posun</i></div>
<div class="radekzaklinadla">tput cuf <i class="dopln">posun</i></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z977140084"><span><a href="#z977140084">〖</a></span></span>posun kurzoru <b>do určitého sloupce</b> na aktuální řádce/na začátek řádku<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">tput hpa <i class="dopln">index-sloupce</i></div>
<div class="radekzaklinadla">tput hpa 0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z326070623"><span><a href="#z326070623">䷣</a></span></span>posun kurzoru do levého horního rohu/levého dolního rohu<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">tput home</div>
<div class="radekzaklinadla">tput cup $(tput lines) 0</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1835612273"><span><a href="#z1835612273">⢻</a></span></span>skrytí kurzoru/zrušení skrytí<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">tput civis</div>
<div class="radekzaklinadla">tput cnorm</div>
</div></div>

<h3 id="cast3x6"><span><a href="#cast3x6" title="kapitola 3 (Barvy, titulek a výzva terminálu), sekce 3 (Zaklínadla), podsekce 6 (Mazání obrazovky)"><sup>3/</sup>6 Mazání obrazovky</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z52031153"><span><a href="#z52031153">⋙</a></span></span>smazat <b>část řádky</b> od kurzoru vlevo/vpravo<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">tput el1</div>
<div class="radekzaklinadla">tput el</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1600910602"><span><a href="#z1600910602">❐</a></span></span>smazat <b>celou obrazovku</b> a kurzor přesunout na pozici 0 0 (levý horní roh)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">tput clear</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1925669338"><span><a href="#z1925669338">◂</a></span></span>odstranit N řádků od aktuální řádky (včetně) dolů<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla"><a href="#" class="reseninezname" title="Řešení tohoto příkladu nebylo při vydání této verze kapitoly známo.">?</a></div>
</div></div>

<h2 id="cast4"><a href="#cast4"><span class="cislo">4.</span> Zaklínadla (PS0, PS1 a PS2)</a></h2>
<p class="ponadpisu">
Poznámka: z hlediska odzvláštnění jsou zaklínadla v této sekci upravena pro uvedení uvnitř dvojitých uvozovek v bashi. Při uvedení jiným způsobem (např. v jednoduchých uvozovkách nebo při načítání ze souboru) je tomu nutno zpětná lomítka přizpůsobit.
</p>

<h3 id="cast4x1"><span><a href="#cast4x1" title="kapitola 3 (Barvy, titulek a výzva terminálu), sekce 4 (Zaklínadla (PS0, PS1 a PS2)), podsekce 1 (Častá)"><sup>4/</sup>1 Častá</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1589936705"><span><a href="#z1589936705">ⵥ</a></span></span><b>znak $</b> pro normálního uživatele a # pro uživatele „root“<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">\\\$<span class="prikladhodnoty">⊨ $</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1302205911"><span><a href="#z1302205911">✷</a></span></span>provedení příkazu a vypsání jeho výstupu (vyhodnotit hned/vyhodnotit při každém vypsání dané výzvy)<span class="cislo">#2 </span><sup><a href="#kapbarvyatitulekppc6" id="kapbarvyatitulekppcr6" title="U druhé varianty (vyhodnotit při každém vypsání výzvy) musíte v příkazu odzvláštnit znaky &quot;, \, $ a !, aby se do příslušné proměnné uložil přesně tak, jak má být vykonán.">(6)</a></sup></div><div class="radky">
<div class="radekzaklinadla">$(<i class="dopln">příkaz</i>)</div>
<div class="radekzaklinadla">\$(<i class="dopln">příkaz</i>)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1158399726"><span><a href="#z1158399726">✢</a></span></span><b>návratový kód</b> posledního příkazu (viz poznámka!)<span class="cislo">#3 </span><sup><a href="#kapbarvyatitulekppc7" id="kapbarvyatitulekppcr7" title="Poznámka: Aby tento výraz fungoval, musíte do proměnné PROMPT_COMMAND (ideálně na začátek) přidat příkaz „navr_hodn=$?“, např. příkazem „PROMPT_COMMAND=&quot;navr_hodn=\$?;$PROMPT_COMMAND&quot;“.">(7)</a></sup></div><div class="radky">
<div class="radekzaklinadla">\${navr_hodn}<span class="prikladhodnoty">⊨ 0</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1764074131"><span><a href="#z1764074131">┷</a></span></span>cesta/název <b>aktuálního adresáře</b> (v obou případech se domovský adresář nahrazuje znakem „~“)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">\\w<span class="prikladhodnoty">⊨ ~/Dokumenty</span></div>
<div class="radekzaklinadla">\\W<span class="prikladhodnoty">⊨ Dokumenty</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z691033925"><span><a href="#z691033925">ⵂ</a></span></span>aktuální <b>čas</b> ve formátu HH:MM/HH:MM:SS<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">\\A<span class="prikladhodnoty">⊨ 15:35</span></div>
<div class="radekzaklinadla">\\t<span class="prikladhodnoty">⊨ 15:35:38</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona L" id="z602959209"><span><a href="#z602959209">⟣</a></span></span>aktuální <b>datum</b> ve formátu YYYY-MM-DD/ve vlastním formátu<span class="cislo">#6 </span><sup><a href="#kapbarvyatitulekppc8" id="kapbarvyatitulekppcr8" title="Pro popis vlastního formátu viz „man strftime“ nebo kapitolu „Datum, čas a kalendář“.">(8)</a></sup></div><div class="radky">
<div class="radekzaklinadla">\\D{%F}<span class="prikladhodnoty">⊨ 2020-01-29</span></div>
<div class="radekzaklinadla">\\D{<i class="dopln">formát</i>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z2109248549"><span><a href="#z2109248549">⨌</a></span></span><b>název počítače</b> (úplný/jen před první „.“)<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">\\H<span class="prikladhodnoty">⊨ mars.podnik</span></div>
<div class="radekzaklinadla">\\h<span class="prikladhodnoty">⊨ mars</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z482168484"><span><a href="#z482168484">♪</a></span></span>konec řádku/tabulátor<span class="cislo">#8 </span></div><div class="radky">
<div class="radekzaklinadla">\\n</div>
<div class="radekzaklinadla">$(printf \\t)</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z709389669"><span><a href="#z709389669">❘</a></span></span><b>hodnota proměnné</b> při každém vypsání výzvy<span class="cislo">#9 </span></div><div class="radky">
<div class="radekzaklinadla">\\\${<i class="dopln">název proměnné</i>}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z459844042"><span><a href="#z459844042">♛</a></span></span><b>uživatelské jméno</b> přihlášeného uživatele/jeho celé jméno<span class="cislo">#10 </span></div><div class="radky">
<div class="radekzaklinadla">\\u<span class="prikladhodnoty">⊨ novakova</span></div>
<div class="radekzaklinadla">$(getent passwd $UID | cut -d : -f 5 | cut -d , -f 1)<span class="prikladhodnoty">⊨ Jarmila Nováková</span></div>
</div></div>

<h3 id="cast4x2"><span><a href="#cast4x2" title="kapitola 3 (Barvy, titulek a výzva terminálu), sekce 4 (Zaklínadla (PS0, PS1 a PS2)), podsekce 2 (Méně častá)"><sup>4/</sup>2 Méně častá</a></span></h3>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1563636894"><span><a href="#z1563636894">⣲</a></span></span><b>číslo příkazu</b> (podle historie/pořadové)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">\\!&quot;&quot;<span class="prikladhodnoty">⊨ 1984</span></div>
<div class="radekzaklinadla">\\#<span class="prikladhodnoty">⊨ 9</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z894855372"><span><a href="#z894855372">‥</a></span></span>označení <b>terminálu</b> (alternativy)<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">\\l<span class="prikladhodnoty">⊨ 3 (pro textovou konzoli např. „tty3“)</span></div>
<div class="radekzaklinadla">$(ps h -o tty:1 -p $$)<span class="prikladhodnoty">⊨ pts/3 (pro textovou konzoli např. „tty3“)</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z672002372"><span><a href="#z672002372">╲</a></span></span><b>PID</b> příkazového interpretu<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">\${\$}<span class="prikladhodnoty">⊨ 3338</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1345519597"><span><a href="#z1345519597">♁</a></span></span>počet úloh běžících na pozadí (těch, které lze vypsat příkazem „jobs“)<span class="cislo">#4 </span></div><div class="radky">
<div class="radekzaklinadla">\\j<span class="prikladhodnoty">⊨ 0</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1632810318"><span><a href="#z1632810318">ᕺ</a></span></span>počet řádek/sloupců terminálu<span class="cislo">#5 </span></div><div class="radky">
<div class="radekzaklinadla">\${LINES}</div>
<div class="radekzaklinadla">\${COLUMNS}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1296686972"><span><a href="#z1296686972">ⴳ</a></span></span>cesta/název aktuálního adresáře (bez zkracování znakem „~“)<span class="cislo">#6 </span></div><div class="radky">
<div class="radekzaklinadla">\$(pwd)<span class="prikladhodnoty">⊨ /home/novakova/Dokumenty</span></div>
<div class="radekzaklinadla">\$(basename \$(pwd))<span class="prikladhodnoty">⊨ Dokumenty</span></div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1419569983"><span><a href="#z1419569983">□</a></span></span>znak „$“ pro všechny (i pro uživatele root)<span class="cislo">#7 </span></div><div class="radky">
<div class="radekzaklinadla">\$(printf \$)<span class="prikladhodnoty">⊨ $</span></div>
</div></div>

<h2 id="cast5"><a href="#cast5"><span class="cislo">5.</span> Zaklínadla (příklady)</a></h2>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1777684340"><span><a href="#z1777684340">䷥</a></span></span>návratová hodnota, čas, aktuální adresář a dolar<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla dopreambule"><span title="Takto označený řádek patří do preambule zdrojového kódu či do záhlaví skriptu.">^</span>source &lt;(lkk --funkce)</div>
<div class="radekzaklinadla">PROMPT_COMMAND=&quot;navr_hodn=\$?&quot;</div>
<div class="radekzaklinadla">PS1=&quot;$(lkk_pstput sgr0)\$navr_hodn $(lkk_pstput setaf 6)\A &quot;</div>
<div class="radekzaklinadla">PS1+=&quot;$(lkk_pstput sgr0; lkk_pstput bold; lkk_pstput setaf 2)\w$(lkk_pstput sgr0)\\\$<span class="viditelnamezera">&nbsp;</span>&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z941766651"><span><a href="#z941766651">╘</a></span></span>vedlejší výzva: zelené svislítko<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla dopreambule"><span title="Takto označený řádek patří do preambule zdrojového kódu či do záhlaví skriptu.">^</span>source &lt;(lkk --funkce)</div>
<div class="radekzaklinadla">PS2=&quot;\\[$(lkk_bezp_set setaf 2)\\]|$(lkk_pstput sgr0)<span class="viditelnamezera">&nbsp;</span>&quot;</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z249239496"><span><a href="#z249239496">≲</a></span></span>příkazy psát červeně na zeleném pozadí, výpisy příkazů tyrkysově na fialové pozadí<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla dopreambule"><span title="Takto označený řádek patří do preambule zdrojového kódu či do záhlaví skriptu.">^</span>source &lt;(lkk --funkce)</div>
<div class="radekzaklinadla">PS1=&quot;\\[$(lkk_bezp_set setaf 1; lkk_bezp_set setab 2; tput el)\\]\$<span class="viditelnamezera">&nbsp;</span>&quot;</div>
<div class="radekzaklinadla">PS0=&quot;$(lkk_bezp_set setaf 6; lkk_bezp_set setab 5; tput el)&quot;</div>
</div></div>

<h2 id="cast6"><a href="#cast6"><span class="cislo">6.</span> Parametry příkazů</a></h2>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1100072153"><span><a href="#z1100072153">⢪</a></span></span>nastavit šablonu hlavní výzvy/připojit k ní další text (analogicky platí i pro ostatní výzvy)<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">PS1=&quot;<i class="dopln">text</i>&quot;</div>
<div class="radekzaklinadla">PS1+=&quot;<i class="dopln">další text</i>&quot;</div>
</div></div>
<p>
<i>Důležitá poznámka:</i> Aby mohl bash správně zformátovat hlavní a vedlejší výzvu (PS1 a PS2), potřebuje předem znát počet tisknutých znaků na každém řádku. Bohužel bash nerozumí escape sekvencím, proto mu musíte napovědět a tyto sekvence uzavřít do zvláštních závorek „\[“ a „\]“ (ve dvojitých uvozovkách se zadávají „\\[“ a „\\]“), které znamenají, že jejich obsah bash nemá při výpočtu šířky řádků vůbec zohledňovat. Tyto závorky se bohužel naopak nesmějí používat v proměnné PS0, tam by vypsaly škaredé paznaky na terminál. V ukázce a v některých zaklínadlech lze tento problém vyřešit tak, že místo přímého zadání příkazu tput použijete pomocnou funkci lkk_pstput.
</p>

<h2 id="cast7"><a href="#cast7"><span class="cislo">7.</span> Instalace na Ubuntu</a></h2>
<p class="ponadpisu">
Všechny použité součásti jsou základními nástroji přítomnými v každé instalaci Ubuntu.
</p>

<h2 id="cast8"><a href="#cast8"><span class="cislo">8.</span> Ukázka</a></h2>
<div class="zaklinadlo"><div class="radky">
<div class="radekzaklinadla">source &lt;(lkk --funkce)</div>
<div class="radekzaklinadla">PROMPT_COMMAND=&quot;navr_hodn=\$?;$PROMPT_COMMAND&quot;</div>
<div class="radekzaklinadla">PS1=&quot;\\[$(printf %s\\n &quot;$TERM&quot; | egrep -isq &quot;^(xterm|rxvt)&quot; &amp;&amp; printf &quot;\\e]2;%s\\a&quot; &quot;Bude příkaz č. \\#&quot;)\\]&quot;</div>
<div class="radekzaklinadla">PS1+=&quot;Tato $(lkk_pstput smul)výzva je $(lkk_pstput sitm)zbytečně$(lkk_pstput rmul) rozsáhlá, aby ukázala $(lkk_pstput bold)spoustu$(lkk_pstput sgr0) možností.\\n&quot;</div>
<div class="radekzaklinadla">PS1+=&quot;$(lkk_pstput dim)Velikost terminálu: \$(tput cols)x\$(tput lines) Volné místo: $(lkk_pstput smul)\$(df -h --output=avail . | tail -n 1 | tr -d \&quot; \&quot;)$(lkk_pstput sgr0)\\n&quot;</div>
<div class="radekzaklinadla">PS1+=&quot;Návr.kód:\\[\$(lkk_barvapronh \${navr_hodn})\\]\${navr_hodn}$(lkk_pstput sgr0)<span class="viditelnamezera">&nbsp;</span>(\\[$(lkk_bezp_set setaf 87 6)\\]\\t$(lkk_pstput sgr0)) !&quot;&quot;\\!<span class="viditelnamezera">&nbsp;</span>&quot;</div>
<div class="radekzaklinadla">PS1+=&quot;\\[$(lkk_bezp_set setaf 220 3; tput bold)\\]\\w$(lkk_pstput sgr0)<span class="viditelnamezera">&nbsp;</span>\\$<span class="viditelnamezera">&nbsp;</span>&quot;</div>
<div class="radekzaklinadla">PS2=&quot;\\[$(lkk_bezp_set setaf 10 2; tput bold)\\]|<span class="viditelnamezera">&nbsp;</span>$(lkk_pstput sgr0)&quot;</div>
</div></div>

<h2 id="cast9"><a href="#cast9"><span class="cislo">9.</span> Tipy a zkušenosti</a></h2>
<ul><li>Výchozí nastavení výzev se nachází v souboru „~/.bashrc“. Umístěním svých definic na konec tohoto souboru můžete výchozí nastavení přepsat. Změna se projeví při dalším spuštění bashe.
</li><li>Konstrukci proměnné PS1 je vhodné pro přehlednost rozdělit do více řádek, kdy první řádka bude přiřazení a na dalších použijete operátor += k připojení hodnoty ke stávající hodnotě.
</li><li>Tip: Před zkoušením nastavování barev a titulku terminálu si vypněte výzvu příkazem „PS1=&quot;&quot;“. Výchozí výzva obsahuje escape sekvence, které by kolidovaly s těmi, které se snažíte zadat a rušily by jejich účinek.
</li><li>Bash podporuje proměnnou „PROMPT_COMMAND“. Je-li nastavena, je vykonána jako příkaz těsně před vypsáním hlavní výzvy. Toho lze využít k nastavení proměnných, které pak ve výzvě použijeme. Proměnná PROMPT_COMMAND může obsahovat i více příkazů oddělených středníky. Podle manuálové stránky by příkazy uvedené v této proměnné neměly generovat žádný výstup na terminál! (Ale výstup do souboru je pravděpodobně v pořádku.)
</li></ul>
<h2 id="cast10"><a href="#cast10"><span class="cislo">10.</span> Další zdroje informací</a></h2>
<p class="ponadpisu">
Přehled syntaxe pro proměnné PS0, PS1 a PS2 najdete v sekci „PROMPTING“ v manuálové stránce „bash“ (anglicky).
</p><p>
Různé další tipy se dají najít v článku Bash/Prompt customization (anglicky).
</p>
<ul class="kompaktni"><li><a href="https://cs.wikipedia.org/wiki/ANSI_escape_k%C3%B3d">Wikipedie: ANSI escape kód</a>
</li><li><a href="https://wiki.archlinux.org/index.php/Bash/Prompt_customization">Bash/Prompt customization</a> (anglicky)
</li><li><a href="http://www.linuxcommand.org/lc3_adv_tput.php">Command tput</a> (anglicky)
</li><li><a href="https://en.wikipedia.org/wiki/ANSI_escape_code">Wikipedie: ANSI escape code</a> (anglicky)
</li><li><a href="http://www.calmar.ws/vim/256-xterm-24bit-rgb-color-chart.html">xterm-256 Color Chart</a> (anglicky)
</li><li><a href="http://manpages.ubuntu.com/manpages/bionic/en/man1/bash.1.html">Manuálová stránka: bash</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=iaXQdyHRL8M">Video: Customizing Your Terminal | Linux Terminal Beautification</a>
</li><li><a href="https://www.gnu.org/software/termutils/manual/termutils-2.0/html_chapter/tput_1.html">Oficiální příručka příkazu tput</a> (anglicky)
</li><li><a href="https://packages.ubuntu.com/bionic/ncurses-bin">Balíček Bionic: ncurses-bin</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=wOUYzKrGZaA">Video: Customize the Bash Prompt</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=C92eaq_bZR8">Video: Customize &amp; Colorize Your Bash Prompt/Terminal</a> (anglicky)
</li><li><a href="https://www.youtube.com/watch?v=N8pdAvIwj28">Video: Color Variables BASH Shell Script Linux Tutorial</a> (anglicky)
</li></ul>
<h2 id="cast11"><a href="#cast11"><span class="cislo">11.</span> Pomocné funkce</a></h2>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z936110830"><span><a href="#z936110830">⋎</a></span></span>lkk_bezp_set() – nastaví písmo či pozadí na první podporovanou barvu<span class="cislo">#1 </span></div><div class="radky">
<div class="radekzaklinadla">function lkk_bezp_set () {</div>
<div class="radekzaklinadla" style="padding-left:2ch;">local f=&quot;$1&quot; c=&quot;$(tput colors 2&gt;/dev/null || printf 0)&quot; x=&quot;&quot;</div>
<div class="radekzaklinadla" style="padding-left:2ch;">shift</div>
<div class="radekzaklinadla" style="padding-left:2ch;">for x in $@; do if test $x -lt $c; then tput $f $x; break; fi; done</div>
<div class="radekzaklinadla" style="padding-left:2ch;">return 0</div>
<div class="radekzaklinadla">}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1027333186"><span><a href="#z1027333186">↝</a></span></span>lkk_barvapronh() – nastaví barvu písma podle hodnoty parametru<span class="cislo">#2 </span></div><div class="radky">
<div class="radekzaklinadla">function lkk_barvapronh () {</div>
<div class="radekzaklinadla" style="padding-left:2ch;">test $1 -gt 0 &amp;&amp; tput bold</div>
<div class="radekzaklinadla" style="padding-left:2ch;">test $1 -eq 1 &amp;&amp; lkk_bezp_set setaf 1</div>
<div class="radekzaklinadla" style="padding-left:2ch;">test $1 -gt 1 &amp;&amp; lkk_bezp_set setaf 2</div>
<div class="radekzaklinadla">}</div>
</div></div>
<div class="zaklinadlo"><div class="zahlavi"><span class="ikona D" id="z1132868224"><span><a href="#z1132868224">⧺</a></span></span>lkk_pstput() – vypíše escape sekvenci uzavřenou pro použití v proměnných PS1 a PS2<span class="cislo">#3 </span></div><div class="radky">
<div class="radekzaklinadla">function lkk_pstput () {</div>
<div class="radekzaklinadla" style="padding-left:2ch;">printf \\[; tput &quot;$@&quot; &amp;&amp; printf \\]</div>
<div class="radekzaklinadla">}</div>
</div></div>

<h2 id="cast12"><a href="#cast12"><span class="cislo">12.</span> Snímek obrazovky</a></h2>
<figure><img src="obrazky/barvy.png" alt="snímek obrazovky"></figure><div class="ppc"><div id="kapbarvyatitulekppc1"><a href="#kapbarvyatitulekppcr1" class="cislopozn">1</a>&nbsp;Ve výchozím nastavení nastavuje titulek terminálu jeho hlavní výzva PS1. Proto ji musíte před experimentováním vypnout, např. příkazem „PS=&quot;&quot;“, jinak vám vaše nové nastavení hned přepíše a ani si toho nevšimnete.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapbarvyatitulekppc2"><a href="#kapbarvyatitulekppcr2" class="cislopozn">2</a>&nbsp;Funkce „lkk_bezp_set“ použije ze svých argumentů první podporované číslo barvy. Není-li žádné z uvedených čísel podporováno, žádná barva se nanastaví. Při volání doporučuji jako první uvést číslo pro paletu s 256 barvami a jako druhé číslo náhradní barvy z osmibarevné palety.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapbarvyatitulekppc3"><a href="#kapbarvyatitulekppcr3" class="cislopozn">3</a>&nbsp;Na některých terminálech je realizován jako inverzní text, na jiných jako tučné písmo.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapbarvyatitulekppc4"><a href="#kapbarvyatitulekppcr4" class="cislopozn">4</a>&nbsp;Používání blikajícího textu se výrazně nedoporučuje, protože je v různých terminálech málo a nejednotně podporován, má mnoho odpůrců a může uživateli způsobovat zdravotní potíže.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapbarvyatitulekppc5"><a href="#kapbarvyatitulekppcr5" class="cislopozn">5</a>&nbsp;Řádky a sloupce jsou číslovány od nuly od levého horního rohu terminálu.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapbarvyatitulekppc6"><a href="#kapbarvyatitulekppcr6" class="cislopozn">6</a>&nbsp;U druhé varianty (vyhodnotit při každém vypsání výzvy) musíte v příkazu odzvláštnit znaky &quot;, \, $ a !, aby se do příslušné proměnné uložil přesně tak, jak má být vykonán.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapbarvyatitulekppc7"><a href="#kapbarvyatitulekppcr7" class="cislopozn">7</a>&nbsp;Poznámka: Aby tento výraz fungoval, musíte do proměnné PROMPT_COMMAND (ideálně na začátek) přidat příkaz „navr_hodn=$?“, např. příkazem „PROMPT_COMMAND=&quot;navr_hodn=\$?;$PROMPT_COMMAND&quot;“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
<div id="kapbarvyatitulekppc8"><a href="#kapbarvyatitulekppcr8" class="cislopozn">8</a>&nbsp;Pro popis vlastního formátu viz „man strftime“ nebo kapitolu „Datum, čas a kalendář“.</div>
<script>document.write("<div class=\"zpetdotextu\" onclick=\"window.history.back()\">zpět do textu</div>");</script>
</div>


<nav class="spodni">
<a href="index.htm" class="naindex">🗐&nbsp;Přehled&nbsp;kapitol</a>
<div class="naslkap">
<a href="datum-cas-kalendar.htm" rel="next" title="4. Datum, čas a kalendář">Následující&nbsp;kapitola/dodatek:<br><span class="cislo">4</span>
<span class="nazev">Datum, čas a kalendář</span></a>
</div>
<!--<div><a href="index.htm">🗐&nbsp;Přehled&nbsp;kapitol</a></div>-->
<a href="#nahore" id="odkaznahoru" title="NAHORU − na začátek stránky">▴<!--⤒--></a>
<a href="#dole" id="odkazdolu" title="DOLŮ − na konec stránky">▾<!--⤓--></a>
</nav>


<div class="odkazydole"><div><a href="regularni-vyrazy.htm"><img src="obrazky/ik/regularni-vyrazy.png" alt="" width="32" height="32">Regulární výrazy</a><a href="soubory-a-adresare.htm"><img src="obrazky/ik/soubory-a-adresare.png" alt="" width="32" height="32">Soubory a adresáře</a><a href="planovani-uloh.htm"><img src="obrazky/ik/planovani-uloh.png" alt="" width="32" height="32">Plánování úloh</a></div></div>


</article>
<nav class="menu">
<!-- MENU KAPITOLY -->
<a href="#menukapitoly" id="menukapitoly"><span class="prvnipismeno">K</span>apitoly</a>
<aside class="menukapitoly">
<div><div class="nadpis">Kapitoly</div><div class="polozky">
<a href="predmluva.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/predmluva.png" alt="[]"></span><span class="cislo">1</span><span class="nazev">Předmluva</span></a>
<a href="awk.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/awk.png" alt="[]"></span><span class="cislo">2</span><span class="nazev">AWK</span></a>
<a href="barvy-a-titulek.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/barvy-a-titulek.png" alt="[]"></span><span class="cislo">3</span><span class="nazev">Barvy, titulek a výzva terminálu</span></a>
<a href="datum-cas-kalendar.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/datum-cas-kalendar.png" alt="[]"></span><span class="cislo">4</span><span class="nazev">Datum, čas a kalendář</span></a>
<a href="diskove-oddily.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/diskove-oddily.png" alt="[]"></span><span class="cislo">5</span><span class="nazev">Diskové oddíly</span></a>
<a href="docker.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/docker.png" alt="[]"></span><span class="cislo">6</span><span class="nazev">Docker</span></a>
<a href="git.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/git.png" alt="[]"></span><span class="cislo">7</span><span class="nazev">Git</span></a>
<a href="hledani-souboru.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/hledani-souboru.png" alt="[]"></span><span class="cislo">8</span><span class="nazev">Hledání souborů</span></a>
<a href="make.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/make.png" alt="[]"></span><span class="cislo">9</span><span class="nazev">Make</span></a>
<a href="markdown.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/markdown.png" alt="[]"></span><span class="cislo">10</span><span class="nazev">Markdown</span></a>
<a href="planovani-uloh.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/planovani-uloh.png" alt="[]"></span><span class="cislo">11</span><span class="nazev">Plánování úloh</span></a>
<a href="prace-s-archivy.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/prace-s-archivy.png" alt="[]"></span><span class="cislo">12</span><span class="nazev">Práce s archivy</span></a>
<a href="regularni-vyrazy.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/regularni-vyrazy.png" alt="[]"></span><span class="cislo">13</span><span class="nazev">Regulární výrazy</span></a>
<a href="sed.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sed.png" alt="[]"></span><span class="cislo">14</span><span class="nazev">Sed</span></a>
<a href="soubory-a-adresare.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/soubory-a-adresare.png" alt="[]"></span><span class="cislo">15</span><span class="nazev">Soubory a adresáře</span></a>
<a href="sprava-balicku.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-balicku.png" alt="[]"></span><span class="cislo">16</span><span class="nazev">Správa balíčků</span></a>
<a href="sprava-procesu.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/sprava-procesu.png" alt="[]"></span><span class="cislo">17</span><span class="nazev">Správa procesů</span></a>
<a href="stahovani-videi.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/stahovani-videi.png" alt="[]"></span><span class="cislo">18</span><span class="nazev">Stahování videí</span></a>
<a href="system.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/system.png" alt="[]"></span><span class="cislo">19</span><span class="nazev">Systém</span></a>
<a href="vim.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/vim.png" alt="[]"></span><span class="cislo">20</span><span class="nazev">Vim</span></a>
<a href="zpracovani-textovych-souboru.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/zpracovani-textovych-souboru.png" alt="[]"></span><span class="cislo">21</span><span class="nazev">Zpracování textových souborů</span></a>
<a href="zpracovani-videa-a-zvuku.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/zpracovani-videa-a-zvuku.png" alt="[]"></span><span class="cislo">22</span><span class="nazev">Zpracování videa a zvuku</span></a>
<a href="koncepce-projektu.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik/koncepce-projektu.png" alt="[]"></span><span class="cislo">23</span><span class="nazev">Koncepce projektu Linux: Kniha kouzel</span></a>
<a href="plan-vyvoje.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik-vychozi.png" alt="[]"></span><span class="cislo">24</span><span class="nazev">Plán budoucího vývoje</span></a>
<a href="licence.htm" class="kapitola"><span class="ikona"><img src="obrazky/ik-vychozi.png" alt="[]"></span><span class="cislo">25</span><span class="nazev">Licence</span></a>
</div></div>
<a href="#zavritmenu" id="zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU OSNOVA -->
<a href="#menuosnova" id="menuosnova"><span class="prvnipismeno">O</span>snova</a>
<aside class="menuosnova">
<div><div class="nadpis">Osnova</div><div class="polozky">
<a href="#cast1" class="sekce">1 Úvod</a>
<a href="#cast2" class="sekce">2 Definice</a>
<a href="#cast3" class="sekce">3 Zaklínadla</a>
<a href="#cast3x1" class="podsekce">/1 Titulek</a>
<a href="#cast3x2" class="podsekce">/2 Barvy</a>
<a href="#cast3x3" class="podsekce">/3 Nastavení písma</a>
<a href="#cast3x4" class="podsekce">/4 Zjistit údaje o terminálu</a>
<a href="#cast3x5" class="podsekce">/5 Ovládání kurzoru</a>
<a href="#cast3x6" class="podsekce">/6 Mazání obrazovky</a>
<a href="#cast4" class="sekce">4 Zaklínadla (PS0, PS1 a PS2)</a>
<a href="#cast4x1" class="podsekce">/1 Častá</a>
<a href="#cast4x2" class="podsekce">/2 Méně častá</a>
<a href="#cast5" class="sekce">5 Zaklínadla (příklady)</a>
<a href="#cast6" class="sekce">6 Parametry příkazů</a>
<a href="#cast7" class="sekce">7 Instalace na Ubuntu</a>
<a href="#cast8" class="sekce">8 Ukázka</a>
<a href="#cast9" class="sekce">9 Tipy a zkušenosti</a>
<a href="#cast10" class="sekce">10 Další zdroje informací</a>
<a href="#cast11" class="sekce">11 Pomocné funkce</a>
<a href="#cast12" class="sekce">12 Snímek obrazovky</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU ŠTÍTKY -->
<a href="#menustitky" id="menustitky"><span class="prvnipismeno">Š</span>títky</a>
<aside class="menustitky">
<div><div class="nadpis">Štítky</div><div class="polozky">
<a href="x-stitky.htm#sdrese">adresáře&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#spt">apt&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sbrvy">barvy&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sbsh">bash&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#scs">čas&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#sdmoni">démoni&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#seditor">editor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sfltpk">Flatpak&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#shledn">hledání&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sinternet">internet&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sklvesnice">klávesnice&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#skomprese">komprese&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#skontejnery">kontejnery&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#slvm">LVM&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sodkldcprostor">odkládací prostor&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sovldn">ovládání&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sprocesy">procesy&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#sprogrm">program&nbsp;&nbsp;(6)</a>
<a href="x-stitky.htm#sprogrmovn">programování&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#spstupovprv">přístupová práva&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#srmdisk">ramdisk&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssnp">Snap&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssoubory">soubory&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssprvverz">správa verzí&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#ssyntxe">syntaxe&nbsp;&nbsp;(4)</a>
<a href="x-stitky.htm#ssystm">systém&nbsp;&nbsp;(4)</a>
<a href="x-stitky.htm#stemtickokruh">tematický okruh&nbsp;&nbsp;(13)</a>
<a href="x-stitky.htm#svideo">video&nbsp;&nbsp;(2)</a>
<a href="x-stitky.htm#svirtulizce">virtualizace&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szip">zip&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szprcovntextovchs">zpracování textových souborů&nbsp;&nbsp;(1)</a>
<a href="x-stitky.htm#szprcovntextu">zpracování textu&nbsp;&nbsp;(3)</a>
<a href="x-stitky.htm#szvuk">zvuk&nbsp;&nbsp;(1)</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>
<!-- MENU NÁPOVĚDA -->
<a href="#menunapoveda" id="menunapoveda"><span class="prvnipismeno">N</span>ápověda</a>
<aside class="menunapoveda">
<div><div class="nadpis">Nápověda</div><div class="polozky">
<a href="predmluva.htm">Předmluva</a>
<a href="koncepce-projektu.htm">Koncepce projektu</a>
<a href="https://singularis-mzf.github.io/">Ostatní verze knihy</a>
<a href="https://github.com/singularis-mzf/linux-spellbook">Repozitář na GitHubu</a>
</div></div>
<a href="#zavritmenu" class="zavritmenu">Zavřít&nbsp;menu</a>
</aside>

</nav>
<!-- *** -->
<footer id="dole">
<img src="obrazky/by-sa.png" width="88" height="31" alt="[BY-SA]">
<p>Veškerý obsah této stránky (text, obrázky, zdrojový kód) je možno upravovat a šířit pod podmínkami licence
<a href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International</a>.
Upozorňuji, že uvedená licence vyžaduje uvedení seznamu autorů, licence a zdroje a poskytnutí stejné
či kompatibilní licence k provedeným změnám, jsou-li nějaké. Příslušné údaje jsou dostupné
na stránce „<a href="x-autori.htm">Přehled autorů</a>“.
Šíření obsahu bez těchto údajů nebo šíření upravené verze bez poskytnutí adekvátní
licence k provedeným úpravám je pravděpodobně porušení licenčních podmínek a může být postihováno.
Poskytování zdrojového kódu při šíření není touto licencí vyžadováno.</p><p>Pro nové verze, další informace, aktuální zdrojový kód
a možnost se zapojit do projektu „Linux: Kniha kouzel“ navštivte jeho
<a href="https://github.com/singularis-mzf/linux-spellbook">repozitář na GitHubu</a>.
</footer>
</body>
</html>
